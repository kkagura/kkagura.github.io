var Cl=Object.defineProperty;var Tl=(t,s,e)=>s in t?Cl(t,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[s]=e;var p=(t,s,e)=>(Tl(t,typeof s!="symbol"?s+"":s,e),e);(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}})();function _i(t,s){const e=Object.create(null),n=t.split(",");for(let i=0;i<n.length;i++)e[n[i]]=!0;return s?i=>!!e[i.toLowerCase()]:i=>!!e[i]}const nt={},Se=[],Dt=()=>{},_l=()=>!1,xl=/^on[^a-z]/,Js=t=>xl.test(t),xi=t=>t.startsWith("onUpdate:"),ft=Object.assign,Mi=(t,s)=>{const e=t.indexOf(s);e>-1&&t.splice(e,1)},Ml=Object.prototype.hasOwnProperty,X=(t,s)=>Ml.call(t,s),z=Array.isArray,Ae=t=>Qs(t)==="[object Map]",or=t=>Qs(t)==="[object Set]",W=t=>typeof t=="function",ht=t=>typeof t=="string",Ei=t=>typeof t=="symbol",ot=t=>t!==null&&typeof t=="object",rr=t=>ot(t)&&W(t.then)&&W(t.catch),lr=Object.prototype.toString,Qs=t=>lr.call(t),El=t=>Qs(t).slice(8,-1),ar=t=>Qs(t)==="[object Object]",Pi=t=>ht(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Os=_i(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),tn=t=>{const s=Object.create(null);return e=>s[e]||(s[e]=t(e))},Pl=/-(\w)/g,Vt=tn(t=>t.replace(Pl,(s,e)=>e?e.toUpperCase():"")),Ol=/\B([A-Z])/g,Be=tn(t=>t.replace(Ol,"-$1").toLowerCase()),en=tn(t=>t.charAt(0).toUpperCase()+t.slice(1)),Rs=tn(t=>t?`on${en(t)}`:""),os=(t,s)=>!Object.is(t,s),vn=(t,s)=>{for(let e=0;e<t.length;e++)t[e](s)},Ss=(t,s,e)=>{Object.defineProperty(t,s,{configurable:!0,enumerable:!1,value:e})},Rl=t=>{const s=parseFloat(t);return isNaN(s)?t:s},Il=t=>{const s=ht(t)?Number(t):NaN;return isNaN(s)?t:s};let ao;const Fn=()=>ao||(ao=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function sn(t){if(z(t)){const s={};for(let e=0;e<t.length;e++){const n=t[e],i=ht(n)?Hl(n):sn(n);if(i)for(const o in i)s[o]=i[o]}return s}else{if(ht(t))return t;if(ot(t))return t}}const Sl=/;(?![^(]*\))/g,Al=/:([^]+)/,Ll=/\/\*[^]*?\*\//g;function Hl(t){const s={};return t.replace(Ll,"").split(Sl).forEach(e=>{if(e){const n=e.split(Al);n.length>1&&(s[n[0].trim()]=n[1].trim())}}),s}function vt(t){let s="";if(ht(t))s=t;else if(z(t))for(let e=0;e<t.length;e++){const n=vt(t[e]);n&&(s+=n+" ")}else if(ot(t))for(const e in t)t[e]&&(s+=e+" ");return s.trim()}const $l="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Dl=_i($l);function cr(t){return!!t||t===""}const Fl=t=>ht(t)?t:t==null?"":z(t)||ot(t)&&(t.toString===lr||!W(t.toString))?JSON.stringify(t,hr,2):String(t),hr=(t,s)=>s&&s.__v_isRef?hr(t,s.value):Ae(s)?{[`Map(${s.size})`]:[...s.entries()].reduce((e,[n,i])=>(e[`${n} =>`]=i,e),{})}:or(s)?{[`Set(${s.size})`]:[...s.values()]}:ot(s)&&!z(s)&&!ar(s)?String(s):s;let Lt;class Bl{constructor(s=!1){this.detached=s,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Lt,!s&&Lt&&(this.index=(Lt.scopes||(Lt.scopes=[])).push(this)-1)}get active(){return this._active}run(s){if(this._active){const e=Lt;try{return Lt=this,s()}finally{Lt=e}}}on(){Lt=this}off(){Lt=this.parent}stop(s){if(this._active){let e,n;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].stop();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!s){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function zl(t,s=Lt){s&&s.active&&s.effects.push(t)}function kl(){return Lt}const Oi=t=>{const s=new Set(t);return s.w=0,s.n=0,s},ur=t=>(t.w&oe)>0,fr=t=>(t.n&oe)>0,Nl=({deps:t})=>{if(t.length)for(let s=0;s<t.length;s++)t[s].w|=oe},Wl=t=>{const{deps:s}=t;if(s.length){let e=0;for(let n=0;n<s.length;n++){const i=s[n];ur(i)&&!fr(i)?i.delete(t):s[e++]=i,i.w&=~oe,i.n&=~oe}s.length=e}},Bn=new WeakMap;let Ze=0,oe=1;const zn=30;let Ht;const we=Symbol(""),kn=Symbol("");class Ri{constructor(s,e=null,n){this.fn=s,this.scheduler=e,this.active=!0,this.deps=[],this.parent=void 0,zl(this,n)}run(){if(!this.active)return this.fn();let s=Ht,e=ne;for(;s;){if(s===this)return;s=s.parent}try{return this.parent=Ht,Ht=this,ne=!0,oe=1<<++Ze,Ze<=zn?Nl(this):co(this),this.fn()}finally{Ze<=zn&&Wl(this),oe=1<<--Ze,Ht=this.parent,ne=e,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ht===this?this.deferStop=!0:this.active&&(co(this),this.onStop&&this.onStop(),this.active=!1)}}function co(t){const{deps:s}=t;if(s.length){for(let e=0;e<s.length;e++)s[e].delete(t);s.length=0}}let ne=!0;const dr=[];function ze(){dr.push(ne),ne=!1}function ke(){const t=dr.pop();ne=t===void 0?!0:t}function Et(t,s,e){if(ne&&Ht){let n=Bn.get(t);n||Bn.set(t,n=new Map);let i=n.get(e);i||n.set(e,i=Oi()),gr(i)}}function gr(t,s){let e=!1;Ze<=zn?fr(t)||(t.n|=oe,e=!ur(t)):e=!t.has(Ht),e&&(t.add(Ht),Ht.deps.push(t))}function Zt(t,s,e,n,i,o){const r=Bn.get(t);if(!r)return;let l=[];if(s==="clear")l=[...r.values()];else if(e==="length"&&z(t)){const a=Number(n);r.forEach((c,h)=>{(h==="length"||h>=a)&&l.push(c)})}else switch(e!==void 0&&l.push(r.get(e)),s){case"add":z(t)?Pi(e)&&l.push(r.get("length")):(l.push(r.get(we)),Ae(t)&&l.push(r.get(kn)));break;case"delete":z(t)||(l.push(r.get(we)),Ae(t)&&l.push(r.get(kn)));break;case"set":Ae(t)&&l.push(r.get(we));break}if(l.length===1)l[0]&&Nn(l[0]);else{const a=[];for(const c of l)c&&a.push(...c);Nn(Oi(a))}}function Nn(t,s){const e=z(t)?t:[...t];for(const n of e)n.computed&&ho(n);for(const n of e)n.computed||ho(n)}function ho(t,s){(t!==Ht||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const Ul=_i("__proto__,__v_isRef,__isVue"),pr=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ei)),Yl=Ii(),Vl=Ii(!1,!0),Xl=Ii(!0),uo=Gl();function Gl(){const t={};return["includes","indexOf","lastIndexOf"].forEach(s=>{t[s]=function(...e){const n=G(this);for(let o=0,r=this.length;o<r;o++)Et(n,"get",o+"");const i=n[s](...e);return i===-1||i===!1?n[s](...e.map(G)):i}}),["push","pop","shift","unshift","splice"].forEach(s=>{t[s]=function(...e){ze();const n=G(this)[s].apply(this,e);return ke(),n}}),t}function ql(t){const s=G(this);return Et(s,"has",t),s.hasOwnProperty(t)}function Ii(t=!1,s=!1){return function(n,i,o){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return s;if(i==="__v_raw"&&o===(t?s?ha:br:s?vr:wr).get(n))return n;const r=z(n);if(!t){if(r&&X(uo,i))return Reflect.get(uo,i,o);if(i==="hasOwnProperty")return ql}const l=Reflect.get(n,i,o);return(Ei(i)?pr.has(i):Ul(i))||(t||Et(n,"get",i),s)?l:Ct(l)?r&&Pi(i)?l:l.value:ot(l)?t?Cr(l):on(l):l}}const Kl=mr(),Zl=mr(!0);function mr(t=!1){return function(e,n,i,o){let r=e[n];if($e(r)&&Ct(r)&&!Ct(i))return!1;if(!t&&(!As(i)&&!$e(i)&&(r=G(r),i=G(i)),!z(e)&&Ct(r)&&!Ct(i)))return r.value=i,!0;const l=z(e)&&Pi(n)?Number(n)<e.length:X(e,n),a=Reflect.set(e,n,i,o);return e===G(o)&&(l?os(i,r)&&Zt(e,"set",n,i):Zt(e,"add",n,i)),a}}function jl(t,s){const e=X(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&e&&Zt(t,"delete",s,void 0),n}function Jl(t,s){const e=Reflect.has(t,s);return(!Ei(s)||!pr.has(s))&&Et(t,"has",s),e}function Ql(t){return Et(t,"iterate",z(t)?"length":we),Reflect.ownKeys(t)}const yr={get:Yl,set:Kl,deleteProperty:jl,has:Jl,ownKeys:Ql},ta={get:Xl,set(t,s){return!0},deleteProperty(t,s){return!0}},ea=ft({},yr,{get:Vl,set:Zl}),Si=t=>t,nn=t=>Reflect.getPrototypeOf(t);function ws(t,s,e=!1,n=!1){t=t.__v_raw;const i=G(t),o=G(s);e||(s!==o&&Et(i,"get",s),Et(i,"get",o));const{has:r}=nn(i),l=n?Si:e?Hi:rs;if(r.call(i,s))return l(t.get(s));if(r.call(i,o))return l(t.get(o));t!==i&&t.get(s)}function vs(t,s=!1){const e=this.__v_raw,n=G(e),i=G(t);return s||(t!==i&&Et(n,"has",t),Et(n,"has",i)),t===i?e.has(t):e.has(t)||e.has(i)}function bs(t,s=!1){return t=t.__v_raw,!s&&Et(G(t),"iterate",we),Reflect.get(t,"size",t)}function fo(t){t=G(t);const s=G(this);return nn(s).has.call(s,t)||(s.add(t),Zt(s,"add",t,t)),this}function go(t,s){s=G(s);const e=G(this),{has:n,get:i}=nn(e);let o=n.call(e,t);o||(t=G(t),o=n.call(e,t));const r=i.call(e,t);return e.set(t,s),o?os(s,r)&&Zt(e,"set",t,s):Zt(e,"add",t,s),this}function po(t){const s=G(this),{has:e,get:n}=nn(s);let i=e.call(s,t);i||(t=G(t),i=e.call(s,t)),n&&n.call(s,t);const o=s.delete(t);return i&&Zt(s,"delete",t,void 0),o}function mo(){const t=G(this),s=t.size!==0,e=t.clear();return s&&Zt(t,"clear",void 0,void 0),e}function Cs(t,s){return function(n,i){const o=this,r=o.__v_raw,l=G(r),a=s?Si:t?Hi:rs;return!t&&Et(l,"iterate",we),r.forEach((c,h)=>n.call(i,a(c),a(h),o))}}function Ts(t,s,e){return function(...n){const i=this.__v_raw,o=G(i),r=Ae(o),l=t==="entries"||t===Symbol.iterator&&r,a=t==="keys"&&r,c=i[t](...n),h=e?Si:s?Hi:rs;return!s&&Et(o,"iterate",a?kn:we),{next(){const{value:g,done:f}=c.next();return f?{value:g,done:f}:{value:l?[h(g[0]),h(g[1])]:h(g),done:f}},[Symbol.iterator](){return this}}}}function Jt(t){return function(...s){return t==="delete"?!1:this}}function sa(){const t={get(o){return ws(this,o)},get size(){return bs(this)},has:vs,add:fo,set:go,delete:po,clear:mo,forEach:Cs(!1,!1)},s={get(o){return ws(this,o,!1,!0)},get size(){return bs(this)},has:vs,add:fo,set:go,delete:po,clear:mo,forEach:Cs(!1,!0)},e={get(o){return ws(this,o,!0)},get size(){return bs(this,!0)},has(o){return vs.call(this,o,!0)},add:Jt("add"),set:Jt("set"),delete:Jt("delete"),clear:Jt("clear"),forEach:Cs(!0,!1)},n={get(o){return ws(this,o,!0,!0)},get size(){return bs(this,!0)},has(o){return vs.call(this,o,!0)},add:Jt("add"),set:Jt("set"),delete:Jt("delete"),clear:Jt("clear"),forEach:Cs(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=Ts(o,!1,!1),e[o]=Ts(o,!0,!1),s[o]=Ts(o,!1,!0),n[o]=Ts(o,!0,!0)}),[t,e,s,n]}const[na,ia,oa,ra]=sa();function Ai(t,s){const e=s?t?ra:oa:t?ia:na;return(n,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?n:Reflect.get(X(e,i)&&i in n?e:n,i,o)}const la={get:Ai(!1,!1)},aa={get:Ai(!1,!0)},ca={get:Ai(!0,!1)},wr=new WeakMap,vr=new WeakMap,br=new WeakMap,ha=new WeakMap;function ua(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function fa(t){return t.__v_skip||!Object.isExtensible(t)?0:ua(El(t))}function on(t){return $e(t)?t:Li(t,!1,yr,la,wr)}function da(t){return Li(t,!1,ea,aa,vr)}function Cr(t){return Li(t,!0,ta,ca,br)}function Li(t,s,e,n,i){if(!ot(t)||t.__v_raw&&!(s&&t.__v_isReactive))return t;const o=i.get(t);if(o)return o;const r=fa(t);if(r===0)return t;const l=new Proxy(t,r===2?n:e);return i.set(t,l),l}function Le(t){return $e(t)?Le(t.__v_raw):!!(t&&t.__v_isReactive)}function $e(t){return!!(t&&t.__v_isReadonly)}function As(t){return!!(t&&t.__v_isShallow)}function Tr(t){return Le(t)||$e(t)}function G(t){const s=t&&t.__v_raw;return s?G(s):t}function rn(t){return Ss(t,"__v_skip",!0),t}const rs=t=>ot(t)?on(t):t,Hi=t=>ot(t)?Cr(t):t;function _r(t){ne&&Ht&&(t=G(t),gr(t.dep||(t.dep=Oi())))}function xr(t,s){t=G(t);const e=t.dep;e&&Nn(e)}function Ct(t){return!!(t&&t.__v_isRef===!0)}function ls(t){return Mr(t,!1)}function yo(t){return Mr(t,!0)}function Mr(t,s){return Ct(t)?t:new ga(t,s)}class ga{constructor(s,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?s:G(s),this._value=e?s:rs(s)}get value(){return _r(this),this._value}set value(s){const e=this.__v_isShallow||As(s)||$e(s);s=e?s:G(s),os(s,this._rawValue)&&(this._rawValue=s,this._value=e?s:rs(s),xr(this))}}function ct(t){return Ct(t)?t.value:t}const pa={get:(t,s,e)=>ct(Reflect.get(t,s,e)),set:(t,s,e,n)=>{const i=t[s];return Ct(i)&&!Ct(e)?(i.value=e,!0):Reflect.set(t,s,e,n)}};function Er(t){return Le(t)?t:new Proxy(t,pa)}class ma{constructor(s,e,n,i){this._setter=e,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Ri(s,()=>{this._dirty||(this._dirty=!0,xr(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const s=G(this);return _r(s),(s._dirty||!s._cacheable)&&(s._dirty=!1,s._value=s.effect.run()),s._value}set value(s){this._setter(s)}}function ya(t,s,e=!1){let n,i;const o=W(t);return o?(n=t,i=Dt):(n=t.get,i=t.set),new ma(n,i,o||!i,e)}function ie(t,s,e,n){let i;try{i=n?t(...n):t()}catch(o){ln(o,s,e)}return i}function It(t,s,e,n){if(W(t)){const o=ie(t,s,e,n);return o&&rr(o)&&o.catch(r=>{ln(r,s,e)}),o}const i=[];for(let o=0;o<t.length;o++)i.push(It(t[o],s,e,n));return i}function ln(t,s,e,n=!0){const i=s?s.vnode:null;if(s){let o=s.parent;const r=s.proxy,l=e;for(;o;){const c=o.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,r,l)===!1)return}o=o.parent}const a=s.appContext.config.errorHandler;if(a){ie(a,null,10,[t,r,l]);return}}wa(t,e,i,n)}function wa(t,s,e,n=!0){console.error(t)}let as=!1,Wn=!1;const bt=[];let Yt=0;const He=[];let qt=null,ge=0;const Pr=Promise.resolve();let $i=null;function va(t){const s=$i||Pr;return t?s.then(this?t.bind(this):t):s}function ba(t){let s=Yt+1,e=bt.length;for(;s<e;){const n=s+e>>>1;cs(bt[n])<t?s=n+1:e=n}return s}function Di(t){(!bt.length||!bt.includes(t,as&&t.allowRecurse?Yt+1:Yt))&&(t.id==null?bt.push(t):bt.splice(ba(t.id),0,t),Or())}function Or(){!as&&!Wn&&(Wn=!0,$i=Pr.then(Ir))}function Ca(t){const s=bt.indexOf(t);s>Yt&&bt.splice(s,1)}function Ta(t){z(t)?He.push(...t):(!qt||!qt.includes(t,t.allowRecurse?ge+1:ge))&&He.push(t),Or()}function wo(t,s=as?Yt+1:0){for(;s<bt.length;s++){const e=bt[s];e&&e.pre&&(bt.splice(s,1),s--,e())}}function Rr(t){if(He.length){const s=[...new Set(He)];if(He.length=0,qt){qt.push(...s);return}for(qt=s,qt.sort((e,n)=>cs(e)-cs(n)),ge=0;ge<qt.length;ge++)qt[ge]();qt=null,ge=0}}const cs=t=>t.id==null?1/0:t.id,_a=(t,s)=>{const e=cs(t)-cs(s);if(e===0){if(t.pre&&!s.pre)return-1;if(s.pre&&!t.pre)return 1}return e};function Ir(t){Wn=!1,as=!0,bt.sort(_a);const s=Dt;try{for(Yt=0;Yt<bt.length;Yt++){const e=bt[Yt];e&&e.active!==!1&&ie(e,null,14)}}finally{Yt=0,bt.length=0,Rr(),as=!1,$i=null,(bt.length||He.length)&&Ir()}}function xa(t,s,...e){if(t.isUnmounted)return;const n=t.vnode.props||nt;let i=e;const o=s.startsWith("update:"),r=o&&s.slice(7);if(r&&r in n){const h=`${r==="modelValue"?"model":r}Modifiers`,{number:g,trim:f}=n[h]||nt;f&&(i=e.map(m=>ht(m)?m.trim():m)),g&&(i=e.map(Rl))}let l,a=n[l=Rs(s)]||n[l=Rs(Vt(s))];!a&&o&&(a=n[l=Rs(Be(s))]),a&&It(a,t,6,i);const c=n[l+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,It(c,t,6,i)}}function Sr(t,s,e=!1){const n=s.emitsCache,i=n.get(t);if(i!==void 0)return i;const o=t.emits;let r={},l=!1;if(!W(t)){const a=c=>{const h=Sr(c,s,!0);h&&(l=!0,ft(r,h))};!e&&s.mixins.length&&s.mixins.forEach(a),t.extends&&a(t.extends),t.mixins&&t.mixins.forEach(a)}return!o&&!l?(ot(t)&&n.set(t,null),null):(z(o)?o.forEach(a=>r[a]=null):ft(r,o),ot(t)&&n.set(t,r),r)}function an(t,s){return!t||!Js(s)?!1:(s=s.slice(2).replace(/Once$/,""),X(t,s[0].toLowerCase()+s.slice(1))||X(t,Be(s))||X(t,s))}let wt=null,Ar=null;function Ls(t){const s=wt;return wt=t,Ar=t&&t.type.__scopeId||null,s}function cn(t,s=wt,e){if(!s||t._n)return t;const n=(...i)=>{n._d&&So(-1);const o=Ls(s);let r;try{r=t(...i)}finally{Ls(o),n._d&&So(1)}return r};return n._n=!0,n._c=!0,n._d=!0,n}function bn(t){const{type:s,vnode:e,proxy:n,withProxy:i,props:o,propsOptions:[r],slots:l,attrs:a,emit:c,render:h,renderCache:g,data:f,setupState:m,ctx:C,inheritAttrs:w}=t;let S,R;const L=Ls(t);try{if(e.shapeFlag&4){const M=i||n;S=Ut(h.call(M,M,g,o,m,f,C)),R=a}else{const M=s;S=Ut(M.length>1?M(o,{attrs:a,slots:l,emit:c}):M(o,null)),R=s.props?a:Ma(a)}}catch(M){ns.length=0,ln(M,t,1),S=gt(St)}let k=S;if(R&&w!==!1){const M=Object.keys(R),{shapeFlag:H}=k;M.length&&H&7&&(r&&M.some(xi)&&(R=Ea(R,r)),k=re(k,R))}return e.dirs&&(k=re(k),k.dirs=k.dirs?k.dirs.concat(e.dirs):e.dirs),e.transition&&(k.transition=e.transition),S=k,Ls(L),S}const Ma=t=>{let s;for(const e in t)(e==="class"||e==="style"||Js(e))&&((s||(s={}))[e]=t[e]);return s},Ea=(t,s)=>{const e={};for(const n in t)(!xi(n)||!(n.slice(9)in s))&&(e[n]=t[n]);return e};function Pa(t,s,e){const{props:n,children:i,component:o}=t,{props:r,children:l,patchFlag:a}=s,c=o.emitsOptions;if(s.dirs||s.transition)return!0;if(e&&a>=0){if(a&1024)return!0;if(a&16)return n?vo(n,r,c):!!r;if(a&8){const h=s.dynamicProps;for(let g=0;g<h.length;g++){const f=h[g];if(r[f]!==n[f]&&!an(c,f))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:n===r?!1:n?r?vo(n,r,c):!0:!!r;return!1}function vo(t,s,e){const n=Object.keys(s);if(n.length!==Object.keys(t).length)return!0;for(let i=0;i<n.length;i++){const o=n[i];if(s[o]!==t[o]&&!an(e,o))return!0}return!1}function Oa({vnode:t,parent:s},e){for(;s&&s.subTree===t;)(t=s.vnode).el=e,s=s.parent}const Ra=t=>t.__isSuspense;function Ia(t,s){s&&s.pendingBranch?z(t)?s.effects.push(...t):s.effects.push(t):Ta(t)}const _s={};function Cn(t,s,e){return Lr(t,s,e)}function Lr(t,s,{immediate:e,deep:n,flush:i,onTrack:o,onTrigger:r}=nt){var l;const a=kl()===((l=mt)==null?void 0:l.scope)?mt:null;let c,h=!1,g=!1;if(Ct(t)?(c=()=>t.value,h=As(t)):Le(t)?(c=()=>t,n=!0):z(t)?(g=!0,h=t.some(M=>Le(M)||As(M)),c=()=>t.map(M=>{if(Ct(M))return M.value;if(Le(M))return ye(M);if(W(M))return ie(M,a,2)})):W(t)?s?c=()=>ie(t,a,2):c=()=>{if(!(a&&a.isUnmounted))return f&&f(),It(t,a,3,[m])}:c=Dt,s&&n){const M=c;c=()=>ye(M())}let f,m=M=>{f=L.onStop=()=>{ie(M,a,4)}},C;if(us)if(m=Dt,s?e&&It(s,a,3,[c(),g?[]:void 0,m]):c(),i==="sync"){const M=Ac();C=M.__watcherHandles||(M.__watcherHandles=[])}else return Dt;let w=g?new Array(t.length).fill(_s):_s;const S=()=>{if(L.active)if(s){const M=L.run();(n||h||(g?M.some((H,Z)=>os(H,w[Z])):os(M,w)))&&(f&&f(),It(s,a,3,[M,w===_s?void 0:g&&w[0]===_s?[]:w,m]),w=M)}else L.run()};S.allowRecurse=!!s;let R;i==="sync"?R=S:i==="post"?R=()=>Mt(S,a&&a.suspense):(S.pre=!0,a&&(S.id=a.uid),R=()=>Di(S));const L=new Ri(c,R);s?e?S():w=L.run():i==="post"?Mt(L.run.bind(L),a&&a.suspense):L.run();const k=()=>{L.stop(),a&&a.scope&&Mi(a.scope.effects,L)};return C&&C.push(k),k}function Sa(t,s,e){const n=this.proxy,i=ht(t)?t.includes(".")?Hr(n,t):()=>n[t]:t.bind(n,n);let o;W(s)?o=s:(o=s.handler,e=s);const r=mt;De(this);const l=Lr(i,o.bind(n),e);return r?De(r):ve(),l}function Hr(t,s){const e=s.split(".");return()=>{let n=t;for(let i=0;i<e.length&&n;i++)n=n[e[i]];return n}}function ye(t,s){if(!ot(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),Ct(t))ye(t.value,s);else if(z(t))for(let e=0;e<t.length;e++)ye(t[e],s);else if(or(t)||Ae(t))t.forEach(e=>{ye(e,s)});else if(ar(t))for(const e in t)ye(t[e],s);return t}function Aa(t,s){const e=wt;if(e===null)return t;const n=gn(e)||e.proxy,i=t.dirs||(t.dirs=[]);for(let o=0;o<s.length;o++){let[r,l,a,c=nt]=s[o];r&&(W(r)&&(r={mounted:r,updated:r}),r.deep&&ye(l),i.push({dir:r,instance:n,value:l,oldValue:void 0,arg:a,modifiers:c}))}return t}function ce(t,s,e,n){const i=t.dirs,o=s&&s.dirs;for(let r=0;r<i.length;r++){const l=i[r];o&&(l.oldValue=o[r].value);let a=l.dir[n];a&&(ze(),It(a,e,8,[t.el,l,t,s]),ke())}}function La(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Fi(()=>{t.isMounted=!0}),Bi(()=>{t.isUnmounting=!0}),t}const Rt=[Function,Array],$r={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Rt,onEnter:Rt,onAfterEnter:Rt,onEnterCancelled:Rt,onBeforeLeave:Rt,onLeave:Rt,onAfterLeave:Rt,onLeaveCancelled:Rt,onBeforeAppear:Rt,onAppear:Rt,onAfterAppear:Rt,onAppearCancelled:Rt},Ha={name:"BaseTransition",props:$r,setup(t,{slots:s}){const e=Tc(),n=La();let i;return()=>{const o=s.default&&Fr(s.default(),!0);if(!o||!o.length)return;let r=o[0];if(o.length>1){for(const w of o)if(w.type!==St){r=w;break}}const l=G(t),{mode:a}=l;if(n.isLeaving)return Tn(r);const c=bo(r);if(!c)return Tn(r);const h=Un(c,l,n,e);Yn(c,h);const g=e.subTree,f=g&&bo(g);let m=!1;const{getTransitionKey:C}=c.type;if(C){const w=C();i===void 0?i=w:w!==i&&(i=w,m=!0)}if(f&&f.type!==St&&(!pe(c,f)||m)){const w=Un(f,l,n,e);if(Yn(f,w),a==="out-in")return n.isLeaving=!0,w.afterLeave=()=>{n.isLeaving=!1,e.update.active!==!1&&e.update()},Tn(r);a==="in-out"&&c.type!==St&&(w.delayLeave=(S,R,L)=>{const k=Dr(n,f);k[String(f.key)]=f,S._leaveCb=()=>{R(),S._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=L})}return r}}},$a=Ha;function Dr(t,s){const{leavingVNodes:e}=t;let n=e.get(s.type);return n||(n=Object.create(null),e.set(s.type,n)),n}function Un(t,s,e,n){const{appear:i,mode:o,persisted:r=!1,onBeforeEnter:l,onEnter:a,onAfterEnter:c,onEnterCancelled:h,onBeforeLeave:g,onLeave:f,onAfterLeave:m,onLeaveCancelled:C,onBeforeAppear:w,onAppear:S,onAfterAppear:R,onAppearCancelled:L}=s,k=String(t.key),M=Dr(e,t),H=(D,Y)=>{D&&It(D,n,9,Y)},Z=(D,Y)=>{const U=Y[1];H(D,Y),z(D)?D.every(J=>J.length<=1)&&U():D.length<=1&&U()},st={mode:o,persisted:r,beforeEnter(D){let Y=l;if(!e.isMounted)if(i)Y=w||l;else return;D._leaveCb&&D._leaveCb(!0);const U=M[k];U&&pe(t,U)&&U.el._leaveCb&&U.el._leaveCb(),H(Y,[D])},enter(D){let Y=a,U=c,J=h;if(!e.isMounted)if(i)Y=S||a,U=R||c,J=L||h;else return;let $=!1;const rt=D._enterCb=dt=>{$||($=!0,dt?H(J,[D]):H(U,[D]),st.delayedLeave&&st.delayedLeave(),D._enterCb=void 0)};Y?Z(Y,[D,rt]):rt()},leave(D,Y){const U=String(t.key);if(D._enterCb&&D._enterCb(!0),e.isUnmounting)return Y();H(g,[D]);let J=!1;const $=D._leaveCb=rt=>{J||(J=!0,Y(),rt?H(C,[D]):H(m,[D]),D._leaveCb=void 0,M[U]===t&&delete M[U])};M[U]=t,f?Z(f,[D,$]):$()},clone(D){return Un(D,s,e,n)}};return st}function Tn(t){if(hn(t))return t=re(t),t.children=null,t}function bo(t){return hn(t)?t.children?t.children[0]:void 0:t}function Yn(t,s){t.shapeFlag&6&&t.component?Yn(t.component.subTree,s):t.shapeFlag&128?(t.ssContent.transition=s.clone(t.ssContent),t.ssFallback.transition=s.clone(t.ssFallback)):t.transition=s}function Fr(t,s=!1,e){let n=[],i=0;for(let o=0;o<t.length;o++){let r=t[o];const l=e==null?r.key:String(e)+String(r.key!=null?r.key:o);r.type===_t?(r.patchFlag&128&&i++,n=n.concat(Fr(r.children,s,l))):(s||r.type!==St)&&n.push(l!=null?re(r,{key:l}):r)}if(i>1)for(let o=0;o<n.length;o++)n[o].patchFlag=-2;return n}function Te(t,s){return W(t)?(()=>ft({name:t.name},s,{setup:t}))():t}const Qe=t=>!!t.type.__asyncLoader,hn=t=>t.type.__isKeepAlive;function Da(t,s){Br(t,"a",s)}function Fa(t,s){Br(t,"da",s)}function Br(t,s,e=mt){const n=t.__wdc||(t.__wdc=()=>{let i=e;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(un(s,n,e),e){let i=e.parent;for(;i&&i.parent;)hn(i.parent.vnode)&&Ba(n,s,e,i),i=i.parent}}function Ba(t,s,e,n){const i=un(s,t,n,!0);zr(()=>{Mi(n[s],i)},e)}function un(t,s,e=mt,n=!1){if(e){const i=e[t]||(e[t]=[]),o=s.__weh||(s.__weh=(...r)=>{if(e.isUnmounted)return;ze(),De(e);const l=It(s,e,t,r);return ve(),ke(),l});return n?i.unshift(o):i.push(o),o}}const jt=t=>(s,e=mt)=>(!us||t==="sp")&&un(t,(...n)=>s(...n),e),za=jt("bm"),Fi=jt("m"),ka=jt("bu"),Na=jt("u"),Bi=jt("bum"),zr=jt("um"),Wa=jt("sp"),Ua=jt("rtg"),Ya=jt("rtc");function Va(t,s=mt){un("ec",t,s)}const kr="components",Nr=Symbol.for("v-ndc");function Vn(t){return ht(t)?Xa(kr,t,!1)||t:t||Nr}function Xa(t,s,e=!0,n=!1){const i=wt||mt;if(i){const o=i.type;if(t===kr){const l=Pc(o,!1);if(l&&(l===s||l===Vt(s)||l===en(Vt(s))))return o}const r=Co(i[t]||o[t],s)||Co(i.appContext[t],s);return!r&&n?o:r}}function Co(t,s){return t&&(t[s]||t[Vt(s)]||t[en(Vt(s))])}function Xn(t,s,e,n){let i;const o=e&&e[n];if(z(t)||ht(t)){i=new Array(t.length);for(let r=0,l=t.length;r<l;r++)i[r]=s(t[r],r,void 0,o&&o[r])}else if(typeof t=="number"){i=new Array(t);for(let r=0;r<t;r++)i[r]=s(r+1,r,void 0,o&&o[r])}else if(ot(t))if(t[Symbol.iterator])i=Array.from(t,(r,l)=>s(r,l,void 0,o&&o[l]));else{const r=Object.keys(t);i=new Array(r.length);for(let l=0,a=r.length;l<a;l++){const c=r[l];i[l]=s(t[c],c,l,o&&o[l])}}else i=[];return e&&(e[n]=i),i}function Wr(t,s,e={},n,i){if(wt.isCE||wt.parent&&Qe(wt.parent)&&wt.parent.isCE)return s!=="default"&&(e.name=s),gt("slot",e,n&&n());let o=t[s];o&&o._c&&(o._d=!1),q();const r=o&&Ur(o(e)),l=se(_t,{key:e.key||r&&r.key||`_${s}`},r||(n?n():[]),r&&t._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function Ur(t){return t.some(s=>Ds(s)?!(s.type===St||s.type===_t&&!Ur(s.children)):!0)?t:null}function Ga(t,s){const e={};for(const n in t)e[s&&/[A-Z]/.test(n)?`on:${n}`:Rs(n)]=t[n];return e}const Gn=t=>t?sl(t)?gn(t)||t.proxy:Gn(t.parent):null,ts=ft(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Gn(t.parent),$root:t=>Gn(t.root),$emit:t=>t.emit,$options:t=>zi(t),$forceUpdate:t=>t.f||(t.f=()=>Di(t.update)),$nextTick:t=>t.n||(t.n=va.bind(t.proxy)),$watch:t=>Sa.bind(t)}),_n=(t,s)=>t!==nt&&!t.__isScriptSetup&&X(t,s),qa={get({_:t},s){const{ctx:e,setupState:n,data:i,props:o,accessCache:r,type:l,appContext:a}=t;let c;if(s[0]!=="$"){const m=r[s];if(m!==void 0)switch(m){case 1:return n[s];case 2:return i[s];case 4:return e[s];case 3:return o[s]}else{if(_n(n,s))return r[s]=1,n[s];if(i!==nt&&X(i,s))return r[s]=2,i[s];if((c=t.propsOptions[0])&&X(c,s))return r[s]=3,o[s];if(e!==nt&&X(e,s))return r[s]=4,e[s];qn&&(r[s]=0)}}const h=ts[s];let g,f;if(h)return s==="$attrs"&&Et(t,"get",s),h(t);if((g=l.__cssModules)&&(g=g[s]))return g;if(e!==nt&&X(e,s))return r[s]=4,e[s];if(f=a.config.globalProperties,X(f,s))return f[s]},set({_:t},s,e){const{data:n,setupState:i,ctx:o}=t;return _n(i,s)?(i[s]=e,!0):n!==nt&&X(n,s)?(n[s]=e,!0):X(t.props,s)||s[0]==="$"&&s.slice(1)in t?!1:(o[s]=e,!0)},has({_:{data:t,setupState:s,accessCache:e,ctx:n,appContext:i,propsOptions:o}},r){let l;return!!e[r]||t!==nt&&X(t,r)||_n(s,r)||(l=o[0])&&X(l,r)||X(n,r)||X(ts,r)||X(i.config.globalProperties,r)},defineProperty(t,s,e){return e.get!=null?t._.accessCache[s]=0:X(e,"value")&&this.set(t,s,e.value,null),Reflect.defineProperty(t,s,e)}};function To(t){return z(t)?t.reduce((s,e)=>(s[e]=null,s),{}):t}let qn=!0;function Ka(t){const s=zi(t),e=t.proxy,n=t.ctx;qn=!1,s.beforeCreate&&_o(s.beforeCreate,t,"bc");const{data:i,computed:o,methods:r,watch:l,provide:a,inject:c,created:h,beforeMount:g,mounted:f,beforeUpdate:m,updated:C,activated:w,deactivated:S,beforeDestroy:R,beforeUnmount:L,destroyed:k,unmounted:M,render:H,renderTracked:Z,renderTriggered:st,errorCaptured:D,serverPrefetch:Y,expose:U,inheritAttrs:J,components:$,directives:rt,filters:dt}=s;if(c&&Za(c,n,null),r)for(const at in r){const Q=r[at];W(Q)&&(n[at]=Q.bind(e))}if(i){const at=i.call(e,e);ot(at)&&(t.data=on(at))}if(qn=!0,o)for(const at in o){const Q=o[at],le=W(Q)?Q.bind(e,e):W(Q.get)?Q.get.bind(e,e):Dt,ms=!W(Q)&&W(Q.set)?Q.set.bind(e):Dt,ae=Rc({get:le,set:ms});Object.defineProperty(n,at,{enumerable:!0,configurable:!0,get:()=>ae.value,set:Ft=>ae.value=Ft})}if(l)for(const at in l)Yr(l[at],n,e,at);if(a){const at=W(a)?a.call(e):a;Reflect.ownKeys(at).forEach(Q=>{Xr(Q,at[Q])})}h&&_o(h,t,"c");function pt(at,Q){z(Q)?Q.forEach(le=>at(le.bind(e))):Q&&at(Q.bind(e))}if(pt(za,g),pt(Fi,f),pt(ka,m),pt(Na,C),pt(Da,w),pt(Fa,S),pt(Va,D),pt(Ya,Z),pt(Ua,st),pt(Bi,L),pt(zr,M),pt(Wa,Y),z(U))if(U.length){const at=t.exposed||(t.exposed={});U.forEach(Q=>{Object.defineProperty(at,Q,{get:()=>e[Q],set:le=>e[Q]=le})})}else t.exposed||(t.exposed={});H&&t.render===Dt&&(t.render=H),J!=null&&(t.inheritAttrs=J),$&&(t.components=$),rt&&(t.directives=rt)}function Za(t,s,e=Dt){z(t)&&(t=Kn(t));for(const n in t){const i=t[n];let o;ot(i)?"default"in i?o=es(i.from||n,i.default,!0):o=es(i.from||n):o=es(i),Ct(o)?Object.defineProperty(s,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:r=>o.value=r}):s[n]=o}}function _o(t,s,e){It(z(t)?t.map(n=>n.bind(s.proxy)):t.bind(s.proxy),s,e)}function Yr(t,s,e,n){const i=n.includes(".")?Hr(e,n):()=>e[n];if(ht(t)){const o=s[t];W(o)&&Cn(i,o)}else if(W(t))Cn(i,t.bind(e));else if(ot(t))if(z(t))t.forEach(o=>Yr(o,s,e,n));else{const o=W(t.handler)?t.handler.bind(e):s[t.handler];W(o)&&Cn(i,o,t)}}function zi(t){const s=t.type,{mixins:e,extends:n}=s,{mixins:i,optionsCache:o,config:{optionMergeStrategies:r}}=t.appContext,l=o.get(s);let a;return l?a=l:!i.length&&!e&&!n?a=s:(a={},i.length&&i.forEach(c=>Hs(a,c,r,!0)),Hs(a,s,r)),ot(s)&&o.set(s,a),a}function Hs(t,s,e,n=!1){const{mixins:i,extends:o}=s;o&&Hs(t,o,e,!0),i&&i.forEach(r=>Hs(t,r,e,!0));for(const r in s)if(!(n&&r==="expose")){const l=ja[r]||e&&e[r];t[r]=l?l(t[r],s[r]):s[r]}return t}const ja={data:xo,props:Mo,emits:Mo,methods:je,computed:je,beforeCreate:Tt,created:Tt,beforeMount:Tt,mounted:Tt,beforeUpdate:Tt,updated:Tt,beforeDestroy:Tt,beforeUnmount:Tt,destroyed:Tt,unmounted:Tt,activated:Tt,deactivated:Tt,errorCaptured:Tt,serverPrefetch:Tt,components:je,directives:je,watch:Qa,provide:xo,inject:Ja};function xo(t,s){return s?t?function(){return ft(W(t)?t.call(this,this):t,W(s)?s.call(this,this):s)}:s:t}function Ja(t,s){return je(Kn(t),Kn(s))}function Kn(t){if(z(t)){const s={};for(let e=0;e<t.length;e++)s[t[e]]=t[e];return s}return t}function Tt(t,s){return t?[...new Set([].concat(t,s))]:s}function je(t,s){return t?ft(Object.create(null),t,s):s}function Mo(t,s){return t?z(t)&&z(s)?[...new Set([...t,...s])]:ft(Object.create(null),To(t),To(s??{})):s}function Qa(t,s){if(!t)return s;if(!s)return t;const e=ft(Object.create(null),t);for(const n in s)e[n]=Tt(t[n],s[n]);return e}function Vr(){return{app:null,config:{isNativeTag:_l,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let tc=0;function ec(t,s){return function(n,i=null){W(n)||(n=ft({},n)),i!=null&&!ot(i)&&(i=null);const o=Vr(),r=new Set;let l=!1;const a=o.app={_uid:tc++,_component:n,_props:i,_container:null,_context:o,_instance:null,version:Lc,get config(){return o.config},set config(c){},use(c,...h){return r.has(c)||(c&&W(c.install)?(r.add(c),c.install(a,...h)):W(c)&&(r.add(c),c(a,...h))),a},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),a},component(c,h){return h?(o.components[c]=h,a):o.components[c]},directive(c,h){return h?(o.directives[c]=h,a):o.directives[c]},mount(c,h,g){if(!l){const f=gt(n,i);return f.appContext=o,h&&s?s(f,c):t(f,c,g),l=!0,a._container=c,c.__vue_app__=a,gn(f.component)||f.component.proxy}},unmount(){l&&(t(null,a._container),delete a._container.__vue_app__)},provide(c,h){return o.provides[c]=h,a},runWithContext(c){$s=a;try{return c()}finally{$s=null}}};return a}}let $s=null;function Xr(t,s){if(mt){let e=mt.provides;const n=mt.parent&&mt.parent.provides;n===e&&(e=mt.provides=Object.create(n)),e[t]=s}}function es(t,s,e=!1){const n=mt||wt;if(n||$s){const i=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:$s._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return e&&W(s)?s.call(n&&n.proxy):s}}function sc(t,s,e,n=!1){const i={},o={};Ss(o,dn,1),t.propsDefaults=Object.create(null),Gr(t,s,i,o);for(const r in t.propsOptions[0])r in i||(i[r]=void 0);e?t.props=n?i:da(i):t.type.props?t.props=i:t.props=o,t.attrs=o}function nc(t,s,e,n){const{props:i,attrs:o,vnode:{patchFlag:r}}=t,l=G(i),[a]=t.propsOptions;let c=!1;if((n||r>0)&&!(r&16)){if(r&8){const h=t.vnode.dynamicProps;for(let g=0;g<h.length;g++){let f=h[g];if(an(t.emitsOptions,f))continue;const m=s[f];if(a)if(X(o,f))m!==o[f]&&(o[f]=m,c=!0);else{const C=Vt(f);i[C]=Zn(a,l,C,m,t,!1)}else m!==o[f]&&(o[f]=m,c=!0)}}}else{Gr(t,s,i,o)&&(c=!0);let h;for(const g in l)(!s||!X(s,g)&&((h=Be(g))===g||!X(s,h)))&&(a?e&&(e[g]!==void 0||e[h]!==void 0)&&(i[g]=Zn(a,l,g,void 0,t,!0)):delete i[g]);if(o!==l)for(const g in o)(!s||!X(s,g))&&(delete o[g],c=!0)}c&&Zt(t,"set","$attrs")}function Gr(t,s,e,n){const[i,o]=t.propsOptions;let r=!1,l;if(s)for(let a in s){if(Os(a))continue;const c=s[a];let h;i&&X(i,h=Vt(a))?!o||!o.includes(h)?e[h]=c:(l||(l={}))[h]=c:an(t.emitsOptions,a)||(!(a in n)||c!==n[a])&&(n[a]=c,r=!0)}if(o){const a=G(e),c=l||nt;for(let h=0;h<o.length;h++){const g=o[h];e[g]=Zn(i,a,g,c[g],t,!X(c,g))}}return r}function Zn(t,s,e,n,i,o){const r=t[e];if(r!=null){const l=X(r,"default");if(l&&n===void 0){const a=r.default;if(r.type!==Function&&!r.skipFactory&&W(a)){const{propsDefaults:c}=i;e in c?n=c[e]:(De(i),n=c[e]=a.call(null,s),ve())}else n=a}r[0]&&(o&&!l?n=!1:r[1]&&(n===""||n===Be(e))&&(n=!0))}return n}function qr(t,s,e=!1){const n=s.propsCache,i=n.get(t);if(i)return i;const o=t.props,r={},l=[];let a=!1;if(!W(t)){const h=g=>{a=!0;const[f,m]=qr(g,s,!0);ft(r,f),m&&l.push(...m)};!e&&s.mixins.length&&s.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!o&&!a)return ot(t)&&n.set(t,Se),Se;if(z(o))for(let h=0;h<o.length;h++){const g=Vt(o[h]);Eo(g)&&(r[g]=nt)}else if(o)for(const h in o){const g=Vt(h);if(Eo(g)){const f=o[h],m=r[g]=z(f)||W(f)?{type:f}:ft({},f);if(m){const C=Ro(Boolean,m.type),w=Ro(String,m.type);m[0]=C>-1,m[1]=w<0||C<w,(C>-1||X(m,"default"))&&l.push(g)}}}const c=[r,l];return ot(t)&&n.set(t,c),c}function Eo(t){return t[0]!=="$"}function Po(t){const s=t&&t.toString().match(/^\s*(function|class) (\w+)/);return s?s[2]:t===null?"null":""}function Oo(t,s){return Po(t)===Po(s)}function Ro(t,s){return z(s)?s.findIndex(e=>Oo(e,t)):W(s)&&Oo(s,t)?0:-1}const Kr=t=>t[0]==="_"||t==="$stable",ki=t=>z(t)?t.map(Ut):[Ut(t)],ic=(t,s,e)=>{if(s._n)return s;const n=cn((...i)=>ki(s(...i)),e);return n._c=!1,n},Zr=(t,s,e)=>{const n=t._ctx;for(const i in t){if(Kr(i))continue;const o=t[i];if(W(o))s[i]=ic(i,o,n);else if(o!=null){const r=ki(o);s[i]=()=>r}}},jr=(t,s)=>{const e=ki(s);t.slots.default=()=>e},oc=(t,s)=>{if(t.vnode.shapeFlag&32){const e=s._;e?(t.slots=G(s),Ss(s,"_",e)):Zr(s,t.slots={})}else t.slots={},s&&jr(t,s);Ss(t.slots,dn,1)},rc=(t,s,e)=>{const{vnode:n,slots:i}=t;let o=!0,r=nt;if(n.shapeFlag&32){const l=s._;l?e&&l===1?o=!1:(ft(i,s),!e&&l===1&&delete i._):(o=!s.$stable,Zr(s,i)),r=s}else s&&(jr(t,s),r={default:1});if(o)for(const l in i)!Kr(l)&&!(l in r)&&delete i[l]};function jn(t,s,e,n,i=!1){if(z(t)){t.forEach((f,m)=>jn(f,s&&(z(s)?s[m]:s),e,n,i));return}if(Qe(n)&&!i)return;const o=n.shapeFlag&4?gn(n.component)||n.component.proxy:n.el,r=i?null:o,{i:l,r:a}=t,c=s&&s.r,h=l.refs===nt?l.refs={}:l.refs,g=l.setupState;if(c!=null&&c!==a&&(ht(c)?(h[c]=null,X(g,c)&&(g[c]=null)):Ct(c)&&(c.value=null)),W(a))ie(a,l,12,[r,h]);else{const f=ht(a),m=Ct(a);if(f||m){const C=()=>{if(t.f){const w=f?X(g,a)?g[a]:h[a]:a.value;i?z(w)&&Mi(w,o):z(w)?w.includes(o)||w.push(o):f?(h[a]=[o],X(g,a)&&(g[a]=h[a])):(a.value=[o],t.k&&(h[t.k]=a.value))}else f?(h[a]=r,X(g,a)&&(g[a]=r)):m&&(a.value=r,t.k&&(h[t.k]=r))};r?(C.id=-1,Mt(C,e)):C()}}}const Mt=Ia;function lc(t){return ac(t)}function ac(t,s){const e=Fn();e.__VUE__=!0;const{insert:n,remove:i,patchProp:o,createElement:r,createText:l,createComment:a,setText:c,setElementText:h,parentNode:g,nextSibling:f,setScopeId:m=Dt,insertStaticContent:C}=t,w=(u,d,y,b=null,v=null,x=null,I=!1,_=null,P=!!d.dynamicChildren)=>{if(u===d)return;u&&!pe(u,d)&&(b=ys(u),Ft(u,v,x,!0),u=null),d.patchFlag===-2&&(P=!1,d.dynamicChildren=null);const{type:T,ref:F,shapeFlag:A}=d;switch(T){case fn:S(u,d,y,b);break;case St:R(u,d,y,b);break;case xn:u==null&&L(d,y,b,I);break;case _t:$(u,d,y,b,v,x,I,_,P);break;default:A&1?H(u,d,y,b,v,x,I,_,P):A&6?rt(u,d,y,b,v,x,I,_,P):(A&64||A&128)&&T.process(u,d,y,b,v,x,I,_,P,xe)}F!=null&&v&&jn(F,u&&u.ref,x,d||u,!d)},S=(u,d,y,b)=>{if(u==null)n(d.el=l(d.children),y,b);else{const v=d.el=u.el;d.children!==u.children&&c(v,d.children)}},R=(u,d,y,b)=>{u==null?n(d.el=a(d.children||""),y,b):d.el=u.el},L=(u,d,y,b)=>{[u.el,u.anchor]=C(u.children,d,y,b,u.el,u.anchor)},k=({el:u,anchor:d},y,b)=>{let v;for(;u&&u!==d;)v=f(u),n(u,y,b),u=v;n(d,y,b)},M=({el:u,anchor:d})=>{let y;for(;u&&u!==d;)y=f(u),i(u),u=y;i(d)},H=(u,d,y,b,v,x,I,_,P)=>{I=I||d.type==="svg",u==null?Z(d,y,b,v,x,I,_,P):Y(u,d,v,x,I,_,P)},Z=(u,d,y,b,v,x,I,_)=>{let P,T;const{type:F,props:A,shapeFlag:B,transition:N,dirs:V}=u;if(P=u.el=r(u.type,x,A&&A.is,A),B&8?h(P,u.children):B&16&&D(u.children,P,null,b,v,x&&F!=="foreignObject",I,_),V&&ce(u,null,b,"created"),st(P,u,u.scopeId,I,b),A){for(const j in A)j!=="value"&&!Os(j)&&o(P,j,null,A[j],x,u.children,b,v,Gt);"value"in A&&o(P,"value",null,A.value),(T=A.onVnodeBeforeMount)&&zt(T,b,u)}V&&ce(u,null,b,"beforeMount");const tt=(!v||v&&!v.pendingBranch)&&N&&!N.persisted;tt&&N.beforeEnter(P),n(P,d,y),((T=A&&A.onVnodeMounted)||tt||V)&&Mt(()=>{T&&zt(T,b,u),tt&&N.enter(P),V&&ce(u,null,b,"mounted")},v)},st=(u,d,y,b,v)=>{if(y&&m(u,y),b)for(let x=0;x<b.length;x++)m(u,b[x]);if(v){let x=v.subTree;if(d===x){const I=v.vnode;st(u,I,I.scopeId,I.slotScopeIds,v.parent)}}},D=(u,d,y,b,v,x,I,_,P=0)=>{for(let T=P;T<u.length;T++){const F=u[T]=_?ee(u[T]):Ut(u[T]);w(null,F,d,y,b,v,x,I,_)}},Y=(u,d,y,b,v,x,I)=>{const _=d.el=u.el;let{patchFlag:P,dynamicChildren:T,dirs:F}=d;P|=u.patchFlag&16;const A=u.props||nt,B=d.props||nt;let N;y&&he(y,!1),(N=B.onVnodeBeforeUpdate)&&zt(N,y,d,u),F&&ce(d,u,y,"beforeUpdate"),y&&he(y,!0);const V=v&&d.type!=="foreignObject";if(T?U(u.dynamicChildren,T,_,y,b,V,x):I||Q(u,d,_,null,y,b,V,x,!1),P>0){if(P&16)J(_,d,A,B,y,b,v);else if(P&2&&A.class!==B.class&&o(_,"class",null,B.class,v),P&4&&o(_,"style",A.style,B.style,v),P&8){const tt=d.dynamicProps;for(let j=0;j<tt.length;j++){const ut=tt[j],At=A[ut],Me=B[ut];(Me!==At||ut==="value")&&o(_,ut,At,Me,v,u.children,y,b,Gt)}}P&1&&u.children!==d.children&&h(_,d.children)}else!I&&T==null&&J(_,d,A,B,y,b,v);((N=B.onVnodeUpdated)||F)&&Mt(()=>{N&&zt(N,y,d,u),F&&ce(d,u,y,"updated")},b)},U=(u,d,y,b,v,x,I)=>{for(let _=0;_<d.length;_++){const P=u[_],T=d[_],F=P.el&&(P.type===_t||!pe(P,T)||P.shapeFlag&70)?g(P.el):y;w(P,T,F,null,b,v,x,I,!0)}},J=(u,d,y,b,v,x,I)=>{if(y!==b){if(y!==nt)for(const _ in y)!Os(_)&&!(_ in b)&&o(u,_,y[_],null,I,d.children,v,x,Gt);for(const _ in b){if(Os(_))continue;const P=b[_],T=y[_];P!==T&&_!=="value"&&o(u,_,T,P,I,d.children,v,x,Gt)}"value"in b&&o(u,"value",y.value,b.value)}},$=(u,d,y,b,v,x,I,_,P)=>{const T=d.el=u?u.el:l(""),F=d.anchor=u?u.anchor:l("");let{patchFlag:A,dynamicChildren:B,slotScopeIds:N}=d;N&&(_=_?_.concat(N):N),u==null?(n(T,y,b),n(F,y,b),D(d.children,y,F,v,x,I,_,P)):A>0&&A&64&&B&&u.dynamicChildren?(U(u.dynamicChildren,B,y,v,x,I,_),(d.key!=null||v&&d===v.subTree)&&Ni(u,d,!0)):Q(u,d,y,F,v,x,I,_,P)},rt=(u,d,y,b,v,x,I,_,P)=>{d.slotScopeIds=_,u==null?d.shapeFlag&512?v.ctx.activate(d,y,b,I,P):dt(d,y,b,v,x,I,P):Ve(u,d,P)},dt=(u,d,y,b,v,x,I)=>{const _=u.component=Cc(u,b,v);if(hn(u)&&(_.ctx.renderer=xe),_c(_),_.asyncDep){if(v&&v.registerDep(_,pt),!u.el){const P=_.subTree=gt(St);R(null,P,d,y)}return}pt(_,u,d,y,v,x,I)},Ve=(u,d,y)=>{const b=d.component=u.component;if(Pa(u,d,y))if(b.asyncDep&&!b.asyncResolved){at(b,d,y);return}else b.next=d,Ca(b.update),b.update();else d.el=u.el,b.vnode=d},pt=(u,d,y,b,v,x,I)=>{const _=()=>{if(u.isMounted){let{next:F,bu:A,u:B,parent:N,vnode:V}=u,tt=F,j;he(u,!1),F?(F.el=V.el,at(u,F,I)):F=V,A&&vn(A),(j=F.props&&F.props.onVnodeBeforeUpdate)&&zt(j,N,F,V),he(u,!0);const ut=bn(u),At=u.subTree;u.subTree=ut,w(At,ut,g(At.el),ys(At),u,v,x),F.el=ut.el,tt===null&&Oa(u,ut.el),B&&Mt(B,v),(j=F.props&&F.props.onVnodeUpdated)&&Mt(()=>zt(j,N,F,V),v)}else{let F;const{el:A,props:B}=d,{bm:N,m:V,parent:tt}=u,j=Qe(d);if(he(u,!1),N&&vn(N),!j&&(F=B&&B.onVnodeBeforeMount)&&zt(F,tt,d),he(u,!0),A&&wn){const ut=()=>{u.subTree=bn(u),wn(A,u.subTree,u,v,null)};j?d.type.__asyncLoader().then(()=>!u.isUnmounted&&ut()):ut()}else{const ut=u.subTree=bn(u);w(null,ut,y,b,u,v,x),d.el=ut.el}if(V&&Mt(V,v),!j&&(F=B&&B.onVnodeMounted)){const ut=d;Mt(()=>zt(F,tt,ut),v)}(d.shapeFlag&256||tt&&Qe(tt.vnode)&&tt.vnode.shapeFlag&256)&&u.a&&Mt(u.a,v),u.isMounted=!0,d=y=b=null}},P=u.effect=new Ri(_,()=>Di(T),u.scope),T=u.update=()=>P.run();T.id=u.uid,he(u,!0),T()},at=(u,d,y)=>{d.component=u;const b=u.vnode.props;u.vnode=d,u.next=null,nc(u,d.props,b,y),rc(u,d.children,y),ze(),wo(),ke()},Q=(u,d,y,b,v,x,I,_,P=!1)=>{const T=u&&u.children,F=u?u.shapeFlag:0,A=d.children,{patchFlag:B,shapeFlag:N}=d;if(B>0){if(B&128){ms(T,A,y,b,v,x,I,_,P);return}else if(B&256){le(T,A,y,b,v,x,I,_,P);return}}N&8?(F&16&&Gt(T,v,x),A!==T&&h(y,A)):F&16?N&16?ms(T,A,y,b,v,x,I,_,P):Gt(T,v,x,!0):(F&8&&h(y,""),N&16&&D(A,y,b,v,x,I,_,P))},le=(u,d,y,b,v,x,I,_,P)=>{u=u||Se,d=d||Se;const T=u.length,F=d.length,A=Math.min(T,F);let B;for(B=0;B<A;B++){const N=d[B]=P?ee(d[B]):Ut(d[B]);w(u[B],N,y,null,v,x,I,_,P)}T>F?Gt(u,v,x,!0,!1,A):D(d,y,b,v,x,I,_,P,A)},ms=(u,d,y,b,v,x,I,_,P)=>{let T=0;const F=d.length;let A=u.length-1,B=F-1;for(;T<=A&&T<=B;){const N=u[T],V=d[T]=P?ee(d[T]):Ut(d[T]);if(pe(N,V))w(N,V,y,null,v,x,I,_,P);else break;T++}for(;T<=A&&T<=B;){const N=u[A],V=d[B]=P?ee(d[B]):Ut(d[B]);if(pe(N,V))w(N,V,y,null,v,x,I,_,P);else break;A--,B--}if(T>A){if(T<=B){const N=B+1,V=N<F?d[N].el:b;for(;T<=B;)w(null,d[T]=P?ee(d[T]):Ut(d[T]),y,V,v,x,I,_,P),T++}}else if(T>B)for(;T<=A;)Ft(u[T],v,x,!0),T++;else{const N=T,V=T,tt=new Map;for(T=V;T<=B;T++){const Pt=d[T]=P?ee(d[T]):Ut(d[T]);Pt.key!=null&&tt.set(Pt.key,T)}let j,ut=0;const At=B-V+1;let Me=!1,oo=0;const Xe=new Array(At);for(T=0;T<At;T++)Xe[T]=0;for(T=N;T<=A;T++){const Pt=u[T];if(ut>=At){Ft(Pt,v,x,!0);continue}let Bt;if(Pt.key!=null)Bt=tt.get(Pt.key);else for(j=V;j<=B;j++)if(Xe[j-V]===0&&pe(Pt,d[j])){Bt=j;break}Bt===void 0?Ft(Pt,v,x,!0):(Xe[Bt-V]=T+1,Bt>=oo?oo=Bt:Me=!0,w(Pt,d[Bt],y,null,v,x,I,_,P),ut++)}const ro=Me?cc(Xe):Se;for(j=ro.length-1,T=At-1;T>=0;T--){const Pt=V+T,Bt=d[Pt],lo=Pt+1<F?d[Pt+1].el:b;Xe[T]===0?w(null,Bt,y,lo,v,x,I,_,P):Me&&(j<0||T!==ro[j]?ae(Bt,y,lo,2):j--)}}},ae=(u,d,y,b,v=null)=>{const{el:x,type:I,transition:_,children:P,shapeFlag:T}=u;if(T&6){ae(u.component.subTree,d,y,b);return}if(T&128){u.suspense.move(d,y,b);return}if(T&64){I.move(u,d,y,xe);return}if(I===_t){n(x,d,y);for(let A=0;A<P.length;A++)ae(P[A],d,y,b);n(u.anchor,d,y);return}if(I===xn){k(u,d,y);return}if(b!==2&&T&1&&_)if(b===0)_.beforeEnter(x),n(x,d,y),Mt(()=>_.enter(x),v);else{const{leave:A,delayLeave:B,afterLeave:N}=_,V=()=>n(x,d,y),tt=()=>{A(x,()=>{V(),N&&N()})};B?B(x,V,tt):tt()}else n(x,d,y)},Ft=(u,d,y,b=!1,v=!1)=>{const{type:x,props:I,ref:_,children:P,dynamicChildren:T,shapeFlag:F,patchFlag:A,dirs:B}=u;if(_!=null&&jn(_,null,y,u,!0),F&256){d.ctx.deactivate(u);return}const N=F&1&&B,V=!Qe(u);let tt;if(V&&(tt=I&&I.onVnodeBeforeUnmount)&&zt(tt,d,u),F&6)bl(u.component,y,b);else{if(F&128){u.suspense.unmount(y,b);return}N&&ce(u,null,d,"beforeUnmount"),F&64?u.type.remove(u,d,y,v,xe,b):T&&(x!==_t||A>0&&A&64)?Gt(T,d,y,!1,!0):(x===_t&&A&384||!v&&F&16)&&Gt(P,d,y),b&&no(u)}(V&&(tt=I&&I.onVnodeUnmounted)||N)&&Mt(()=>{tt&&zt(tt,d,u),N&&ce(u,null,d,"unmounted")},y)},no=u=>{const{type:d,el:y,anchor:b,transition:v}=u;if(d===_t){vl(y,b);return}if(d===xn){M(u);return}const x=()=>{i(y),v&&!v.persisted&&v.afterLeave&&v.afterLeave()};if(u.shapeFlag&1&&v&&!v.persisted){const{leave:I,delayLeave:_}=v,P=()=>I(y,x);_?_(u.el,x,P):P()}else x()},vl=(u,d)=>{let y;for(;u!==d;)y=f(u),i(u),u=y;i(d)},bl=(u,d,y)=>{const{bum:b,scope:v,update:x,subTree:I,um:_}=u;b&&vn(b),v.stop(),x&&(x.active=!1,Ft(I,u,d,y)),_&&Mt(_,d),Mt(()=>{u.isUnmounted=!0},d),d&&d.pendingBranch&&!d.isUnmounted&&u.asyncDep&&!u.asyncResolved&&u.suspenseId===d.pendingId&&(d.deps--,d.deps===0&&d.resolve())},Gt=(u,d,y,b=!1,v=!1,x=0)=>{for(let I=x;I<u.length;I++)Ft(u[I],d,y,b,v)},ys=u=>u.shapeFlag&6?ys(u.component.subTree):u.shapeFlag&128?u.suspense.next():f(u.anchor||u.el),io=(u,d,y)=>{u==null?d._vnode&&Ft(d._vnode,null,null,!0):w(d._vnode||null,u,d,null,null,null,y),wo(),Rr(),d._vnode=u},xe={p:w,um:Ft,m:ae,r:no,mt:dt,mc:D,pc:Q,pbc:U,n:ys,o:t};let yn,wn;return s&&([yn,wn]=s(xe)),{render:io,hydrate:yn,createApp:ec(io,yn)}}function he({effect:t,update:s},e){t.allowRecurse=s.allowRecurse=e}function Ni(t,s,e=!1){const n=t.children,i=s.children;if(z(n)&&z(i))for(let o=0;o<n.length;o++){const r=n[o];let l=i[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[o]=ee(i[o]),l.el=r.el),e||Ni(r,l)),l.type===fn&&(l.el=r.el)}}function cc(t){const s=t.slice(),e=[0];let n,i,o,r,l;const a=t.length;for(n=0;n<a;n++){const c=t[n];if(c!==0){if(i=e[e.length-1],t[i]<c){s[n]=i,e.push(n);continue}for(o=0,r=e.length-1;o<r;)l=o+r>>1,t[e[l]]<c?o=l+1:r=l;c<t[e[o]]&&(o>0&&(s[n]=e[o-1]),e[o]=n)}}for(o=e.length,r=e[o-1];o-- >0;)e[o]=r,r=s[r];return e}const hc=t=>t.__isTeleport,ss=t=>t&&(t.disabled||t.disabled===""),Io=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Jn=(t,s)=>{const e=t&&t.to;return ht(e)?s?s(e):null:e},uc={__isTeleport:!0,process(t,s,e,n,i,o,r,l,a,c){const{mc:h,pc:g,pbc:f,o:{insert:m,querySelector:C,createText:w,createComment:S}}=c,R=ss(s.props);let{shapeFlag:L,children:k,dynamicChildren:M}=s;if(t==null){const H=s.el=w(""),Z=s.anchor=w("");m(H,e,n),m(Z,e,n);const st=s.target=Jn(s.props,C),D=s.targetAnchor=w("");st&&(m(D,st),r=r||Io(st));const Y=(U,J)=>{L&16&&h(k,U,J,i,o,r,l,a)};R?Y(e,Z):st&&Y(st,D)}else{s.el=t.el;const H=s.anchor=t.anchor,Z=s.target=t.target,st=s.targetAnchor=t.targetAnchor,D=ss(t.props),Y=D?e:Z,U=D?H:st;if(r=r||Io(Z),M?(f(t.dynamicChildren,M,Y,i,o,r,l),Ni(t,s,!0)):a||g(t,s,Y,U,i,o,r,l,!1),R)D||xs(s,e,H,c,1);else if((s.props&&s.props.to)!==(t.props&&t.props.to)){const J=s.target=Jn(s.props,C);J&&xs(s,J,null,c,0)}else D&&xs(s,Z,st,c,1)}Jr(s)},remove(t,s,e,n,{um:i,o:{remove:o}},r){const{shapeFlag:l,children:a,anchor:c,targetAnchor:h,target:g,props:f}=t;if(g&&o(h),(r||!ss(f))&&(o(c),l&16))for(let m=0;m<a.length;m++){const C=a[m];i(C,s,e,!0,!!C.dynamicChildren)}},move:xs,hydrate:fc};function xs(t,s,e,{o:{insert:n},m:i},o=2){o===0&&n(t.targetAnchor,s,e);const{el:r,anchor:l,shapeFlag:a,children:c,props:h}=t,g=o===2;if(g&&n(r,s,e),(!g||ss(h))&&a&16)for(let f=0;f<c.length;f++)i(c[f],s,e,2);g&&n(l,s,e)}function fc(t,s,e,n,i,o,{o:{nextSibling:r,parentNode:l,querySelector:a}},c){const h=s.target=Jn(s.props,a);if(h){const g=h._lpa||h.firstChild;if(s.shapeFlag&16)if(ss(s.props))s.anchor=c(r(t),s,l(t),e,n,i,o),s.targetAnchor=g;else{s.anchor=r(t);let f=g;for(;f;)if(f=r(f),f&&f.nodeType===8&&f.data==="teleport anchor"){s.targetAnchor=f,h._lpa=s.targetAnchor&&r(s.targetAnchor);break}c(g,s,h,e,n,i,o)}Jr(s)}return s.anchor&&r(s.anchor)}const dc=uc;function Jr(t){const s=t.ctx;if(s&&s.ut){let e=t.children[0].el;for(;e!==t.targetAnchor;)e.nodeType===1&&e.setAttribute("data-v-owner",s.uid),e=e.nextSibling;s.ut()}}const _t=Symbol.for("v-fgt"),fn=Symbol.for("v-txt"),St=Symbol.for("v-cmt"),xn=Symbol.for("v-stc"),ns=[];let $t=null;function q(t=!1){ns.push($t=t?null:[])}function gc(){ns.pop(),$t=ns[ns.length-1]||null}let hs=1;function So(t){hs+=t}function Qr(t){return t.dynamicChildren=hs>0?$t||Se:null,gc(),hs>0&&$t&&$t.push(t),t}function lt(t,s,e,n,i,o){return Qr(et(t,s,e,n,i,o,!0))}function se(t,s,e,n,i){return Qr(gt(t,s,e,n,i,!0))}function Ds(t){return t?t.__v_isVNode===!0:!1}function pe(t,s){return t.type===s.type&&t.key===s.key}const dn="__vInternal",tl=({key:t})=>t??null,Is=({ref:t,ref_key:s,ref_for:e})=>(typeof t=="number"&&(t=""+t),t!=null?ht(t)||Ct(t)||W(t)?{i:wt,r:t,k:s,f:!!e}:t:null);function et(t,s=null,e=null,n=0,i=null,o=t===_t?0:1,r=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:t,props:s,key:s&&tl(s),ref:s&&Is(s),scopeId:Ar,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:wt};return l?(Wi(a,e),o&128&&t.normalize(a)):e&&(a.shapeFlag|=ht(e)?8:16),hs>0&&!r&&$t&&(a.patchFlag>0||o&6)&&a.patchFlag!==32&&$t.push(a),a}const gt=pc;function pc(t,s=null,e=null,n=0,i=null,o=!1){if((!t||t===Nr)&&(t=St),Ds(t)){const l=re(t,s,!0);return e&&Wi(l,e),hs>0&&!o&&$t&&(l.shapeFlag&6?$t[$t.indexOf(t)]=l:$t.push(l)),l.patchFlag|=-2,l}if(Oc(t)&&(t=t.__vccOpts),s){s=mc(s);let{class:l,style:a}=s;l&&!ht(l)&&(s.class=vt(l)),ot(a)&&(Tr(a)&&!z(a)&&(a=ft({},a)),s.style=sn(a))}const r=ht(t)?1:Ra(t)?128:hc(t)?64:ot(t)?4:W(t)?2:0;return et(t,s,e,n,i,r,o,!0)}function mc(t){return t?Tr(t)||dn in t?ft({},t):t:null}function re(t,s,e=!1){const{props:n,ref:i,patchFlag:o,children:r}=t,l=s?el(n||{},s):n;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&tl(l),ref:s&&s.ref?e&&i?z(i)?i.concat(Is(s)):[i,Is(s)]:Is(s):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:r,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:s&&t.type!==_t?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&re(t.ssContent),ssFallback:t.ssFallback&&re(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function yc(t=" ",s=0){return gt(fn,null,t,s)}function wc(t="",s=!1){return s?(q(),se(St,null,t)):gt(St,null,t)}function Ut(t){return t==null||typeof t=="boolean"?gt(St):z(t)?gt(_t,null,t.slice()):typeof t=="object"?ee(t):gt(fn,null,String(t))}function ee(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:re(t)}function Wi(t,s){let e=0;const{shapeFlag:n}=t;if(s==null)s=null;else if(z(s))e=16;else if(typeof s=="object")if(n&65){const i=s.default;i&&(i._c&&(i._d=!1),Wi(t,i()),i._c&&(i._d=!0));return}else{e=32;const i=s._;!i&&!(dn in s)?s._ctx=wt:i===3&&wt&&(wt.slots._===1?s._=1:(s._=2,t.patchFlag|=1024))}else W(s)?(s={default:s,_ctx:wt},e=32):(s=String(s),n&64?(e=16,s=[yc(s)]):e=8);t.children=s,t.shapeFlag|=e}function el(...t){const s={};for(let e=0;e<t.length;e++){const n=t[e];for(const i in n)if(i==="class")s.class!==n.class&&(s.class=vt([s.class,n.class]));else if(i==="style")s.style=sn([s.style,n.style]);else if(Js(i)){const o=s[i],r=n[i];r&&o!==r&&!(z(o)&&o.includes(r))&&(s[i]=o?[].concat(o,r):r)}else i!==""&&(s[i]=n[i])}return s}function zt(t,s,e,n=null){It(t,s,7,[e,n])}const vc=Vr();let bc=0;function Cc(t,s,e){const n=t.type,i=(s?s.appContext:t.appContext)||vc,o={uid:bc++,vnode:t,type:n,parent:s,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Bl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:s?s.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:qr(n,i),emitsOptions:Sr(n,i),emit:null,emitted:null,propsDefaults:nt,inheritAttrs:n.inheritAttrs,ctx:nt,data:nt,props:nt,attrs:nt,slots:nt,refs:nt,setupState:nt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=s?s.root:o,o.emit=xa.bind(null,o),t.ce&&t.ce(o),o}let mt=null;const Tc=()=>mt||wt;let Ui,Ee,Ao="__VUE_INSTANCE_SETTERS__";(Ee=Fn()[Ao])||(Ee=Fn()[Ao]=[]),Ee.push(t=>mt=t),Ui=t=>{Ee.length>1?Ee.forEach(s=>s(t)):Ee[0](t)};const De=t=>{Ui(t),t.scope.on()},ve=()=>{mt&&mt.scope.off(),Ui(null)};function sl(t){return t.vnode.shapeFlag&4}let us=!1;function _c(t,s=!1){us=s;const{props:e,children:n}=t.vnode,i=sl(t);sc(t,e,i,s),oc(t,n);const o=i?xc(t,s):void 0;return us=!1,o}function xc(t,s){const e=t.type;t.accessCache=Object.create(null),t.proxy=rn(new Proxy(t.ctx,qa));const{setup:n}=e;if(n){const i=t.setupContext=n.length>1?Ec(t):null;De(t),ze();const o=ie(n,t,0,[t.props,i]);if(ke(),ve(),rr(o)){if(o.then(ve,ve),s)return o.then(r=>{Lo(t,r,s)}).catch(r=>{ln(r,t,0)});t.asyncDep=o}else Lo(t,o,s)}else nl(t,s)}function Lo(t,s,e){W(s)?t.type.__ssrInlineRender?t.ssrRender=s:t.render=s:ot(s)&&(t.setupState=Er(s)),nl(t,e)}let Ho;function nl(t,s,e){const n=t.type;if(!t.render){if(!s&&Ho&&!n.render){const i=n.template||zi(t).template;if(i){const{isCustomElement:o,compilerOptions:r}=t.appContext.config,{delimiters:l,compilerOptions:a}=n,c=ft(ft({isCustomElement:o,delimiters:l},r),a);n.render=Ho(i,c)}}t.render=n.render||Dt}De(t),ze(),Ka(t),ke(),ve()}function Mc(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(s,e){return Et(t,"get","$attrs"),s[e]}}))}function Ec(t){const s=e=>{t.exposed=e||{}};return{get attrs(){return Mc(t)},slots:t.slots,emit:t.emit,expose:s}}function gn(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Er(rn(t.exposed)),{get(s,e){if(e in s)return s[e];if(e in ts)return ts[e](t)},has(s,e){return e in s||e in ts}}))}function Pc(t,s=!0){return W(t)?t.displayName||t.name:t.name||s&&t.__name}function Oc(t){return W(t)&&"__vccOpts"in t}const Rc=(t,s)=>ya(t,s,us);function Ic(t,s,e){const n=arguments.length;return n===2?ot(s)&&!z(s)?Ds(s)?gt(t,null,[s]):gt(t,s):gt(t,null,s):(n>3?e=Array.prototype.slice.call(arguments,2):n===3&&Ds(e)&&(e=[e]),gt(t,s,e))}const Sc=Symbol.for("v-scx"),Ac=()=>es(Sc),Lc="3.3.4",Hc="http://www.w3.org/2000/svg",me=typeof document<"u"?document:null,$o=me&&me.createElement("template"),$c={insert:(t,s,e)=>{s.insertBefore(t,e||null)},remove:t=>{const s=t.parentNode;s&&s.removeChild(t)},createElement:(t,s,e,n)=>{const i=s?me.createElementNS(Hc,t):me.createElement(t,e?{is:e}:void 0);return t==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:t=>me.createTextNode(t),createComment:t=>me.createComment(t),setText:(t,s)=>{t.nodeValue=s},setElementText:(t,s)=>{t.textContent=s},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>me.querySelector(t),setScopeId(t,s){t.setAttribute(s,"")},insertStaticContent(t,s,e,n,i,o){const r=e?e.previousSibling:s.lastChild;if(i&&(i===o||i.nextSibling))for(;s.insertBefore(i.cloneNode(!0),e),!(i===o||!(i=i.nextSibling)););else{$o.innerHTML=n?`<svg>${t}</svg>`:t;const l=$o.content;if(n){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}s.insertBefore(l,e)}return[r?r.nextSibling:s.firstChild,e?e.previousSibling:s.lastChild]}};function Dc(t,s,e){const n=t._vtc;n&&(s=(s?[s,...n]:[...n]).join(" ")),s==null?t.removeAttribute("class"):e?t.setAttribute("class",s):t.className=s}function Fc(t,s,e){const n=t.style,i=ht(e);if(e&&!i){if(s&&!ht(s))for(const o in s)e[o]==null&&Qn(n,o,"");for(const o in e)Qn(n,o,e[o])}else{const o=n.display;i?s!==e&&(n.cssText=e):s&&t.removeAttribute("style"),"_vod"in t&&(n.display=o)}}const Do=/\s*!important$/;function Qn(t,s,e){if(z(e))e.forEach(n=>Qn(t,s,n));else if(e==null&&(e=""),s.startsWith("--"))t.setProperty(s,e);else{const n=Bc(t,s);Do.test(e)?t.setProperty(Be(n),e.replace(Do,""),"important"):t[n]=e}}const Fo=["Webkit","Moz","ms"],Mn={};function Bc(t,s){const e=Mn[s];if(e)return e;let n=Vt(s);if(n!=="filter"&&n in t)return Mn[s]=n;n=en(n);for(let i=0;i<Fo.length;i++){const o=Fo[i]+n;if(o in t)return Mn[s]=o}return s}const Bo="http://www.w3.org/1999/xlink";function zc(t,s,e,n,i){if(n&&s.startsWith("xlink:"))e==null?t.removeAttributeNS(Bo,s.slice(6,s.length)):t.setAttributeNS(Bo,s,e);else{const o=Dl(s);e==null||o&&!cr(e)?t.removeAttribute(s):t.setAttribute(s,o?"":e)}}function kc(t,s,e,n,i,o,r){if(s==="innerHTML"||s==="textContent"){n&&r(n,i,o),t[s]=e??"";return}const l=t.tagName;if(s==="value"&&l!=="PROGRESS"&&!l.includes("-")){t._value=e;const c=l==="OPTION"?t.getAttribute("value"):t.value,h=e??"";c!==h&&(t.value=h),e==null&&t.removeAttribute(s);return}let a=!1;if(e===""||e==null){const c=typeof t[s];c==="boolean"?e=cr(e):e==null&&c==="string"?(e="",a=!0):c==="number"&&(e=0,a=!0)}try{t[s]=e}catch{}a&&t.removeAttribute(s)}function Nc(t,s,e,n){t.addEventListener(s,e,n)}function Wc(t,s,e,n){t.removeEventListener(s,e,n)}function Uc(t,s,e,n,i=null){const o=t._vei||(t._vei={}),r=o[s];if(n&&r)r.value=n;else{const[l,a]=Yc(s);if(n){const c=o[s]=Gc(n,i);Nc(t,l,c,a)}else r&&(Wc(t,l,r,a),o[s]=void 0)}}const zo=/(?:Once|Passive|Capture)$/;function Yc(t){let s;if(zo.test(t)){s={};let n;for(;n=t.match(zo);)t=t.slice(0,t.length-n[0].length),s[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Be(t.slice(2)),s]}let En=0;const Vc=Promise.resolve(),Xc=()=>En||(Vc.then(()=>En=0),En=Date.now());function Gc(t,s){const e=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=e.attached)return;It(qc(n,e.value),s,5,[n])};return e.value=t,e.attached=Xc(),e}function qc(t,s){if(z(s)){const e=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{e.call(t),t._stopped=!0},s.map(n=>i=>!i._stopped&&n&&n(i))}else return s}const ko=/^on[a-z]/,Kc=(t,s,e,n,i=!1,o,r,l,a)=>{s==="class"?Dc(t,n,i):s==="style"?Fc(t,e,n):Js(s)?xi(s)||Uc(t,s,e,n,r):(s[0]==="."?(s=s.slice(1),!0):s[0]==="^"?(s=s.slice(1),!1):Zc(t,s,n,i))?kc(t,s,n,o,r,l,a):(s==="true-value"?t._trueValue=n:s==="false-value"&&(t._falseValue=n),zc(t,s,n,i))};function Zc(t,s,e,n){return n?!!(s==="innerHTML"||s==="textContent"||s in t&&ko.test(s)&&W(e)):s==="spellcheck"||s==="draggable"||s==="translate"||s==="form"||s==="list"&&t.tagName==="INPUT"||s==="type"&&t.tagName==="TEXTAREA"||ko.test(s)&&ht(e)?!1:s in t}const Qt="transition",Ge="animation",Yi=(t,{slots:s})=>Ic($a,jc(t),s);Yi.displayName="Transition";const il={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Yi.props=ft({},$r,il);const ue=(t,s=[])=>{z(t)?t.forEach(e=>e(...s)):t&&t(...s)},No=t=>t?z(t)?t.some(s=>s.length>1):t.length>1:!1;function jc(t){const s={};for(const $ in t)$ in il||(s[$]=t[$]);if(t.css===!1)return s;const{name:e="v",type:n,duration:i,enterFromClass:o=`${e}-enter-from`,enterActiveClass:r=`${e}-enter-active`,enterToClass:l=`${e}-enter-to`,appearFromClass:a=o,appearActiveClass:c=r,appearToClass:h=l,leaveFromClass:g=`${e}-leave-from`,leaveActiveClass:f=`${e}-leave-active`,leaveToClass:m=`${e}-leave-to`}=t,C=Jc(i),w=C&&C[0],S=C&&C[1],{onBeforeEnter:R,onEnter:L,onEnterCancelled:k,onLeave:M,onLeaveCancelled:H,onBeforeAppear:Z=R,onAppear:st=L,onAppearCancelled:D=k}=s,Y=($,rt,dt)=>{fe($,rt?h:l),fe($,rt?c:r),dt&&dt()},U=($,rt)=>{$._isLeaving=!1,fe($,g),fe($,m),fe($,f),rt&&rt()},J=$=>(rt,dt)=>{const Ve=$?st:L,pt=()=>Y(rt,$,dt);ue(Ve,[rt,pt]),Wo(()=>{fe(rt,$?a:o),te(rt,$?h:l),No(Ve)||Uo(rt,n,w,pt)})};return ft(s,{onBeforeEnter($){ue(R,[$]),te($,o),te($,r)},onBeforeAppear($){ue(Z,[$]),te($,a),te($,c)},onEnter:J(!1),onAppear:J(!0),onLeave($,rt){$._isLeaving=!0;const dt=()=>U($,rt);te($,g),eh(),te($,f),Wo(()=>{$._isLeaving&&(fe($,g),te($,m),No(M)||Uo($,n,S,dt))}),ue(M,[$,dt])},onEnterCancelled($){Y($,!1),ue(k,[$])},onAppearCancelled($){Y($,!0),ue(D,[$])},onLeaveCancelled($){U($),ue(H,[$])}})}function Jc(t){if(t==null)return null;if(ot(t))return[Pn(t.enter),Pn(t.leave)];{const s=Pn(t);return[s,s]}}function Pn(t){return Il(t)}function te(t,s){s.split(/\s+/).forEach(e=>e&&t.classList.add(e)),(t._vtc||(t._vtc=new Set)).add(s)}function fe(t,s){s.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const{_vtc:e}=t;e&&(e.delete(s),e.size||(t._vtc=void 0))}function Wo(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Qc=0;function Uo(t,s,e,n){const i=t._endId=++Qc,o=()=>{i===t._endId&&n()};if(e)return setTimeout(o,e);const{type:r,timeout:l,propCount:a}=th(t,s);if(!r)return n();const c=r+"end";let h=0;const g=()=>{t.removeEventListener(c,f),o()},f=m=>{m.target===t&&++h>=a&&g()};setTimeout(()=>{h<a&&g()},l+1),t.addEventListener(c,f)}function th(t,s){const e=window.getComputedStyle(t),n=C=>(e[C]||"").split(", "),i=n(`${Qt}Delay`),o=n(`${Qt}Duration`),r=Yo(i,o),l=n(`${Ge}Delay`),a=n(`${Ge}Duration`),c=Yo(l,a);let h=null,g=0,f=0;s===Qt?r>0&&(h=Qt,g=r,f=o.length):s===Ge?c>0&&(h=Ge,g=c,f=a.length):(g=Math.max(r,c),h=g>0?r>c?Qt:Ge:null,f=h?h===Qt?o.length:a.length:0);const m=h===Qt&&/\b(transform|all)(,|$)/.test(n(`${Qt}Property`).toString());return{type:h,timeout:g,propCount:f,hasTransform:m}}function Yo(t,s){for(;t.length<s.length;)t=t.concat(t);return Math.max(...s.map((e,n)=>Vo(e)+Vo(t[n])))}function Vo(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function eh(){return document.body.offsetHeight}const sh={beforeMount(t,{value:s},{transition:e}){t._vod=t.style.display==="none"?"":t.style.display,e&&s?e.beforeEnter(t):qe(t,s)},mounted(t,{value:s},{transition:e}){e&&s&&e.enter(t)},updated(t,{value:s,oldValue:e},{transition:n}){!s!=!e&&(n?s?(n.beforeEnter(t),qe(t,!0),n.enter(t)):n.leave(t,()=>{qe(t,!1)}):qe(t,s))},beforeUnmount(t,{value:s}){qe(t,s)}};function qe(t,s){t.style.display=s?t._vod:"none"}const nh=ft({patchProp:Kc},$c);let Xo;function ih(){return Xo||(Xo=lc(nh))}const oh=(...t)=>{const s=ih().createApp(...t),{mount:e}=s;return s.mount=n=>{const i=rh(n);if(!i)return;const o=s._component;!W(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const r=e(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),r},s};function rh(t){return ht(t)?document.querySelector(t):t}const lh="st",ah="is-",de=(t,s,e,n,i)=>{let o=`${t}-${s}`;return e&&(o+=`-${e}`),n&&(o+=`__${n}`),i&&(o+=`--${i}`),o},Ne=t=>{const s=lh;return{namespace:s,b:(h="")=>de(s,t,h,"",""),e:h=>h?de(s,t,"",h,""):"",m:h=>h?de(s,t,"","",h):"",be:(h,g)=>h&&g?de(s,t,h,g,""):"",em:(h,g)=>h&&g?de(s,t,"",h,g):"",bm:(h,g)=>h&&g?de(s,t,h,"",g):"",bem:(h,g,f)=>h&&g&&f?de(s,t,h,g,f):"",is:(h,...g)=>{const f=g.length>=1?g[0]:!0;return h&&f?`${ah}${h}`:""}}};class it{constructor(s=1,e=0,n=0,i=1,o=0,r=0){p(this,"a");p(this,"b");p(this,"c");p(this,"d");p(this,"tx");p(this,"ty");this.a=s,this.b=e,this.c=n,this.d=i,this.tx=o,this.ty=r}set(s,e,n,i,o,r){return this.a=s,this.b=e,this.c=n,this.d=i,this.tx=o,this.ty=r,this}getArray(){return[this.a,this.b,this.c,this.d,this.tx,this.ty]}apply(s){const e=s.x,n=s.y;return{x:this.a*e+this.c*n+this.tx,y:this.b*e+this.d*n+this.ty}}applyInverse(s){const e=this.a,n=this.b,i=this.c,o=this.d,r=this.tx,l=this.ty,a=1/(e*o+i*-n),c=s.x,h=s.y;return{x:o*a*c+-i*a*h+(l*i-r*o)*a,y:e*a*h+-n*a*c+(-l*e+r*n)*a}}translate(s,e){return this.tx+=s,this.ty+=e,this}scale(s,e){return this.a*=s,this.d*=e,this.c*=s,this.b*=e,this.tx*=s,this.ty*=e,this}rotate(s){const e=Math.cos(s),n=Math.sin(s),i=this.a,o=this.c,r=this.tx;return this.a=i*e-this.b*n,this.b=i*n+this.b*e,this.c=o*e-this.d*n,this.d=o*n+this.d*e,this.tx=r*e-this.ty*n,this.ty=r*n+this.ty*e,this}append(s){const e=this.a,n=this.b,i=this.c,o=this.d;return this.a=s.a*e+s.b*i,this.b=s.a*n+s.b*o,this.c=s.c*e+s.d*i,this.d=s.c*n+s.d*o,this.tx=s.tx*e+s.ty*i+this.tx,this.ty=s.tx*n+s.ty*o+this.ty,this}appendFrom(s,e){const n=s.a,i=s.b,o=s.c,r=s.d,l=s.tx,a=s.ty,c=e.a,h=e.b,g=e.c,f=e.d;return this.a=n*c+i*g,this.b=n*h+i*f,this.c=o*c+r*g,this.d=o*h+r*f,this.tx=l*c+a*g+e.tx,this.ty=l*h+a*f+e.ty,this}prepend(s){const e=this.tx;if(s.a!==1||s.b!==0||s.c!==0||s.d!==1){const n=this.a,i=this.c;this.a=n*s.a+this.b*s.c,this.b=n*s.b+this.b*s.d,this.c=i*s.a+this.d*s.c,this.d=i*s.b+this.d*s.d}return this.tx=e*s.a+this.ty*s.c+s.tx,this.ty=e*s.b+this.ty*s.d+s.ty,this}invert(){const s=this.a,e=this.b,n=this.c,i=this.d,o=this.tx,r=s*i-e*n;return this.a=i/r,this.b=-e/r,this.c=-n/r,this.d=s/r,this.tx=(n*this.ty-i*o)/r,this.ty=-(s*this.ty-e*o)/r,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const s=new it;return s.a=this.a,s.b=this.b,s.c=this.c,s.d=this.d,s.tx=this.tx,s.ty=this.ty,s}copyTo(s){return s.a=this.a,s.b=this.b,s.c=this.c,s.d=this.d,s.tx=this.tx,s.ty=this.ty,s}copyFrom(s){return this.a=s.a,this.b=s.b,this.c=s.c,this.d=s.d,this.tx=s.tx,this.ty=s.ty,this}equals(s){return s.a===this.a&&s.b===this.b&&s.c===this.c&&s.d===this.d&&s.tx===this.tx&&s.ty===this.ty}toString(){return`[Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}}const Go=(t,s)=>{const e=t[0],n=t[1],i=t[2],o=t[3];return[s[0]*e+s[1]*i,s[0]*n+s[1]*o,s[2]*e+s[3]*i,s[2]*n+s[3]*o,s[4]*e+s[5]*i+t[4],s[4]*n+s[5]*o+t[5]]},ch=t=>{const s=t[0],e=t[1],n=t[2],i=t[3],o=t[4],r=s*i-e*n;return[i/r,-e/r,-n/r,s/r,(n*t[5]-i*o)/r,-(s*t[5]-e*o)/r]},hh=(t,s)=>({x:s.x*t[0]+s.y*t[2]+t[4],y:s.x*t[1]+s.y*t[3]+t[5]}),ti=(t,s)=>Math.sqrt(Math.pow(t.x-s.x,2)+Math.pow(t.y-s.y,2)),Ce=(t,s,e=0)=>(s=_e(s,e),t.x>=s.x&&t.y>=s.y&&t.x<=s.width+s.x&&t.y<=s.height+s.y),uh=(t,s,e,n=0)=>{const i=s.x-n,o=s.y-n,r=s.width+n*2,l=s.height+n*2;return t.x>=i&&t.y>=o&&t.x<=i+r&&t.y<=o+l?t.x<=i+e&&t.y<=o+e?(t.x-i-e)**2+(t.y-o-e)**2<=e[0]**2:t.x>=i+r-e&&t.y<=o+e?(t.x-i-r+e)**2+(t.y-o-e)**2<=e**2:t.x>=i+r-e&&t.y>=o+l-e?(t.x-i-r+e)**2+(t.y-o-l+e)**2<=e**2:t.x<=i+e&&t.y>=o+l-e?(t.x-i-e)**2+(t.y-o-l+e)**2<=e**2:!0:!1},qo=(...t)=>{if(t.length===0)throw new Error("the count of rect can not be 0");let s=1/0,e=1/0,n=-1/0,i=-1/0;for(const o of t)s=Math.min(s,o.x),e=Math.min(e,o.y),n=Math.max(n,o.x+o.width),i=Math.max(i,o.y+o.height);return{x:s,y:e,width:n-s,height:i-e}},ei=(t,s)=>t.x<=s.x+s.width&&t.x+t.width>=s.x&&t.y<=s.y+s.height&&t.y+t.height>=s.y,_e=(t,s)=>({x:t.x-s,y:t.y-s,width:t.width+s*2,height:t.height+s*2}),ol=(t,s,...e)=>{e=[t,s,...e];const n=Math.min(...e.map(l=>l.x)),i=Math.min(...e.map(l=>l.y)),o=Math.max(...e.map(l=>l.x)),r=Math.max(...e.map(l=>l.y));return{x:n,y:i,width:Math.abs(o-n),height:Math.abs(r-i)}};var kt=(t=>(t.n="n",t.s="s",t.e="e",t.w="w",t.nw="nw",t.ne="ne",t.sw="sw",t.se="se",t))(kt||{});const fh={n:{getLocalOrigin:(t,s)=>({x:t/2,y:s}),getNewSize:(t,s,e,n=0)=>({width:e.width,height:s.y-t.y-n})},e:{getLocalOrigin:(t,s)=>({x:0,y:s/2}),getNewSize:(t,s,e,n=0)=>({width:t.x-s.x-n,height:e.height})},s:{getLocalOrigin:t=>({x:t/2,y:0}),getNewSize:(t,s,e,n=0)=>({width:e.width,height:t.y-s.y-n})},w:{getLocalOrigin:(t,s)=>({x:t,y:s/2}),getNewSize:(t,s,e,n=0)=>({width:s.x-t.x-n,height:e.height})},nw:{getLocalOrigin:(t,s)=>({x:t,y:s}),getNewSize:(t,s,e,n=0)=>({width:s.x-t.x-n,height:s.y-t.y-n})},ne:{getLocalOrigin:(t,s)=>({x:0,y:s}),getNewSize:(t,s,e,n=0)=>({width:t.x-s.x-n,height:s.y-t.y-n})},sw:{getLocalOrigin:t=>({x:t,y:0}),getNewSize:(t,s,e,n=0)=>({width:s.x-t.x-n,height:t.y-s.y-n})},se:{getLocalOrigin:()=>({x:0,y:0}),getNewSize:(t,s,e,n=0)=>({width:t.x-s.x-n,height:t.y-s.y-n})}},Ko=(t,s,e,n=0)=>{const i=fh[t],o=new it(...e.transform),r={width:0,height:0,transform:o.clone()},l=o.applyInverse(s),a=i.getLocalOrigin(e.width,e.height),c=i.getNewSize(l,a,e,n),h=new it;h.scale(c.width/e.width,c.height/e.height),r.width=e.width,r.height=e.height,r.transform=r.transform.append(h);const g=r.transform.apply(i.getLocalOrigin(r.width,r.height)),f=o.apply(a),m={x:f.x-g.x,y:f.y-g.y};r.transform.prepend(new it().translate(m.x,m.y));const C=Math.sign(c.width)||1,w=Math.sign(c.height)||1,S=new it().translate(-r.width/2,-r.height/2).scale(C,w).translate(r.width/2,r.height/2);return r.transform.append(S),{width:r.width,height:r.height,transform:r.transform.getArray()}},dh=t=>{const s=new it(t.transform[0],t.transform[1],t.transform[2],t.transform[3],0,0),e=s.apply({x:t.width,y:0}),n=s.apply({x:0,y:t.height}),i={x:0,y:0};return{width:ti(e,i),height:ti(n,i)}},gh=t=>{const s=dh(t),e=s.width?t.width/s.width:1,n=s.height?t.height/s.height:1,i=new it().scale(e,n),o=new it(...t.transform).append(i);return{width:s.width,height:s.height,transform:o.getArray()}},ph=(t,s)=>{const{x:e,y:n,width:i,height:o}=t;return[{x:e,y:n},{x:e+i,y:n},{x:e+i,y:n+o},{x:e,y:n+o}]},si=t=>({x:t.minX,y:t.minY,width:t.maxX-t.minX,height:t.maxY-t.minY}),mh=t=>{let s=1/0,e=1/0,n=-1/0,i=-1/0;for(const o of t)s=Math.min(s,o.x),e=Math.min(e,o.y),n=Math.max(n,o.x),i=Math.max(i,o.y);return{minX:s,minY:e,maxX:n,maxY:i}},rl=(t,s)=>{let e=0,n=0,i=t.width,o=t.height;const r=t.transform,l=ph({x:e,y:n,width:i,height:o}).map(a=>hh(r,a));return mh(l)},yh=t=>{if(t.length===0)throw new Error("the count of boxes can not be 0");let s=1/0,e=1/0,n=-1/0,i=-1/0;for(const o of t)s=Math.min(s,o.minX),e=Math.min(e,o.minY),n=Math.max(n,o.maxX),i=Math.max(i,o.maxY);return{minX:s,minY:e,maxX:n,maxY:i}},ni=(t,s)=>{const e=t.x*s.x+t.y*s.y,n=Math.sqrt(t.x*t.x+t.y*t.y)*Math.sqrt(s.x*s.x+s.y*s.y);let i=e/n;i>1?i=1:i<-1&&(i=-1);let o=Math.acos(i);return t.x*s.y-t.y*s.x<0&&(o=Math.PI*2-o),o},wh=(t,s={x:0,y:-1})=>{const n=new it(t[0],t[1],t[2],t[3],0,0).apply(s);return ni(s,n)};var E=(t=>(t.TOP="top",t.LEFT="left",t.RIGHT="right",t.BOTTOM="bottom",t))(E||{});const pn=(t,s)=>t.map((e,n)=>e-s[n]),Oe=(t,s)=>t.map((e,n)=>e+s[n]),vh=(t,s)=>Math.hypot(...pn(s,t).map(Math.abs)),Zo=(t,s)=>{const e=pn(s,t).map(Math.abs);return e[0]+e[1]},ll=t=>t.join(":"),jo=t=>JSON.parse(JSON.stringify(t)),Fs=(t,s)=>{const e=t.map(n=>[...n]);return e[0]=Oe(e[0],[-s,-s]),e[1]=Oe(e[1],[s,-s]),e[2]=Oe(e[2],[s,s]),e[3]=Oe(e[3],[-s,s]),e},ii=(t,s)=>t[0]>=s[0][0]&&t[0]<=s[1][0]&&t[1]>=s[0][1]&&t[1]<=s[2][1],bh=t=>{const s=new Map,e=[];return t.forEach(n=>{const i=ll(n);s.has(i)||(e.push(n),s.set(i,!0))}),e},Ch=t=>{const s=[];return t.forEach((e,n)=>{t.forEach((i,o)=>{n!==o&&(s.push([e[0],i[1]]),s.push([i[0],e[1]]))})}),s},Th=(t,s,e)=>{const n=pn(s,t);let i=!1;switch(e){case E.TOP:i=n[0]<0;break;case E.LEFT:i=n[1]<0;break;case E.RIGHT:i=n[1]>0;break;default:i=n[0]>0}return!i},On={[E.LEFT]:[0,-1],[E.RIGHT]:[0,1],[E.TOP]:[-1,0],[E.BOTTOM]:[1,0]},_h={[E.LEFT]:E.RIGHT,[E.TOP]:E.BOTTOM,[E.BOTTOM]:E.TOP,[E.RIGHT]:E.LEFT},oi=t=>_h[t],xh=(t,s)=>{const e=Object.keys(On);if(s){const n=e.filter(i=>i!==oi(t));return n.sort(i=>i===t?-1:1),n.map(i=>On[i])}return e.sort((n,i)=>n===t?-1:1),e.map(n=>On[n])},ri=t=>t===E.LEFT||t===E.RIGHT,li=t=>{const s=[[E.LEFT,E.RIGHT],[E.TOP,E.BOTTOM]],e=[[...t].reverse(),t];return s.some(n=>e.some(i=>i[0]===n[0]&&i[1]===n[1]))},Mh=(t,s,e,n,i)=>{if(!li([t.direction,s.direction]))return!1;const o=n.getGridPoint(e),r=n.getGridPoint(t.endpoint),l=n.getGridPoint(s.endpoint),a=[r[0],l[0]],c=[r[1],l[1]];[a,c].forEach(C=>{C.sort((w,S)=>w-S)});const h=ri(t.direction),g=h?o[1]:o[0],f=h?c:a,m=C=>h?[o[0],C]:[C,o[1]];for(let C=g,w=g;C>=f[0]&&w<=f[1];C--,w++){const S=m(C),R=m(C+1),L=m(w),k=m(w-1);if(!n.isValid(S)||!n.isValid(R)||!n.isValid(L)||!n.isValid(k)||!i(n.getRealPoint(m(C)),n.getRealPoint(m(C+1)))||!i(n.getRealPoint(m(w)),n.getRealPoint(m(w-1))))return!1}return!0},Eh=(t,s)=>[t,s].map(e=>({...e,endpoint:e.origin.slice()})),Ph=(t,s,e,n,i,o)=>n?s&&n?e.some(r=>s[r][o]>n[i[0]][o]&&s[r][o]<n[i[1]][o]):t[o]>n[i[0]][o]&&t[o]<n[i[1]][o]:!0,Oh=(t,s,e,n)=>{if(!t.box&&!s.box)return Eh(t,s);const i=[t,s].map(a=>Object.assign({...jo(a),endpoint:jo(a.origin)},a.box?{boundaryBox:Fs(a.box,e),originBoundaryBox:Fs(a.box,e)}:{})),o={[E.TOP]:-1,[E.LEFT]:-1,[E.RIGHT]:1,[E.BOTTOM]:1},r={[E.TOP]:[[0,1],[3,2]],[E.LEFT]:[[0,3],[1,2]],[E.RIGHT]:[[1,2],[0,3]],[E.BOTTOM]:[[3,2],[0,1]]};if(n)return i.forEach(({direction:a,endpoint:c,origin:h})=>{const g=o[a],f=ri(a)?0:1;c[f]=h[f]+e*g}),i;const l=Object.keys(o);return i.forEach(({box:a,direction:c,endpoint:h,origin:g,boundaryBox:f,originBoundaryBox:m},C)=>{l.forEach(w=>{const S=r[w],R=i[(C+1)%2],[L,k]=S,M=o[w],H=ri(w)?0:1,Z=H===0?1:0,st=Ph(g,m,L,R.originBoundaryBox,k,Z),D=a?a[L[0]]:g,Y=R.box?R.box[k[0]][H]-D[H]:R.origin[H]-D[H],U=Y>0?1:-1,J=Math.abs(Y)/2,$=U===M&&Math.abs(Y)<e*2;st&&$?(a&&f&&L.forEach(dt=>{f[dt][H]=a[dt][H]+M*J}),R.box&&k.forEach(dt=>{R.boundaryBox[dt][H]=R.box[dt][H]+M*J*-1}),w===c&&(h[H]=g[H]+M*J)):w===c&&(h[H]=g[H]+e*M)})}),i};var be;let Rh=(be=class{constructor(s,e){p(this,"grid");p(this,"points");p(this,"pointMap");p(this,"costs",[]);p(this,"xAxis",[]);p(this,"yAxis",[]);p(this,"params");this.points=s,this.grid=[],this.pointMap=[],this.params=e,this.setup()}setup(){const{getCost:s}=this.params||{},e=this.points,n=new Set,i=new Set;e.forEach(f=>{n.add(f[0]),i.add(f[1])});const o=i.size,r=n.size,l=Array.from(n.values()),a=Array.from(i.values());l.sort((f,m)=>f-m),a.sort((f,m)=>f-m);const c=Array.from({length:o},()=>new Array(r).fill(0)),h=Array.from({length:o},()=>new Array(r).fill(be.basicCost)),g=Array.from({length:o},()=>new Array(r));for(let f=0;f<o;f++)for(let m=0;m<r;m++)g[f][m]=[l[m],a[f]],c[f][m]=!0,s&&(h[f][m]=s(g[f][m],be.basicCost));this.grid=c,this.pointMap=g,this.yAxis=a,this.xAxis=l,this.costs=h}getGridPoint(s){return[this.yAxis.indexOf(s[1]),this.xAxis.indexOf(s[0])]}getRealPoint(s){return this.pointMap[s[0]][s[1]]}getWalkable(s,e){const{getWalkable:n}=this.params||{};return this.isValid(e)&&(n?n(this.getRealPoint(s),this.getRealPoint(e)):!0)}getCost(s){return this.costs[s[0]][s[1]]}isValid(s){const e=this.grid.length,n=this.grid[0].length;return s[0]>=0&&s[0]<e&&s[1]>=0&&s[1]<n}},p(be,"basicCost",1),be);const Ih=t=>{if(t.length<3)return t;var s=[],e=t[0][0],n=t[0][1],i=t[1][0],o=t[1][1],r=i-e,l=o-n,a,c,h,g,f,m;for(f=Math.sqrt(r*r+l*l),r/=f,l/=f,s.push([e,n]),m=2;m<t.length;m++)a=i,c=o,h=r,g=l,i=t[m][0],o=t[m][1],r=i-a,l=o-c,f=Math.sqrt(r*r+l*l),r/=f,l/=f,(r!==h||l!==g)&&s.push([a,c]);return s.push([i,o]),s};function Ms(t,s,e,n){var i=(n[0]-e[0])*(t[1]-e[1])-(n[1]-e[1])*(t[0]-e[0]),o=(s[0]-t[0])*(t[1]-e[1])-(s[1]-t[1])*(t[0]-e[0]),r=(n[1]-e[1])*(s[0]-t[0])-(n[0]-e[0])*(s[1]-t[1]);if(r!==0){var l=i/r,a=o/r;if(0<=l&&l<=1&&0<=a&&a<=1)return!0}return!1}const Bs=(t,s,e)=>{const[n,i,o,r]=e;return!!(Ms(t,s,n,i)||Ms(t,s,i,o)||Ms(t,s,o,r)||Ms(t,s,r,n))},Sh=(t,s)=>t.some((n,i)=>Bs(t[i],t[(i+1)%4],s))||s.some((n,i)=>Bs(s[i],s[(i+1)%4],t)),Ah=(t,s,e)=>{const i=t[0]*s[1]-t[1]*s[0]+s[0]*e[1]-s[1]*e[0]+e[0]*t[1]-e[1]*t[0],o=vh(t,s);return Math.abs(i/o)<=0},Jo=t=>{if(t.length<3)return 0;let s=0;for(let e=1;e<t.length-1;e++)Ah(t[e-1],t[e+1],t[e])||s++;return s},Lh=(t,s)=>Oe(t,s).map(e=>Math.round(e/2));class Hh{}class $h{constructor(){p(this,"heap");this.heap=[null]}peek(){return this.heap[1]}remove(){this.swap(1,this.heap.length-1),this.heap.pop(),this.sink(1)}add(s){this.heap.push(s),this.swim()}clear(){this.heap=[null]}sink(s){const e=this.heap.length-1;let n=0;for(;s*2<=e&&(n=s*2,n+1<=e&&this.heap[n].compare(this.heap[n+1])>0&&n++,this.heap[s].compare(this.heap[n])>0);)this.swap(s,n),s=n}swim(){let s=this.heap.length-1,e=0;for(;s>1&&(e=s>>1,this.heap[s].compare(this.heap[e])<0);)this.swap(s,e),s=e}swap(s,e){const n=this.heap[s];this.heap[s]=this.heap[e],this.heap[e]=n}}class Rn extends Hh{constructor(e,n=0,i=null){super();p(this,"G");p(this,"H");p(this,"parent");p(this,"xy");p(this,"key");p(this,"F");this.G=n,this.H=0,this.parent=i,this.xy=e,this.key=ll(e),this.F=n}setParent(e){this.parent=e}setG(e){this.G=e,this.F=this.H+this.G}setH(e){this.H=e,this.F=this.H+this.G}compare(e){return this.F-e.F}}const Ke=new $h,In=new Map,Pe=new Map,Qo=(t,s)=>{const e=pn(s,t);return e[0]===0?e[1]>0?E.BOTTOM:E.TOP:e[0]>0?E.RIGHT:E.LEFT};function tr(t,s,e,n,i,o,r){const l=t.getGridPoint(s),a=t.getGridPoint(e),c=new Rn(l),h=new Rn(a),g=[];let f=!0,m=0;for(Ke.add(c),Pe.set(c.key,c);Pe.size;){const C=Ke.peek(),w=C.xy;if(Ke.remove(),Pe.delete(C.key),C.key===h.key){if(C.parent&&!Th(C.parent.xy,w,i))continue;let L=C;for(;L;)g.unshift(t.getRealPoint(L.xy)),L=L.parent;m=C.G;break}In.set(C.key,C);const S=xh(n,f),R=r!==void 0&&f?S.slice(r,r+1):S;f=!1,R.forEach(([L,k])=>{const M=Oe(w,[L,k]),H=new Rn(M);if(!In.has(H.key)&&t.getWalkable(w,M)){const Z=Pe.get(H.key),st=Qo(w,M),D=C.parent?Qo(C.parent.xy,w):null,Y=D!==null&&D!==st,U=C.G+t.getCost(M)+(Y?.02:0),J=o(M,t);H.setG(U),H.setH(J),Z?H.G<Z.G&&(Z.setG(U),Z.setParent(C)):(H.setParent(C),Ke.add(H),Pe.set(H.key,H))}})}return Ke.clear(),Pe.clear(),In.clear(),{path:Ih(g),grid:t,G:m}}const Dh=(t,{startInfo:s,endInfo:e,waypoint:n,isCovered:i,checkWaypointWalkable:o})=>{const r=n&&Mh(s,e,n,t,o),l=(f,m)=>{const C=Zo(f,m.getGridPoint(e.endpoint));return r?C+Zo(f,m.getGridPoint(n)):C};if(i){const f=tr(t,s.endpoint,e.endpoint,s.direction,e.direction,l);return f.path.push(e.origin),f.path.unshift(s.origin),f}const a=[0,1,2,4].map(f=>tr(t,s.endpoint,e.endpoint,s.direction,e.direction,l,f)).filter(f=>f.path.length);let c=null,h=1/0,g=1/0;return a.forEach(f=>{const m=[...f.path];m.push(e.origin),m.unshift(s.origin);const C=Jo(f.path),w=Jo(m);(C<h||C===h&&w<g||C===h&&w===g&&f.G<c.G)&&(h=C,g=w,c=f)}),c||(c={grid:t,path:[],G:1/0},console.warn("Path not found")),c.path.push(e.origin),c.path.unshift(s.origin),c},Fh=(t,s,e)=>{const n=t.box&&s.box?Sh(t.box,s.box):!1,o=[[t.origin,s.box],[s.origin,t.box]].filter(f=>f[1]).every(([f,m])=>ii(f,m)),[r,l]=Oh(t,s,e,o),a=Lh(r.endpoint,l.endpoint),c=[[r.endpoint[0],a[1]],[l.endpoint[0],a[1]],[a[0],r.endpoint[1]],[a[0],l.endpoint[1]],a],h=a,g=[r.endpoint,l.endpoint,...c];return o||g.push(...r.boundaryBox??[],...l.boundaryBox??[]),{isIntersect:n,isCovered:o,startInfo:r,endInfo:l,allPoints:bh(Ch(g)),waypoint:h}},Bh=(t,s,e)=>{const{isCovered:n,isIntersect:i,startInfo:o,endInfo:r,allPoints:l,waypoint:a}=Fh(t,s,e),c=[o.boundaryBox&&Fs(o.boundaryBox,-1),r.boundaryBox&&Fs(r.boundaryBox,-1)].filter(Boolean),h=[o.box,r.box].filter(Boolean),g=i?!n&&li([o.direction,r.direction])?2:0:5,f=c.length===2?!i:!n,m=new Rh(l,{getCost(w,S){const R=[0,1].reduce((L,k)=>h[k]&&ii(w,h[k])?L+2:c[k]&&ii(w,c[k])?L+1:L,0);return S+R*g},getWalkable(w,S){return f?c.every(R=>!Bs(w,S,R)):!0}}),C=Dh(m,{startInfo:o,endInfo:r,isCovered:n,waypoint:li([o.direction,r.direction])?a:void 0,checkWaypointWalkable:(w,S)=>n||!S?!0:c.every(R=>!Bs(w,S,R))});return{path:C,points:C.grid.points,boxs:[{box:o.boundaryBox},{box:r.boundaryBox}]}},er=t=>[t.x,t.y],sr=t=>{const{x:s,y:e,width:n,height:i}=t;return[[s,e],[s+n,e],[s+n,e+i],[s,e+i]]},nr=t=>({x:t[0],y:t[1]}),ai=t=>{const s=Math.atan2(Math.abs(t[1]),Math.abs(t[0]))/Math.PI*180;let e=s;const n=45;t[0]<0?e=t[1]>=0?180-s:180+s:e=t[1]>=0?s:360-s;let i;return e<=n||e>360-n?i=E.LEFT:e>n&&e<=180-n?i=E.TOP:e>180-n&&e<=180+n?i=E.RIGHT:i=E.BOTTOM,i},zh=(t,s,e)=>{const n=Bh({box:t.rect?sr(t.rect):void 0,origin:er(t.origin),direction:t.direction},{box:s.rect?sr(s.rect):void 0,origin:er(s.origin),direction:s.direction},e);return{controlPoints:n.path.path.map(nr),mapPoints:n.points.map(nr)}};function kh({x:t,y:s},e,n,i=0){return e+=i,n+=i,e===n?t*t+s*s<=e*e:t*t/(e*e)+s*s/(n*n)<=1}function Nh(t,[s,e]){const n={x:s.x-t.x,y:s.y-t.y};e.x-t.x,e.y-t.y;const i={x:e.x-s.x,y:e.y-s.y},o=n.x*i.y-n.y*i.x;if(Math.abs(o)>Number.EPSILON)return!1;const r=n.x*i.x+n.y*i.y;if(r<0)return!1;const l=i.x*i.x+i.y*i.y;return!(r>l)}function Wh(t,[s,e]){let n=((t.x-s.x)*(e.x-s.x)+(t.y-s.y)*(e.y-s.y))/((e.x-s.x)**2+(e.y-s.y)**2);return n=Math.max(0,Math.min(1,n)),{x:s.x+n*(e.x-s.x),y:s.y+n*(e.y-s.y)}}function Uh(t){if(t.length<2)return[];const s=[];for(let e=0;e<t.length-1;e++)s.push([t[e],t[e+1]]);return s}function Yh(t,[s,e],n){if(n===0)return Nh(t,[s,e]);const i=Wh(t,[s,e]);return ti(t,i)<=n/2}function Vh(t,s,e){return s.some(n=>Yh(t,n,e))}function Xh({x:t,y:s},e,n,i=0){e+=i,n+=i;const o=Math.abs(t*n)+Math.abs(s*e),r=e*n*.5;return o<=r}let Xt=class{constructor(){p(this,"eventMap",new Map);p(this,"eventMapCache",new Map)}on(s,e){return this.eventMap.has(s)||this.eventMap.set(s,[]),this.eventMap.get(s).push(e),this}emit(s,...e){const n=this.eventMap.get(s);return!n||n.length===0?!1:(n.forEach(i=>{i(...e)}),!0)}off(s,e){if(this.eventMap.has(s)){const n=this.eventMap.get(s).filter(i=>i!==e);n.length?this.eventMap.set(s,n):this.eventMap.delete(s)}return this}clear(){this.eventMapCache.clear();const s=this.eventMap.entries();for(const[e,n]of s)this.eventMapCache.set(e,n);this.eventMap.clear()}reset(){this.eventMap.clear();const s=this.eventMapCache.entries();for(const[e,n]of s)this.eventMap.set(e,n)}};function Gh(...t){console.warn(...t)}var yt=[];for(var Sn=0;Sn<256;++Sn)yt.push((Sn+256).toString(16).slice(1));function qh(t,s=0){return(yt[t[s+0]]+yt[t[s+1]]+yt[t[s+2]]+yt[t[s+3]]+"-"+yt[t[s+4]]+yt[t[s+5]]+"-"+yt[t[s+6]]+yt[t[s+7]]+"-"+yt[t[s+8]]+yt[t[s+9]]+"-"+yt[t[s+10]]+yt[t[s+11]]+yt[t[s+12]]+yt[t[s+13]]+yt[t[s+14]]+yt[t[s+15]]).toLowerCase()}var Es,Kh=new Uint8Array(16);function Zh(){if(!Es&&(Es=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Es))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Es(Kh)}var jh=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ir={randomUUID:jh};function Jh(t,s,e){if(ir.randomUUID&&!s&&!t)return ir.randomUUID();t=t||{};var n=t.random||(t.rng||Zh)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,qh(n)}function We(){return Jh()}function Je(){return window.devicePixelRatio||1}function An(t,s,e){const n=Je();t.width=s*n,t.height=e*n,t.style.width=`${s}px`,t.style.height=`${e}px`}function Ln(t){t.setLineDash([]),t.lineDashOffset=0}function al(t,s){const e=t.indexOf(s);e>-1&&t.splice(e,1)}const mn=(t,s)=>{let e=!1,n=s.pageX,i=s.pageY;const o=l=>{var h,g;const a=l.pageX-n,c=l.pageY-i;e||(e=!0,(h=t.onDragStart)==null||h.call(t,l)),(g=t.onDragMove)==null||g.call(t,l,[a,c])},r=l=>{var a;e&&((a=t.onDragEnd)==null||a.call(t,l)),window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",r),window.removeEventListener("mouseleave",r)};window.addEventListener("mousemove",o),window.addEventListener("mouseup",r),window.addEventListener("mouseleave",r)};class Qh{constructor(){p(this,"started",!1);p(this,"animations",[]);p(this,"tick",()=>{this.animations=this.animations.filter(s=>s.status==="running"),this.animations.length&&(this.animations.forEach(s=>s.run()),requestAnimationFrame(this.tick))})}add(s){this.animations.includes(s)||this.animations.push(s)}start(){this.started||requestAnimationFrame(this.tick)}}class tu{constructor(s,e){p(this,"startValue");p(this,"endValue");p(this,"duration");p(this,"startTime",Date.now());p(this,"status","stopped");this.manager=s,this.options=e,this.startValue=e.startValue,this.endValue=e.endValue,this.duration=e.duration}start(){this.startTime=Date.now(),this.status="running",this.manager.add(this),this.manager.start()}stop(){this.status="stopped"}run(){var i,o;const s=this.endValue-this.startValue;let e=Date.now()-this.startTime;e>this.duration&&(e=this.duration,this.options.loop?this.startTime=Date.now():this.status="stopped");const n=this.startValue+s*e/this.duration;this.options.onUpdate(n),e===this.duration&&((o=(i=this.options).onEnd)==null||o.call(i))}}let Hn=null;function cl(t){return Hn||(Hn=new Qh),new tu(Hn,t)}function hl(t){if(t===null||typeof t!="object")return t;const s=Array.isArray(t)?[]:{};for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(s[e]=hl(t[e]));return s}class eu extends Xt{constructor(e){super();p(this,"modelList",[]);p(this,"modelMap",new Map);this.name=e}addModel(e){this.modelMap.has(e.id)||(this.modelList.push(e),this.modelMap.set(e.id,e),this.emit("addModel",e))}removeModel(e){this.modelMap.has(e.id)&&(this.modelList=this.modelList.filter(n=>n.id!==e.id),this.modelMap.delete(e.id),this.emit("removeModel",e),e.dispose())}dispose(){this.clear()}}var O=(t=>(t.rectChange="rectChange",t.change="change",t.mouseIn="mouseIn",t.mouseOut="mouseOut",t.mouseDown="mouseDown",t.mouseUp="mouseUp",t.REPAINT="repaint",t))(O||{}),fs=(t=>(t.addModels="add-models",t.removeModels="remove-models",t.modelsChange="change",t))(fs||{});class su extends Xt{constructor(){super();p(this,"modelList",[]);p(this,"modelMap",new Map);p(this,"layerList",[]);p(this,"layerMap",new Map);const e=new eu("default");this.addLayer(e)}addLayer(e){if(e.modelList.length>0){Gh("!");return}this.layerMap.has(e.name)||(this.layerList.push(e),this.layerMap.set(e.name,e))}removeLayer(e){const n=this.getLayer(e);n&&n.name!=="default"&&(this.layerList=this.layerList.filter(i=>i.name!==e),this.layerMap.delete(e),n.modelList.forEach(i=>{this.modelList=this.modelList.filter(o=>o.id!==i.id),this.modelMap.delete(i.id)}),this.emit("remove-models",n.modelList),this.emit("change",n.modelList),n.dispose())}getLayer(e){return this.layerMap.get(e)||null}getDefaultLayer(){return this.getLayer("default")}_addModels(e){e.forEach(n=>{const i=n.getLayerId();let o=this.getLayer(i);o||(o=this.getDefaultLayer(),n.setLayerId("default")),n.on(O.change,()=>{this.emit("change",[n])}),this.modelMap.set(n.id,n),this.modelList.push(n),o.addModel(n)})}addModel(e){this._addModels([e]),this.emit("add-models",[e]),this.emit("change",[e])}addModels(e){this._addModels(e),this.emit("add-models",e),this.emit("change",e)}_removeModels(e){e.forEach(n=>{if(!this.modelMap.has(n.id))return;const i=n.getLayerId(),o=this.getLayer(i);o&&(o.removeModel(n),this.modelMap.delete(n.id),al(this.modelList,n))})}removeModel(e){this._removeModels([e]),this.emit("remove-models",[e]),this.emit("change",[e])}removeModels(e){this._removeModels(e),this.emit("remove-models",e),this.emit("change",e)}each(e){for(let n=0;n<=this.layerList.length-1;n++){const i=this.layerList[n];for(let o=0;o<=i.modelList.length-1;o++){const r=i.modelList[o];if(e(r,i)===!0)return}}}reverseEach(e){for(let n=this.layerList.length-1;n>=0;n--){const i=this.layerList[n];for(let o=i.modelList.length-1;o>=0;o--){const r=i.modelList[o];if(e(r,i)===!0)return}}}has(e){return this.modelMap.has(e.id)}getModelList(){return this.modelList}dispose(){this.modelList.forEach(e=>e.dispose()),this.modelList=[],this.modelMap.clear(),this.layerList.forEach(e=>e.dispose()),this.layerList=[],this.layerMap.clear(),this.clear()}removeAll(){const e=this.modelList.slice();this._removeModels(e)}}class Vi extends Xt{constructor(e,n=""){super();p(this,"rect",{x:0,y:0,width:0,height:0});p(this,"isHovered",!1);p(this,"isActive",!1);this.host=e,this.tag=n,this.on(O.change,()=>{this.getHost().emit(O.change)}),this.on(O.mouseIn,()=>{this.setIsHovered(!0)}),this.on(O.mouseOut,()=>{this.setIsHovered(!1)}),this.init()}init(){}updatePosition(){}getIsHovered(){return this.isHovered}setIsHovered(e){e!==this.isHovered&&(this.isHovered=e,this.emit(O.change))}getIsActive(){return this.isActive}setIsActive(e){e!==this.isActive&&(this.isActive=e,this.getHost().setActiveControl(e?this:null),this.emit(O.change))}getHost(){return this.host}getTag(){return this.tag}setSize(e,n){e===this.rect.width&&n===this.rect.height||(this.rect.width=e,this.rect.height=n)}setPosition(e,n){e===this.rect.x&&n===this.rect.y||(this.rect.x=e,this.rect.y=n)}getCenterPosition(){return{x:this.rect.x+this.rect.width/2,y:this.rect.y+this.rect.height/2}}setCenterPosition(e,n){const{x:i,y:o,width:r,height:l}=this.rect,a=e-r/2,c=n-l/2;a===i&&c===o||(this.rect.x=a,this.rect.y=c)}getScenePosition(){const e=this.getHost(),{x:n,y:i}=e.getRect();return{x:n+this.rect.x,y:i+this.rect.y}}getSceneCenterPosition(){const n=this.getHost().getWorldTransform(),i={x:this.rect.x+this.rect.width/2,y:this.rect.y+this.rect.height/2};return new it(...n).apply(i)}getRect(){return this.rect}handleMousedown(e,n){}hitTest(e,n){const o=new it(...this.getHost().getWorldTransform()).applyInverse({x:e,y:n});return Ce(o,this.getRect())}getCursor(){return"default"}dispose(){this.clear()}}var ds=(t=>(t.mouseIn="mouseIn",t.mouseOut="mouseOut",t.selected="selected",t.unselected="unselected",t.ATTR_CHANGE="attrChange",t))(ds||{});class Ue extends Xt{constructor(e=We()){super();p(this,"rect",{x:0,y:0,width:0,height:0});p(this,"transform",[1,0,0,1,0,0]);p(this,"layerId","");p(this,"isHovered",!1);p(this,"isSelected",!1);p(this,"activeControl",null);this.id=e,this.on("mouseIn",()=>{this.setIsHovered(!0)}),this.on("mouseOut",()=>{this.setIsHovered(!1)}),this.on("selected",()=>{this.setIsSelected(!0)}),this.on("unselected",()=>{this.setIsSelected(!1)}),this.init()}init(){}getMinWidth(){return 0}getMinHeight(){return 0}getSize(){return{width:this.rect.width,height:this.rect.height}}setSize(e,n){e=Math.max(e,this.getMinWidth()),n=Math.max(n,this.getMinHeight());let i=!1;e!==this.rect.width&&(this.rect.width=e,i=!0),n!==this.rect.height&&(this.rect.height=n,i=!0),i&&(this.emit(O.rectChange),this.emit(O.change))}setPosition(e,n){const i=this.getRect();let o=e!==i.x||n!==i.y;this.rect.x=e,this.rect.y=n,o&&(this.emit(O.rectChange),this.emit(O.change))}getPosition(){const e=this.getRect();return{x:e.x,y:e.y}}getCenterPosition(){const e=this.getRect();return{x:e.x+e.width/2,y:e.y+e.height/2}}setCenterPosition(e,n){const{width:i,height:o}=this.getRect();this.setPosition(e-i/2,n-o/2)}move(e,n){this.rect.x+=e,this.rect.y+=n,(e!==0||n!==0)&&(this.emit(O.rectChange),this.emit(O.change))}getRect(){return{...this.rect}}getRenderRect(){return this.rect}getLayerId(){return this.layerId}setLayerId(e){this.layerId=e}getTransform(){return[...this.transform]}setTransform(e){this.transform=[...e]}getWorldTransform(){const[e,n,i,o]=this.transform;return[e,n,i,o,this.rect.x,this.rect.y]}setWorldTransform(e){const[n,i,o,r,l,a]=e;this.transform=[n,i,o,r,0,0],this.setPosition(l,a)}hitTest(e,n){return!1}beforePaint(e,n){}afterPaint(e,n){}getIsHovered(){return this.isHovered}setIsHovered(e){this.isHovered!==e&&(this.isHovered=e,this.emit(O.change))}getIsSelected(){return this.isSelected}setIsSelected(e){this.isSelected!==e&&(this.isSelected=e,this.emit(O.change))}getActiveControl(){return this.activeControl}setActiveControl(e){e!==this.activeControl&&(this.activeControl=e,this.emit(O.change))}dispose(){this.clear(),this.isSelected=!1,this.isHovered=!1}getBoundingBox(){return rl({...this.getSize(),transform:this.getWorldTransform()})}getBoundingRect(){return si(this.getBoundingBox())}getRotate(){return wh(this.getWorldTransform())}setRotate(e,n,i){const r=new it().translate(-i.x,-i.y).rotate(e).translate(i.x,i.y).append(new it(...n)).getArray();this.setWorldTransform(r)}getMovable(){return!0}getResizeable(){return!0}getRotatable(){return!0}updateControlPosition(e){}setAttr(e,n,i=!1){(this.attrs[e]!==n||i)&&(this.attrs[e]=n,this.emit("attrChange",{property:e,value:n}),this.emit(O.change))}toJson(){const e={id:this.id,category:this.getCategory(),attrs:this.attrs,rect:this.rect,transform:this.transform,layerId:this.layerId};return hl(e)}static fromJson(e,n,i){const o=new i(e.id);return o.attrs=e.attrs,o.setPosition(e.rect.x,e.rect.y),o.setSize(e.rect.width,e.rect.height),o.transform=e.transform,o.setLayerId(e.layerId),o}getControlByTag(e){return null}}p(Ue,"CATEGORY");const is=class is extends Ue{constructor(e,n,i=We()){super(i);p(this,"attrs",{lineColor:"#000",lineWidth:2,lineCap:"round",lineDash:[10,10],lineDashOffset:-20});p(this,"controlPoints",[]);p(this,"mapPoints",[]);p(this,"_endDirection",E.LEFT);p(this,"animation",null);p(this,"isCreating",!1);p(this,"findPathPoints",()=>{const n={rect:this.start.getHost().getRect(),origin:this.start.getSceneCenterPosition(),direction:this.getStartDirection()},i="paint"in this.end?this.end.getSceneCenterPosition():this.end,o={rect:"paint"in this.end?this.end.getHost().getRect():void 0,origin:i,direction:this.getEndDirection()},{mapPoints:r,controlPoints:l}=zh(n,o,20);this.mapPoints=r,this.controlPoints=l,l.shift(),l.pop(),this.emit(O.rectChange),this.emit(O.change)});this.start=e,this.end=n,this.id=i,e.getHost().on(O.rectChange,this.findPathPoints),"paint"in this.end&&this.end.getHost().on(O.rectChange,this.findPathPoints),this.startAnimation()}hitTest(e,n){if(this.isCreating)return!1;const i=Uh(this.getAllPoints());return Vh({x:e,y:n},i,this.attrs.lineWidth+1)}getStartPoint(){return this.start.getSceneCenterPosition()}getEndPoint(){return"paint"in this.end?this.end.getSceneCenterPosition():this.end}setEnd(e){this.end!==e&&("paint"in this.end&&this.end.getHost().off(O.rectChange,this.findPathPoints),this.end=e,"paint"in e&&e.getHost().on(O.rectChange,this.findPathPoints),this.findPathPoints(),this.emit(O.change))}setEndDirection(e){"paint"in this.end||this._endDirection!==e&&(this._endDirection=e,this.findPathPoints(),this.emit(O.change))}getStartDirection(){const e=this.start.getSceneCenterPosition(),n=this.start.getHost().getCenterPosition(),i=[e.x-n.x,e.y-n.y],o=ai(i);return oi(o)}getEndDirection(){if("paint"in this.end){const e=this.end.getSceneCenterPosition(),n=this.end.getHost().getCenterPosition(),i=[e.x-n.x,e.y-n.y],o=ai(i);return oi(o)}return this._endDirection}getAllPoints(){const e=this.getStartPoint(),n=this.getEndPoint();return[e,...this.controlPoints,n]}getRect(){const e=this.getStartPoint(),n=this.getEndPoint();return ol(e,n,...this.controlPoints)}getRenderRect(){const e=this.getRect(),n=this.attrs.lineWidth*2;return _e(e,n)}getSize(){const{width:e,height:n}=this.getRect();return{width:e,height:n}}getWorldTransform(){const{x:e,y:n}=this.getRect();return[1,0,0,1,e,n]}paint(e){e.beginPath();const n=this.getAllPoints(),{x:i,y:o}=n.pop(),r=this.getEndDirection(),l=8,a=12;n.forEach((g,f)=>{e[f?"lineTo":"moveTo"](g.x,g.y)}),r===E.LEFT?e.lineTo(i-a/2,o):r===E.RIGHT?e.lineTo(i+a/2,o):r===E.BOTTOM?e.lineTo(i,o+a/2):r===E.TOP&&e.lineTo(i,o-a/2);const{attrs:c}=this,h=c.lineWidth;e.strokeStyle=c.lineColor,e.lineCap=c.lineCap,e.lineWidth=h,e.setLineDash(c.lineDash),e.lineDashOffset=c.lineDashOffset,e.stroke(),e.beginPath(),r===E.LEFT?(e.moveTo(i,o),e.lineTo(i-a,o-l/2),e.lineTo(i-a,o+l/2)):r===E.RIGHT?(e.moveTo(i,o),e.lineTo(i+a,o-l/2),e.lineTo(i+a,o+l/2)):r===E.BOTTOM?(e.moveTo(i,o),e.lineTo(i-l/2,o+a),e.lineTo(i+l/2,o+a)):r===E.TOP&&(e.moveTo(i,o),e.lineTo(i-l/2,o-a),e.lineTo(i+l/2,o-a)),e.closePath(),e.fillStyle=c.lineColor,e.fill()}getCategory(){return is.CATEGORY}getStart(){return this.start}getStartHost(){return this.start.getHost()}getEnd(){return this.end}getEndHost(){return"getHost"in this.end?this.end.getHost():null}getMovable(){return!1}getResizeable(){return!1}getRotatable(){return!1}startAnimation(){if(!this.animation){const e=this.attrs.lineDashOffset;this.animation=cl({startValue:0,endValue:e,duration:1e3,loop:!0,onUpdate:n=>{this.setAttr("lineDashOffset",n)}})}this.animation.start()}dispose(){var e,n;super.dispose(),(e=this.animation)==null||e.stop(),this.getStartHost().off(O.rectChange,this.findPathPoints),(n=this.getEndHost())==null||n.off(O.rectChange,this.findPathPoints)}reset(){var e;super.reset(),this.getStartHost().on(O.rectChange,this.findPathPoints),(e=this.getEndHost())==null||e.on(O.rectChange,this.findPathPoints),this.startAnimation()}toJson(){const e=super.toJson();e.start=this.getStartHost().id;const n=this.getEndHost();e.end=n?n.id:this.getEndPoint(),e.startControlDir=this.start.getTag();const i=this.end;return e.endControlDir="getTag"in i?i.getTag():this._endDirection,e}setIsCreating(e){this.isCreating=e}static fromJson(e,n){const i=n.find(a=>a.id===e.start);if(!i)throw new Error(`Link:ID${e.start}`);const o=i.getControlByTag(e.startControlDir);let r;if(typeof e.end=="string"){const a=n.find(c=>c.id===e.end);if(!a)throw new Error(`Link:ID${e.end}`);r=a.getControlByTag(e.endControlDir)}else r=e.end;const l=new is(o,r,e.id);return l.setEndDirection(e.endControlDir),l.attrs=e.attrs,l.setPosition(e.rect.x,e.rect.y),l.setSize(e.rect.width,e.rect.height),l.transform=e.transform,l.setLayerId(e.layerId),l.findPathPoints(),l}};p(is,"CATEGORY","link");let Fe=is;const xt=class xt extends Vi{constructor(e,n){super(e,n);p(this,"updatePosition",()=>{this.getHost().updateControlPosition(this)});e.on(O.rectChange,this.updatePosition)}init(){this.setSize(xt.SIZE,xt.SIZE)}handleMousedown(e,n){let i=null;const r=this.getHost().getLayerId();mn({onDragStart:l=>{this.setIsActive(!0)},onDragMove:(l,a)=>{const c=n.getElementAt(l);let h;c&&c.control&&c.control instanceof xt&&c.control!==this?h=c.control:h=n.viewportManager.getCursorScenePoint(l),i?(i.setEndDirection(ai(a)),i.setEnd(h)):(i=new Fe(this,h),i.setIsCreating(!0),i.setLayerId(r),n.box.addModel(i))},onDragEnd:l=>{if(this.setIsActive(!1),!i)return;i.setIsCreating(!1);const a=n.getElementAt(l);a&&a.control&&a.control instanceof xt&&i.setEnd(a.control);const c={undo(){n.box.removeModel(i)},redo(){n.box.addModel(i),i==null||i.reset()}};n.actionManager.push(c)}},e)}paint(e){const n=this.getRect(),i=n.x+n.width/2,o=n.y+n.height/2;e.beginPath(),e.arc(i,o,xt.SIZE/2,0,Math.PI*2),this.getIsHovered()||this.getIsActive()?(e.fillStyle=xt.FILL_COLOR,e.fill()):(e.fillStyle="#fff",e.fill()),e.strokeStyle=xt.BORDER_COLOR,e.lineWidth=xt.BORDER_WIDTH,e.stroke()}getCursor(){return"crosshair"}};p(xt,"SIZE",8),p(xt,"BORDER_WIDTH",2),p(xt,"BORDER_COLOR","#0f8eff"),p(xt,"FILL_COLOR","#0f8eff");let K=xt;const Ns=class Ns extends Ue{constructor(e=We()){super(e);p(this,"attrs",{border:{width:2,color:"#000",style:"solid"},fill:!0,fillColor:"#fff"});p(this,"rect",{x:0,y:0,width:200,height:150});p(this,"linkControls",[]);this.linkControls=[new K(this,E.TOP),new K(this,E.RIGHT),new K(this,E.BOTTOM),new K(this,E.LEFT)]}hitTest(e,n){var a;if(!Ce({x:e,y:n},this.getRenderRect()))return!1;if(this.getIsHovered()){const c=this.linkControls.find(h=>h.hitTest(e,n));if(c)return c}const{width:i,height:o}=this.getRect(),l=new it().translate(i/2,o/2).prepend(new it(...this.getWorldTransform())).applyInverse({x:e,y:n});return Xh(l,i,o,(a=this.attrs.border)==null?void 0:a.width)}getRenderRect(){var i;let e=((i=this.attrs.border)==null?void 0:i.width)||1;const n=this.getBoundingRect();return e=Math.max(e,K.SIZE/2+K.BORDER_WIDTH),_e(n,e)}beforePaint(e,n){e.save();const i=this.getWorldTransform();e.transform(...i)}paint(e){var a;const{attrs:n}=this,{width:i,height:o}=this.getRect(),r=i/2,l=o/2;e.beginPath(),e.moveTo(r,0),e.lineTo(i,l),e.lineTo(r,o),e.lineTo(0,l),e.lineTo(r,0),n.fill&&(e.fillStyle=n.fillColor,e.fill()),(a=n.border)!=null&&a.width&&(e.strokeStyle=n.border.color,e.lineWidth=n.border.width,e.stroke())}afterPaint(e,n){const i=this.getActiveControl();(this.getIsHovered()||i instanceof K)&&this.linkControls.forEach(o=>{o.paint(e)}),e.restore()}getCategory(){return Ns.CATEGORY}updateControlPosition(e){const n=this.getRect(),{width:i,height:o}=n;switch(e.getTag()){case E.TOP:e.setCenterPosition(i/2,0);break;case E.RIGHT:e.setCenterPosition(i,o/2);break;case E.BOTTOM:e.setCenterPosition(i/2,o);break;case E.LEFT:e.setCenterPosition(0,o/2)}}getControlByTag(e){return this.linkControls.find(n=>n.getTag()===e)||null}};p(Ns,"CATEGORY","diamond");let ci=Ns;const Ws=class Ws extends Ue{constructor(e=We()){super(e);p(this,"attrs",{border:{width:2,color:"#000",style:"solid"},fill:!0,fillColor:"#fff"});p(this,"rect",{x:0,y:0,width:200,height:200});p(this,"linkControls",[]);this.id=e,this.linkControls=[new K(this,E.TOP),new K(this,E.RIGHT),new K(this,E.BOTTOM),new K(this,E.LEFT)]}getRenderRect(){var i;let e=((i=this.attrs.border)==null?void 0:i.width)||1;const n=this.getBoundingRect();return e=Math.max(e,K.SIZE/2+K.BORDER_WIDTH),_e(n,e)}hitTest(e,n){var a;if(!Ce({x:e,y:n},this.getRenderRect()))return!1;if(this.getIsHovered()){const c=this.linkControls.find(h=>h.hitTest(e,n));if(c)return c}const{width:i,height:o}=this.getRect(),l=new it().translate(i/2,o/2).prepend(new it(...this.getWorldTransform())).applyInverse({x:e,y:n});return kh(l,i/2,o/2,((a=this.attrs.border)==null?void 0:a.width)??0)}beforePaint(e,n){e.save();const i=this.getWorldTransform();e.transform(...i)}paint(e){var a;const{attrs:n}=this,{width:i,height:o}=this.rect,r=i/2,l=o/2;if(e.beginPath(),i===o)e.arc(r,l,i/2,0,Math.PI*2);else{const c=i/2,h=o/2,g=c>h?1/c:1/h;e.moveTo(r+c,l);for(let f=0;f<2*Math.PI;f+=g)e.lineTo(r+c*Math.cos(f),l+h*Math.sin(f));e.closePath()}n.fill&&(e.fillStyle=n.fillColor,e.fill()),(a=n.border)!=null&&a.width&&(e.strokeStyle=n.border.color,e.lineWidth=n.border.width,e.stroke())}afterPaint(e,n){const i=this.getActiveControl();(this.getIsHovered()||i instanceof K)&&this.linkControls.forEach(o=>{o.paint(e)}),e.restore()}dispose(){super.dispose()}getCategory(){return Ws.CATEGORY}updateControlPosition(e){const n=this.getRect(),{width:i,height:o}=n;switch(e.getTag()){case E.TOP:e.setCenterPosition(i/2,0);break;case E.RIGHT:e.setCenterPosition(i,o/2);break;case E.BOTTOM:e.setCenterPosition(i/2,o);break;case E.LEFT:e.setCenterPosition(0,o/2)}}getControlByTag(e){return this.linkControls.find(n=>n.getTag()===e)||null}};p(Ws,"CATEGORY","ellipse");let hi=Ws;class nu{constructor(){p(this,"classMap",new Map);this.register(Fe)}register(s){this.classMap.set(s.CATEGORY,s)}getInstance(s,e){const n=this.classMap.get(s);if(!n)throw new Error(`${s} is not registered`);return new n(e)}parseJson(s,e){const n=this.classMap.get(s.category);if(!n)throw new Error(`${s.category} is not registered`);return n.fromJson(s,e,n)}}const Us=class Us extends Ue{constructor(e=We()){super(e);p(this,"attrs",{border:{width:2,color:"#000",style:"solid"},fill:!0,fillColor:"#fff",roundGap:0});p(this,"rect",{x:0,y:0,width:200,height:100});p(this,"linkControls",[]);this.id=e,this.linkControls=[new K(this,E.TOP),new K(this,E.RIGHT),new K(this,E.BOTTOM),new K(this,E.LEFT)]}getRoundGap(){return Math.min(Math.min(this.rect.width,this.rect.height)/2,this.attrs.roundGap??0)}getRenderRect(){var i;let e=((i=this.attrs.border)==null?void 0:i.width)||1;const n=this.getBoundingRect();return e=Math.max(e,K.SIZE/2+K.BORDER_WIDTH),_e(n,e)}hitTest(e,n){if(!Ce({x:e,y:n},this.getRenderRect()))return!1;if(this.getIsHovered()){const a=this.linkControls.find(c=>c.hitTest(e,n));if(a)return a}const o=new it(...this.getWorldTransform()).applyInverse({x:e,y:n}),{width:r,height:l}=this.getRect();return uh(o,{x:0,y:0,width:r,height:l},this.getRoundGap())}beforePaint(e,n){e.save();const i=this.getWorldTransform();e.transform(...i)}paint(e){var l;const{attrs:n}=this,{width:i,height:o}=this.rect;e.beginPath();const r=this.getRoundGap();r?e.roundRect(0,0,i,o,r):e.rect(0,0,i,o),n.fill&&(e.fillStyle=n.fillColor,e.fill()),(l=n.border)!=null&&l.width&&(e.strokeStyle=n.border.color,e.lineWidth=n.border.width,e.stroke())}afterPaint(e,n){const i=this.getActiveControl();(this.getIsHovered()||i instanceof K)&&this.linkControls.forEach(o=>{o.paint(e)}),e.restore()}dispose(){super.dispose()}getCategory(){return Us.CATEGORY}updateControlPosition(e){const n=this.getRect(),{width:i,height:o}=n;switch(e.getTag()){case E.TOP:e.setCenterPosition(i/2,0);break;case E.RIGHT:e.setCenterPosition(i,o/2);break;case E.BOTTOM:e.setCenterPosition(i/2,o);break;case E.LEFT:e.setCenterPosition(0,o/2)}}getControlByTag(e){return this.linkControls.find(n=>n.getTag()===e)||null}};p(Us,"CATEGORY","rect");let ui=Us;const Nt=class Nt extends Vi{constructor(s,e){super(s,e)}init(){this.setSize(Nt.SIZE,Nt.SIZE)}updatePosition(){const s=this.getHost().getRect();if(!s||s.width===0||s.height===0)return;const{width:e,height:n}=s,i=Nt.SIZE/2,o=this.getTag();o===kt.nw?this.setPosition(0-i,0-i):o===kt.ne?this.setPosition(e-i,0-i):o===kt.sw?this.setPosition(0-i,n-i):o===kt.se?this.setPosition(e-i,n-i):o===kt.n?this.setPosition(e/2-i,0-i):o===kt.e?this.setPosition(e-i,n/2-i):o===kt.w?this.setPosition(0-i,n/2-i):o===kt.s&&this.setPosition(e/2-i,n-i)}hitTest(s,e){return super.hitTest(s,e)}paint(s){const e=this.getRect();s.beginPath(),s.rect(e.x,e.y,e.width,e.height),s.fillStyle=s.fillStyle=this.getIsHovered()||this.getIsActive()?Nt.BORDER_COLOR:"#fff",s.fill(),s.setLineDash([]),s.strokeStyle=Nt.BORDER_COLOR,s.lineWidth=1,s.stroke()}handleMousedown(s,e){const n=this.getHost(),i=n.getSelectionList().filter(w=>w.getResizeable());if(i.length===0)return;const o=new Map,r=new Map;i.forEach(w=>{o.set(w.id,w.getWorldTransform()),r.set(w.id,w.getRect())});let{x:l,y:a,width:c,height:h}=n.getBoundingRect();const g=new it().translate(l,a);let f={x:s.offsetX,y:s.offsetY};const m=new Map,C=new Map;mn({onDragStart:()=>{this.setIsActive(!0)},onDragMove:w=>{const S={x:w.offsetX,y:w.offsetY};if(S.x===f.x&&S.y===f.y)return;const R=e.viewportManager.getCursorScenePoint(w);f=S;let L=new it;if(n.getSelectionList().length===1){const M=o.get(i[0].id),H=r.get(i[0].id),Z=Ko(this.getTag(),R,{width:H.width,height:H.height,transform:M});L=new it(...Z.transform).append(new it(...M).invert())}else{const M=Ko(this.getTag(),R,{width:c,height:h,transform:g.getArray()});L=new it(...M.transform).append(g.clone().invert())}const k=L.getArray();i.forEach(M=>{const H=o.get(M.id),Z=Go(k,H),st=Go(ch([1,0,0,1,0,0]),Z),{width:D,height:Y}=r.get(M.id),U=gh({width:D,height:Y,transform:st});M.setSize(U.width,U.height),M.setWorldTransform(U.transform),m.set(M.id,M.getWorldTransform()),C.set(M.id,M.getRect())})},onDragEnd:w=>{this.setIsActive(!1);const S={undo:()=>{i.forEach(R=>{const{width:L,height:k}=r.get(R.id),M=o.get(R.id);R.setSize(L,k),R.setWorldTransform(M)})},redo:()=>{i.forEach(R=>{const{width:L,height:k}=C.get(R.id),M=m.get(R.id);R.setSize(L,k),R.setWorldTransform(M)})}};e.actionManager.push(S)}},s)}getCursor(){return`${this.getTag()}-resize`}};p(Nt,"BORDER_WIDTH",1),p(Nt,"SIZE",8),p(Nt,"BORDER_COLOR","#0f8eff");let fi=Nt;const Wt=class Wt extends Vi{init(){this.setSize(Wt.SIZE,Wt.SIZE)}updatePosition(){const{width:s,height:e}=this.getHost().getRect();this.setPosition(s,-Wt.SIZE)}handleMousedown(s,e){const n=this.getHost(),i=n.getSelectionList().filter(w=>w.getRotatable());if(i.length===0)return;const o=new Map,r=new Map;i.forEach(w=>{o.set(w.id,w.getWorldTransform()),r.set(w.id,{...w.getRect()})});const{x:l,y:a,width:c,height:h}=n.getBoundingRect(),g={x:l+c/2,y:a+h/2},f=e.viewportManager.getScenePoint({x:s.offsetX,y:s.offsetY}),m=ni({x:0,y:-1},{x:f.x-g.x,y:f.y-g.y});n.togglePauseUpdateRect(!0);const C=new Map;mn({onDragStart:()=>{this.setIsActive(!0)},onDragMove:w=>{const S=e.viewportManager.getScenePoint({x:w.offsetX,y:w.offsetY}),{x:R,y:L}=g,M=ni({x:0,y:-1},{x:S.x-R,y:S.y-L})-m;i.forEach(H=>{H.setRotate(M,o.get(H.id),{x:R,y:L}),C.set(H.id,H.getWorldTransform())}),n.setRotate(M)},onDragEnd:w=>{this.setIsActive(!1),n.setRotate(0),n.togglePauseUpdateRect(!1),n.caculateContainRect();const S={undo:()=>{i.forEach(R=>{const L=o.get(R.id);R.setWorldTransform(L)})},redo:()=>{i.forEach(R=>{const L=C.get(R.id);R.setWorldTransform(L)})}};e.actionManager.push(S)}},s)}paint(s){const n=this.getIsHovered()||this.getIsActive()?Wt.ACTIVE_FILL_STYLE:Wt.FILL_STYLE;s.save(),s.translate(this.rect.x,this.rect.y),s.strokeStyle="rgba(0,0,0,0)",s.miterLimit=4,s.scale(.015625,.015625),s.save(),s.fillStyle=n,s.beginPath(),s.moveTo(793.6,993.28),s.bezierCurveTo(784.384,993.28,775.168,989.696,768,983.04),s.lineTo(594.432,808.9599999999999),s.bezierCurveTo(580.6080000000001,795.136,580.6080000000001,772.0959999999999,594.432,758.2719999999999),s.bezierCurveTo(608.256,744.448,631.296,744.448,645.12,758.2719999999999),s.lineTo(793.6,906.752),s.lineTo(942.08,758.2719999999999),s.bezierCurveTo(955.904,744.448,978.9440000000001,744.448,992.768,758.2719999999999),s.bezierCurveTo(1006.592,772.0959999999999,1006.592,795.136,992.768,808.9599999999999),s.lineTo(819.2,983.04),s.bezierCurveTo(812.032,989.6959999999999,802.816,993.28,793.6,993.28),s.closePath(),s.moveTo(250.88,450.56),s.bezierCurveTo(241.664,450.56,232.448,446.976,225.792,439.808),s.lineTo(51.712,266.24),s.bezierCurveTo(37.888000000000005,252.416,37.888000000000005,229.376,51.712,215.55200000000002),s.lineTo(225.79200000000003,41.98400000000001),s.bezierCurveTo(239.61600000000004,28.16000000000001,262.656,28.16000000000001,276.48,41.98400000000001),s.bezierCurveTo(290.30400000000003,55.80800000000001,290.30400000000003,78.84800000000001,276.48,92.67200000000001),s.lineTo(128.00000000000003,241.152),s.lineTo(276.48,389.63199999999995),s.bezierCurveTo(290.30400000000003,403.45599999999996,290.30400000000003,426.4959999999999,276.48,440.31999999999994),s.bezierCurveTo(269.312,446.97599999999994,260.096,450.55999999999995,250.88000000000002,450.55999999999995),s.closePath(),s.fill(),s.stroke(),s.restore(),s.save(),s.fillStyle=n,s.beginPath(),s.moveTo(793.6,993.28),s.bezierCurveTo(773.6320000000001,993.28,757.76,977.408,757.76,957.4399999999999),s.lineTo(757.76,803.8399999999999),s.bezierCurveTo(757.76,513.0239999999999,521.216,276.4799999999999,230.39999999999998,276.4799999999999),s.lineTo(76.8,276.4799999999999),s.bezierCurveTo(56.831999999999994,276.4799999999999,40.959999999999994,260.6079999999999,40.959999999999994,240.6399999999999),s.bezierCurveTo(40.959999999999994,220.6719999999999,56.831999999999994,204.7999999999999,76.8,204.7999999999999),s.lineTo(230.39999999999998,204.7999999999999),s.bezierCurveTo(560.64,204.7999999999999,829.4399999999999,473.5999999999999,829.4399999999999,803.8399999999999),s.lineTo(829.4399999999999,957.4399999999999),s.bezierCurveTo(829.4399999999999,977.4079999999999,813.568,993.28,793.5999999999999,993.28),s.closePath(),s.fill(),s.stroke(),s.restore(),s.restore()}};p(Wt,"SIZE",16),p(Wt,"FILL_STYLE","#333"),p(Wt,"ACTIVE_FILL_STYLE","#0f8eff");let zs=Wt;const Ys=class Ys extends Ue{constructor(e=We()){super(e);p(this,"attrs",{border:{width:2,color:"#000",style:"solid"},fill:!0,fillColor:"#fff"});p(this,"rect",{x:0,y:0,width:200,height:100});p(this,"linkControls",[]);this.linkControls=[new K(this,E.TOP),new K(this,E.RIGHT),new K(this,E.BOTTOM),new K(this,E.LEFT)]}hitTest(e,n){var a,c;if(!Ce({x:e,y:n},this.getRenderRect()))return!1;if(this.getIsHovered()){const h=this.linkControls.find(g=>g.hitTest(e,n));if(h)return h}const o=new it(...this.getWorldTransform()).applyInverse({x:e,y:n}),{width:r,height:l}=this.getRect();return Ce(o,{x:0,y:0,width:r,height:l},((c=(a=this.attrs)==null?void 0:a.border)==null?void 0:c.width)??0)}getRenderRect(){var i;let e=((i=this.attrs.border)==null?void 0:i.width)||1;const n=this.getBoundingRect();return e=Math.max(e,K.SIZE/2+K.BORDER_WIDTH),_e(n,e)}beforePaint(e,n){e.save();const i=this.getWorldTransform();e.transform(...i)}paint(e){var a;const{attrs:n}=this,{width:i,height:o}=this.getRect();e.beginPath();let r=Math.min(i,o)/2;const l=Math.max(0,i-2*r);e.moveTo(r,0),e.lineTo(r+l,0),e.arcTo(r+l+r,0,r+l+r,o/2,r),e.arcTo(r+l+r,o,r+l,o,r),e.lineTo(r,o),e.arcTo(0,o,0,o/2,r),e.arcTo(0,0,r,0,r),n.fill&&(e.fillStyle=n.fillColor,e.fill()),(a=n.border)!=null&&a.width&&(e.strokeStyle=n.border.color,e.lineWidth=n.border.width,e.stroke())}afterPaint(e,n){const i=this.getActiveControl();(this.getIsHovered()||i instanceof K)&&this.linkControls.forEach(o=>{o.paint(e)}),e.restore()}getCategory(){return Ys.CATEGORY}updateControlPosition(e){const n=this.getRect(),{width:i,height:o}=n;switch(e.getTag()){case E.TOP:e.setCenterPosition(i/2,0);break;case E.RIGHT:e.setCenterPosition(i,o/2);break;case E.BOTTOM:e.setCenterPosition(i/2,o);break;case E.LEFT:e.setCenterPosition(0,o/2)}}getControlByTag(e){return this.linkControls.find(n=>n.getTag()===e)||null}};p(Ys,"CATEGORY","terminator");let di=Ys;const Re=class Re extends Xt{constructor(e){super();p(this,"mousedown",!1);p(this,"selectionRect",null);p(this,"mouseEl",null);p(this,"mouseControl",null);p(this,"handleMouseDown",e=>{this.mousedown=!0,this.selectionRect=null;const n=this.editor.selectionManager,i=this.mouseEl;if(e.shiftKey&&i){n.toggleSelection(i);return}this.mouseControl?(this.mouseControl.emit(O.mouseDown,e),this.mouseControl.handleMousedown(e,this.editor)):i?this.handleMoveElement(e,i):this.handleBoxSelection(e)});p(this,"handleMouseMove",e=>{const n=this.editor.viewportManager.getCursorScenePoint(e),i=this.editor.selectionManager.getControlAt(n),o=this.mouseEl,r=this.mouseControl;if(i)this.mouseControl=i,this.mouseEl=null;else{const l=this.editor.getElementAt(e)||null;this.mouseEl=(l==null?void 0:l.model)||null,this.mouseControl=(l==null?void 0:l.control)||null}this.mouseControl?this.setCursorStyle(this.mouseControl.getCursor()):this.mouseEl&&this.mouseEl.getMovable()?this.setCursorStyle("move"):this.setCursorStyle("default"),this.mouseEl!==o&&(o&&o.emit(ds.mouseOut,e),this.mouseEl&&this.mouseEl.emit(ds.mouseIn,e)),this.mouseControl!==r&&(r&&r.emit(O.mouseOut,e),this.mouseControl&&this.mouseControl.emit(O.mouseIn,e))});p(this,"handleMouseUp",e=>{this.mousedown=!1});p(this,"handleMouseLeave",e=>{this.mousedown=!1});p(this,"handleMouseWheel",e=>{if(e.preventDefault(),e.ctrlKey||e.metaKey){const n={x:e.offsetX,y:e.offsetY};e.deltaY>0?this.editor.viewportManager.zoomIn(n):this.editor.viewportManager.zoomOut(n)}else{const n=this.editor.viewportManager.getZoom();this.editor.viewportManager.move(-e.deltaX/n,-e.deltaY/n)}});this.editor=e,this.setup()}setup(){this.editor.topCanvas.addEventListener("mousedown",this.handleMouseDown),this.editor.topCanvas.addEventListener("mousemove",this.handleMouseMove),this.editor.topCanvas.addEventListener("mouseup",this.handleMouseUp),this.editor.topCanvas.addEventListener("mouseleave",this.handleMouseUp),this.editor.topCanvas.addEventListener("wheel",this.handleMouseWheel)}handleMoveElement(e,n){const i=this.editor.selectionManager,o=this.editor.viewportManager.getZoom();n&&!i.isSelected(n)&&i.setSelection([n]);let r=e.clientX,l=e.clientY,a=r,c=l;const h=i.getSelectionList(),g=m=>{const C=m.clientX-a,w=m.clientY-c;a=m.clientX,c=m.clientY,this.selectionRect=null,h.forEach(S=>{S.move(C/o,w/o)})},f=m=>{const C=m.clientX-r,w=m.clientY-l;if(C||w){let S={undo:()=>{h.forEach(R=>{R.move(-C/o,-w/o)})},redo:()=>{h.forEach(R=>{R.move(C/o,w/o)})}};this.editor.actionManager.push(S)}window.removeEventListener("mousemove",g),window.removeEventListener("mouseup",f),window.removeEventListener("mouseleave",f)};window.addEventListener("mousemove",g),window.addEventListener("mouseup",f),window.addEventListener("mouseleave",f)}handleBoxSelection(e){const n=this.editor.selectionManager,i=this.editor.viewportManager.getCursorScenePoint(e);let o=e.clientX,r=e.clientY;const l=c=>{const h=this.editor.viewportManager.getCursorScenePoint(c);this.selectionRect=ol(i,h),this.emit(O.REPAINT)},a=c=>{const h=c.clientX-o,g=c.clientY-r;if(h||g){const f=this.selectionRect;this.selectionRect=null;const m=[];this.editor.box.each(C=>{const w=C.getRenderRect();ei(f,w)&&m.push(C)}),n.setSelection(m)}else n.clearSelection();this.emit(O.REPAINT),window.removeEventListener("mousemove",l),window.removeEventListener("mouseup",a),window.removeEventListener("mouseleave",a)};window.addEventListener("mousemove",l),window.addEventListener("mouseup",a),window.addEventListener("mouseleave",a)}setCursorStyle(e){this.editor.topCanvas.style.cursor=e}dispose(){this.editor.topCanvas.removeEventListener("mousedown",this.handleMouseDown),this.editor.topCanvas.removeEventListener("mousemove",this.handleMouseMove),this.editor.topCanvas.removeEventListener("mouseup",this.handleMouseUp),this.editor.topCanvas.removeEventListener("mouseleave",this.handleMouseUp),this.editor.topCanvas.removeEventListener("wheel",this.handleMouseWheel)}paintTop(e){this.selectionRect&&(e.beginPath(),e.roundRect(this.selectionRect.x,this.selectionRect.y,this.selectionRect.width,this.selectionRect.height,2),e.fillStyle=Re.SELECTION_FILL_COLOR,e.fill(),e.strokeStyle=Re.SELECTION_STROKE_COLOR,e.lineWidth=2,e.stroke())}paintRoot(e){}isHovered(e){return this.mouseEl===e}};p(Re,"SELECTION_STROKE_COLOR","#0f8eff"),p(Re,"SELECTION_FILL_COLOR","#0f8eff33");let gi=Re;var gs=(t=>(t.ZOOM_CHANGE="zoomChange",t))(gs||{});const Kt=class Kt extends Xt{constructor(e){super();p(this,"x",0);p(this,"y",0);p(this,"zoom",1);p(this,"zoomTextOpaticy",-1);p(this,"animation",null);this.editor=e}getZoom(){return this.zoom}zoomOut(e){const n=this.zoom;let i=n+Kt.ZOOM_STEP;if(i=Math.min(i,Kt.MAX_ZOOM),i!==n){const{x:o,y:r}=e,{x:l,y:a}=this.getScenePoint(e),c=l-o/i,h=a-r/i;this.x=c,this.y=h,this.zoom=i,this.startAnimation(),this.emit("zoomChange",i),this.emit(O.change)}}zoomIn(e){const n=this.zoom;let i=n-Kt.ZOOM_STEP;if(i=Math.max(i,Kt.MIN_ZOOM),i!==n){const{x:o,y:r}=e,{x:l,y:a}=this.getScenePoint(e),c=l-o/i,h=a-r/i;this.x=c,this.y=h,this.zoom=i,this.startAnimation(),this.emit("zoomChange",i),this.emit(O.change)}}move(e,n){this.x-=e,this.y-=n,(e!==0||n!==0)&&this.emit(O.change)}getViewport(){return{x:this.x,y:this.y,width:parseFloat(this.editor.topCanvas.style.width),height:parseFloat(this.editor.topCanvas.style.height)}}getViewRect(){const e=this.getViewport(),n=this.getZoom();return{x:this.x,y:this.y,width:e.width/n,height:e.height/n}}getCursorViewPoint(e){return{x:e.offsetX,y:e.offsetY}}getCursorScenePoint(e){const n=this.getCursorViewPoint(e);return this.getScenePoint(n)}getScenePoint(e,n=this.zoom){const{x:i,y:o}=e,{x:r,y:l}=this.getViewport();return{x:r+i/n,y:l+o/n}}getViewPoint(e,n=this.zoom){const{x:i,y:o}=e,{x:r,y:l}=this;return{x:(i-r)/n,y:(o-l)/n}}getViewCenter(){const e=this.getViewport();return{x:e.width/2,y:e.height/2}}startAnimation(){this.animation?this.animation.stop():this.animation=cl({duration:2e3,startValue:1,endValue:0,onUpdate:e=>{this.zoomTextOpaticy=e,this.emit(O.REPAINT)},onEnd(){this.zoomTextOpaticy=-1}}),this.animation.start()}paintTop(e){if(this.zoomTextOpaticy>=0){const n=this.getZoom();e.save(),e.setTransform(1,0,0,1,0,0),e.font="30px Arial",e.fillStyle="#000",e.globalAlpha=this.zoomTextOpaticy,e.fillText(`ZOOM: ${n.toFixed(1)}`,10,40),e.restore()}}paintRoot(e){}dispose(){var e;this.clear(),(e=this.animation)==null||e.stop()}};p(Kt,"ZOOM_STEP",.1),p(Kt,"MIN_ZOOM",.1),p(Kt,"MAX_ZOOM",5);let ps=Kt;const Vs=class Vs extends Xt{constructor(e=Vs.MAX){super();p(this,"list",[]);p(this,"batch",null);p(this,"cursor",-1);p(this,"isOperating",!1);this.limit=e}push(e){if(!this.isOperating){if(this.batch){this.batch.push(e);return}this.cursor!==this.list.length-1&&this.list.splice(this.cursor+1,this.list.length),this.limit===this.list.length&&this.list.splice(0,1),this.list.push(e),this.cursor=this.list.length-1,this.emit(O.change)}}clear(){this.list=[],this.emit(O.change)}undoable(){return this.cursor>=0}redoable(){return this.cursor<this.list.length-1}undo(){if(!this.undoable())return;const e=this.list[this.cursor--];this.isOperating=!0;try{if(Array.isArray(e))for(let n=e.length-1;n>=0;n--)e[n].undo();else e.undo()}catch(n){console.warn(n)}finally{this.isOperating=!1}this.emit(O.change)}redo(){if(!this.redoable())return;const e=this.list[++this.cursor];this.isOperating=!0;try{Array.isArray(e)?e.forEach(n=>n.redo()):e.redo()}catch(n){console.warn(n)}finally{this.isOperating=!1}this.emit(O.change)}startBatch(){this.batch||(this.batch=[])}endBatch(){const e=this.batch;this.batch=null,e!=null&&e.length&&this.push(e)}dispose(){this.clear()}};p(Vs,"MAX",50);let pi=Vs;const Ie=class Ie extends Xt{constructor(e){super();p(this,"selection",[]);p(this,"rect",{x:0,y:0,height:0,width:0});p(this,"resizers",[]);p(this,"rotator",new zs(this));p(this,"pauseUpdateRect",!1);p(this,"rotate",0);p(this,"activeControl",null);p(this,"repaint",()=>{this.emit(O.REPAINT)});p(this,"caculateContainRect",()=>{if(!this.pauseUpdateRect){if(this.selection.length===1)this.rect=this.selection[0].getRect();else if(this.selection.length>1){const e=this.selection.map(n=>n.getBoundingBox());this.rect=si(yh(e))}else this.rect={x:0,width:0,height:0,y:0};this.emit(O.rectChange),this.repaint()}});this.editor=e,e.box.on(fs.removeModels,n=>{n.forEach(i=>{this.isSelected(i)&&this.removeSelection(i)})}),this.initResizers(),this.rotator.on(O.change,this.repaint),this.on(O.change,this.caculateContainRect)}initResizers(){this.resizers=Object.values(kt).map(e=>new fi(this,e)),this.resizers.forEach(e=>{e.on(O.change,this.repaint)})}_addSelection(e){e.on(O.rectChange,this.caculateContainRect),e.emit(ds.selected),this.selection.push(e)}_removeSelection(e){e.off(O.rectChange,this.caculateContainRect),e.emit(ds.unselected),al(this.selection,e)}_clearSelection(){for(let e=this.selection.length-1;e>=0;e--)this._removeSelection(this.selection[e])}setSelection(e){this._clearSelection(),e.forEach(n=>this._addSelection(n)),this.emit("setSelection",e),this.emit(O.change)}addSelection(e){this.isSelected(e)||(this._addSelection(e),this.emit("addSelection",e),this.emit(O.change))}removeSelection(e){this.isSelected(e)&&(this._removeSelection(e),this.emit("removeSelection",e),this.emit(O.change))}clearSelection(){this.selection.length&&(this._clearSelection(),this.emit("clearSelection"),this.emit(O.change))}toggleSelection(e){this.isSelected(e)?this.removeSelection(e):this.addSelection(e)}isSelected(e){return this.selection.includes(e)}togglePauseUpdateRect(e){this.pauseUpdateRect=e}getRenderRect(){const e=this.getBoundingRect();return _e(e,zs.SIZE)}getBoundingRect(){const e=this.getRect();if(this.selection.length===1){const n=rl({...e,transform:this.getWorldTransform()});return si(n)}else return e}getSelectionList(){return[...this.selection]}getRect(){return this.rect}setPosition(e,n){}move(e,n){this.selection.forEach(i=>{i.move(e,n)})}setRotate(e){this.rotate=e,this.repaint()}getWorldTransform(){if(this.selection.length===1)return this.selection[0].getWorldTransform();const{x:e,y:n}=this.rect||{x:0,y:0};return[1,0,0,1,e,n]}paintTop(e){if(this.selection.length>0){e.save();const{width:n,height:i}=this.rect,o=this.getWorldTransform();e.transform(...o),this.selection.length>1&&this.rotate&&(e.translate(n/2,i/2),e.rotate(this.rotate),e.translate(-(n/2),-(i/2))),e.beginPath(),e.roundRect(0,0,n,i,2),e.strokeStyle=Ie.SELECTION_STROKE_COLOR,e.lineWidth=2,e.setLineDash(Ie.SELECTION_LINE_DASH),e.stroke(),e.translate(0,0),this.resizers.forEach(r=>{r.updatePosition(),r.paint(e)}),this.rotator.updatePosition(),this.rotator.paint(e),e.restore()}}paintRoot(e){}getControlAt(e){if(this.selection.length===0)return;const n=this.getRenderRect();if(!Ce(e,n))return;const i=this.resizers.find(o=>o.hitTest(e.x,e.y));if(i)return i;if(this.rotator.hitTest(e.x,e.y))return this.rotator}getActiveControl(){return this.activeControl}setActiveControl(e){e!==this.activeControl&&(this.activeControl=e,this.emit(O.change))}dispose(){this.clear(),this.editor.box.off(fs.removeModels,e=>{e.forEach(n=>{this.isSelected(n)&&this.removeSelection(n)})}),this.resizers.forEach(e=>e.dispose()),this.rotator.dispose()}};p(Ie,"SELECTION_STROKE_COLOR","#0f8eff"),p(Ie,"SELECTION_LINE_DASH",[5,5]);let mi=Ie;class iu extends Xt{constructor(e){super();p(this,"gap",20);p(this,"dirty",!0);p(this,"repaint",()=>{this.emit(O.REPAINT)});this.editor=e,e.viewportManager.on(O.change,this.repaint)}paintRoot(e){if(!this.dirty)return;const n=this.gap,{x:i,y:o,width:r,height:l}=this.editor.viewportManager.getViewRect(),a=Math.ceil(i/n)*n;for(let h=a;h<=i+r;h+=n)e.beginPath(),e.moveTo(h,o),e.lineTo(h,o+l),e.lineWidth=1,e.strokeStyle=h%(n*5)===0?"#ddd":"#eee",e.stroke();const c=Math.ceil(o/n)*n;for(let h=c;h<=o+l;h+=n)e.beginPath(),e.moveTo(i,h),e.lineTo(i+r,h),e.lineWidth=1,e.strokeStyle=h%(n*5)===0?"#ddd":"#eee",e.stroke()}paintTop(e){}dispose(){this.clear(),this.editor.viewportManager.off(O.change,this.repaint)}}class ou{constructor(s,e){p(this,"rootCanvas");p(this,"rootCtx");p(this,"mainCanvas");p(this,"mainCtx");p(this,"topCanvas");p(this,"topCtx");p(this,"eventManager");p(this,"viewportManager");p(this,"actionManager");p(this,"selectionManager");p(this,"grid");p(this,"dirtyList",new Set);p(this,"paintAll",!0);p(this,"frameRects",new Map);p(this,"plugins",[]);p(this,"pluginsDirty",!0);p(this,"showPerformance",!0);p(this,"resize",()=>{const{width:s,height:e}=this.container.getBoundingClientRect();An(this.rootCanvas,s,e),An(this.mainCanvas,s,e),An(this.topCanvas,s,e),this.paintAll=!0,this.pluginsDirty=!0});p(this,"repaintPlugin",()=>{this.pluginsDirty=!0});p(this,"repaint",()=>{const s=Date.now();this.pluginsDirty&&this.paintTop(),this.paintAll?this.fullRepaint():this.dirtyList.size&&this.partRepaint(),this.pluginsDirty&&this.paintRoot();const e=Date.now()-s;this.showPerformance&&this.paintPerformance(e),this.paintAll=!1,this.dirtyList.clear(),requestAnimationFrame(this.repaint)});this.container=s,this.box=e,s.style.position="relative",[this.rootCanvas,this.rootCtx]=this.createCanvas(),[this.mainCanvas,this.mainCtx]=this.createCanvas(),[this.topCanvas,this.topCtx]=this.createCanvas(),this.resize(),this.actionManager=new pi,this.eventManager=new gi(this),this.installPlugin(this.eventManager),this.selectionManager=new mi(this),this.installPlugin(this.selectionManager),this.viewportManager=new ps(this),this.installPlugin(this.viewportManager),this.viewportManager.on(O.change,()=>{this.paintAll=!0,this.pluginsDirty=!0}),this.grid=new iu(this),this.installPlugin(this.grid),this.box.on(fs.modelsChange,n=>{n.forEach(i=>this.dirtyList.add(i))}),this.box.on(fs.removeModels,n=>{n.forEach(i=>this.frameRects.delete(i.id))}),requestAnimationFrame(this.repaint)}createCanvas(){const s=document.createElement("canvas"),e=s.getContext("2d");return Object.assign(s.style,{position:"absolute",left:"0px",top:"0px",width:"100%",height:"100%"}),this.container.appendChild(s),window.addEventListener("resize",this.resize),[s,e]}installPlugin(s){s.on(O.REPAINT,this.repaintPlugin),this.plugins.push(s)}paintPerformance(s){let e=60;s>17&&(e=1e3/s);const n=`FPS:${parseInt(e+"")}`,i=this.topCtx;i.save(),i.setTransform(1,0,0,1,0,0),i.font="30px Arial",i.fillStyle="#f00";const o=i.measureText(n).width,r=this.topCanvas.width;i.fillText(n,r-10-o,40),i.restore()}getElementsAt(s){const{x:e,y:n}=this.viewportManager.getCursorScenePoint(s),i=[];return this.box.reverseEach(o=>{o.hitTest(e,n)&&i.push(o)}),i}getElementAt(s){const{x:e,y:n}=this.viewportManager.getCursorScenePoint(s);let i=null,o=null;return this.box.reverseEach(r=>{const l=r.hitTest(e,n);if(l)return i=r,typeof l!="boolean"&&(o=l),!0}),i?{model:i,control:o}:null}fullRepaint(){const s=this.mainCtx;s.save(),s.setTransform(1,0,0,1,0,0);const e=this.viewportManager.getViewport();s.clearRect(0,0,this.mainCanvas.width,this.mainCanvas.height);const n=Je(),i=this.viewportManager.getZoom(),o=-e.x,r=-e.y;s.scale(n*i,n*i),s.translate(o,r),this.box.each(l=>{this.paintModel(l,s)}),s.restore()}findDirtyRect(){if(this.dirtyList.size===0)return{rect:{x:0,y:0,width:0,height:0},models:new Set};const s=this.viewportManager.getViewRect(),e=new Set(this.dirtyList),n=this.box.getModelList(),i=[...e].reduce((r,l)=>{r.push(l.getRenderRect());const a=this.frameRects.get(l.id);return a&&r.push(a),r},[]);let o=qo(...i);for(let r=0;r<n.length;r++){const l=n[r];if(e.has(l))continue;const a=l.getRenderRect();ei(a,s)&&ei(a,o)&&(e.add(l),o=qo(a,o),r=-1)}return{rect:o,models:e}}partRepaint(){const{rect:s,models:e}=this.findDirtyRect();if(!e.size)return;const n=this.mainCtx;n.save(),n.setTransform(1,0,0,1,0,0);const i=this.viewportManager.getViewport(),o=Je(),r=this.viewportManager.getZoom(),l=-i.x,a=-i.y;n.scale(o*r,o*r),n.translate(l,a),n.clearRect(s.x,s.y,s.width,s.height),this.box.each(c=>{e.has(c)&&this.paintModel(c,n)}),n.restore()}paintModel(s,e){if(this.box.has(s)){const n=s.getRenderRect();this.frameRects.set(s.id,{...n}),Ln(e),s.beforePaint(e,this),s.paint(e),s.afterPaint(e,this)}else this.frameRects.delete(s.id)}paintTop(){const s=this.topCtx;s.save(),s.setTransform(1,0,0,1,0,0);const e=this.viewportManager.getViewport();s.clearRect(0,0,this.mainCanvas.width,this.mainCanvas.height);const n=Je(),i=this.viewportManager.getZoom(),o=-e.x,r=-e.y;s.scale(n*i,n*i),s.translate(o,r),this.plugins.forEach(l=>{Ln(s),l.paintTop(s)}),s.restore()}paintRoot(){const s=this.rootCtx;s.save(),s.setTransform(1,0,0,1,0,0);const e=this.viewportManager.getViewport();s.clearRect(0,0,this.mainCanvas.width,this.mainCanvas.height);const n=Je(),i=this.viewportManager.getZoom(),o=-e.x,r=-e.y;s.scale(n*i,n*i),s.translate(o,r),this.plugins.forEach(l=>{Ln(s),l.paintRoot(s)}),s.restore()}addModel(s){this.box.addModel(s);const e={undo:()=>{this.box.removeModel(s)},redo:()=>{this.box.addModel(s),s.reset()}};this.actionManager.push(e)}removeModel(s){const e=new Set;e.add(s),this.box.each(o=>{if(o instanceof Fe){const r=o.getStartHost(),l=o.getEndHost();(r===s||l===s)&&e.add(o)}});const n=[...e];this.box.removeModels(n);const i={undo:()=>{this.box.addModels(n),n.forEach(o=>o.reset())},redo:()=>{this.box.removeModels(n)}};this.actionManager.push(i)}removeModels(s){const e=new Set(s);this.box.each(o=>{if(o instanceof Fe){const r=o.getStartHost(),l=o.getEndHost();(e.has(r)||l&&e.has(l))&&e.add(o)}});const n=[...e];this.box.removeModels(n);const i={undo:()=>{this.box.addModels(n),n.forEach(o=>o.reset())},redo:()=>{this.box.removeModels(n)}};this.actionManager.push(i)}removeSelection(){const s=this.selectionManager.getSelectionList();s.length>0&&(this.removeModels(s),this.selectionManager.clearSelection())}getShowPerformance(){return this.showPerformance}setShowPerformance(s){this.showPerformance=s}dispose(){this.box.dispose(),this.eventManager.dispose(),this.viewportManager.dispose(),this.actionManager.dispose(),this.selectionManager.dispose(),this.grid.dispose()}getSceneData(){const s=[];this.box.each(o=>{const r=o.toJson();s.push(r)});const e=this.viewportManager.getViewport(),n=e.x,i=e.y;return{models:s,viewport:{x:n,y:i,zoom:this.viewportManager.getZoom()}}}parseSceneData(s,e){this.box.removeAll();const n=[];s.models.forEach(i=>{const o=e.parseJson(i,n);n.push(o)}),this.box.addModels(n)}}var Dn;let Ye=(Dn=class extends Xt{constructor(e){super();p(this,"statusChange",()=>{this.emit(O.change)});this.editor=e}isActive(){return!1}dispose(){this.clear()}},p(Dn,"name"),Dn);const Xs=class Xs extends Ye{constructor(s){super(s),s.actionManager.on(O.change,this.statusChange)}isEnable(){return this.editor.actionManager.undoable()}execute(){this.editor.actionManager.undo()}getName(){return Xs.name}dispose(){super.dispose(),this.editor.actionManager.off(O.change,this.statusChange)}getLabel(){return""}};p(Xs,"name","undo");let yi=Xs;const Gs=class Gs extends Ye{constructor(s){super(s),s.actionManager.on(O.change,this.statusChange)}isEnable(){return this.editor.actionManager.redoable()}execute(){this.editor.actionManager.redo()}getName(){return Gs.name}dispose(){super.dispose(),this.editor.actionManager.off(O.change,this.statusChange)}getLabel(){return""}};p(Gs,"name","redo");let wi=Gs;const qs=class qs extends Ye{constructor(s){super(s),s.viewportManager.on(gs.ZOOM_CHANGE,this.statusChange)}execute(){const s=this.editor.viewportManager.getViewRect(),e={x:s.x+s.width/2,y:s.y+s.height/2};this.editor.viewportManager.zoomIn(e)}isEnable(){return this.editor.viewportManager.getZoom()>ps.MIN_ZOOM}dispose(){super.dispose(),this.editor.viewportManager.off(gs.ZOOM_CHANGE,this.statusChange)}getLabel(){return""}getName(){return qs.name}};p(qs,"name","zoomIn");let vi=qs;const Ks=class Ks extends Ye{constructor(s){super(s),s.viewportManager.on(gs.ZOOM_CHANGE,this.statusChange)}execute(){const s=this.editor.viewportManager.getViewRect(),e={x:s.x+s.width/2,y:s.y+s.height/2};this.editor.viewportManager.zoomOut(e)}isEnable(){return this.editor.viewportManager.getZoom()<ps.MAX_ZOOM}dispose(){super.dispose(),this.editor.viewportManager.off(gs.ZOOM_CHANGE,this.statusChange)}getLabel(){return""}getName(){return Ks.name}};p(Ks,"name","zoomOut");let bi=Ks;const Zs=class Zs extends Ye{constructor(s){super(s),s.selectionManager.on(O.change,this.statusChange)}execute(){this.editor.removeSelection()}isEnable(){return this.editor.selectionManager.getSelectionList().length>0}dispose(){super.dispose(),this.editor.selectionManager.off(O.change,this.statusChange)}getName(){return Zs.name}getLabel(){return""}};p(Zs,"name","delete");let Ci=Zs;const js=class js extends Ye{constructor(s){super(s)}isEnable(){return!0}execute(){this.editor.setShowPerformance(!this.editor.getShowPerformance()),this.emit(O.change)}getName(){return js.name}isActive(){return this.editor.getShowPerformance()}dispose(){super.dispose(),this.editor.actionManager.off(O.change,this.statusChange)}getLabel(){return""}};p(js,"name","performance");let Ti=js;var ul=Te({name:"Editor",__name:"Editor",emits:["ready"],setup(t,{expose:s,emit:e}){const n=e,i=Ne("container"),o=ls(),r=new su,l=ls();return Fi(()=>{l.value=rn(new ou(o.value,r)),n("ready",l.value)}),s({getEditor:()=>l.value}),(c,h)=>(q(),lt("div",{ref_key:"editorRef",ref:o,class:vt([ct(i).b()])},null,2))}});ul.__file="src/frameworks/vue/editor/Editor.vue";var Xi={name:"Delete"};const ru={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":"3095","xmlns:xlink":"http://www.w3.org/1999/xlink"},lu=et("path",{d:"M847.743 223.953H640.639c-3.132-68.921-60.177-124.029-129.858-124.029s-126.726 55.108-129.858 124.029H173.256c-17.673 0-32 14.327-32 32s14.327 32 32 32h674.487c17.673 0 32-14.327 32-32s-14.327-32-32-32z m-336.962-60.03c34.379 0 62.689 26.426 65.718 60.029H445.064c3.029-33.603 31.338-60.029 65.717-60.029zM767.743 351.79c-17.673 0-32 14.327-32 32v478.173H288.256V383.79c0-17.673-14.327-32-32-32s-32 14.327-32 32v510.173c0 17.673 14.327 32 32 32h511.487c17.673 0 32-14.327 32-32V383.79c0-17.673-14.327-32-32-32z","p-id":"3096"},null,-1),au=et("path",{d:"M449.306 732.802V448.208c0-17.673-14.327-32-32-32s-32 14.327-32 32v284.593c0 17.673 14.327 32 32 32s32-14.326 32-31.999z m191.534 0V448.208c0-17.673-14.327-32-32-32s-32 14.327-32 32v284.593c0 17.673 14.327 32 32 32s32-14.326 32-31.999z","p-id":"3097"},null,-1),cu=[lu,au];function hu(t,s,e,n,i,o){return q(),lt("svg",ru,[...cu])}Xi.render=hu;Xi.__file="src/frameworks/vue/icons/delete.vue";var Gi={name:"Diamond"};const uu={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":"9700","xmlns:xlink":"http://www.w3.org/1999/xlink"},fu=et("path",{d:"M512 0l512 512-512 512-512-512 512-512z m0 80.497778L80.497778 512 512 943.502222 943.502222 512 512 80.497778z",fill:"currentColor"},null,-1),du=[fu];function gu(t,s,e,n,i,o){return q(),lt("svg",uu,[...du])}Gi.render=gu;Gi.__file="src/frameworks/vue/icons/diamond.vue";var qi={name:"Ellipse"};const pu={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":"6138","xmlns:xlink":"http://www.w3.org/1999/xlink"},mu=et("path",{d:"M512 998.4C243.776 998.4 25.6 780.224 25.6 512S243.776 25.6 512 25.6s486.4 218.176 486.4 486.4-218.176 486.4-486.4 486.4zM512 76.8C272 76.8 76.8 272 76.8 512s195.2 435.2 435.2 435.2 435.2-195.2 435.2-435.2S752 76.8 512 76.8z","p-id":"6139",fill:"currentColor"},null,-1),yu=[mu];function wu(t,s,e,n,i,o){return q(),lt("svg",pu,[...yu])}qi.render=wu;qi.__file="src/frameworks/vue/icons/ellipse.vue";var Ki={name:"Performance"};const vu={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":"5163","xmlns:xlink":"http://www.w3.org/1999/xlink"},bu=et("path",{d:"M461.223546 894.876154c-1.062192 0-2.099824-0.048095-3.162016-0.193405-11.732206-1.497097-20.736277-11.103896-21.532409-22.884197l-40.336684-605.249801L287.129486 630.065999c-3.186576 10.670014-14.097066 17.911952-24.260543 17.621333-11.128455-0.2415-20.711717-7.91732-23.390733-18.732643l-38.864146-155.385976-68.000743 68.000743c-4.634554 4.634554-10.911514 7.241938-17.477047 7.241938L65.698305 548.811394l0-49.437969 39.20286 0 91.634-91.634c6.300496-6.300496 15.425318-8.810666 24.067138-6.348592 8.593725 2.38942 15.231913 9.197476 17.380856 17.839297l27.6395 110.48637 122.460076-408.222425c3.451612-11.466146 14.677281-18.732643 26.456558-17.477047 11.876492 1.351787 21.097504 11.007705 21.894659 22.932292l41.061185 616.136755 108.555391-325.68971c3.186576-9.487072 11.732206-16.125259 21.725814-16.825201 10.041704-0.627287 19.408025 4.634554 23.850198 13.59053l76.763314 153.526629 27.326369-54.651714c4.200672-8.376785 12.745279-13.663184 22.1116-13.663184l197.750853 0 0 49.437969L773.08225 548.811394l-42.581818 85.212754c-8.400321 16.70445-35.82288 16.70445-44.223201 0l-72.176856-144.378272L484.638839 877.978299C481.259882 888.165312 471.724715 894.876154 461.223546 894.876154z",fill:"currentColor","p-id":"5164"},null,-1),Cu=[bu];function Tu(t,s,e,n,i,o){return q(),lt("svg",vu,[...Cu])}Ki.render=Tu;Ki.__file="src/frameworks/vue/icons/performance.vue";var Zi={name:"Rect"};const _u={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},xu=et("path",{d:"M898.8 199.6v624.8H125.2V199.6h773.6m59.5-59.5H65.7v743.8h892.5V140.1h0.1z","p-id":"905"},null,-1),Mu=[xu];function Eu(t,s,e,n,i,o){return q(),lt("svg",_u,[...Mu])}Zi.render=Eu;Zi.__file="src/frameworks/vue/icons/rect.vue";var ji={name:"Redo"};const Pu={style:{transform:"rotateY(180deg)"},viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Ou=et("path",{d:"M596.16 284.064H258.56l101.376-101.44a31.968 31.968 0 1 0-45.248-45.216L178.56 273.504c-11.904 11.872-18.496 27.84-18.56 44.8a63.04 63.04 0 0 0 18.56 45.28l136.128 136.16a31.904 31.904 0 0 0 45.248 0 31.968 31.968 0 0 0 0-45.248l-106.752-106.496H596.16c114.88 0 208.32 93.312 208.32 208s-93.44 208-208.32 208h-223.36a32 32 0 0 0 0 64h223.36c150.144 0 272.32-122.016 272.32-272 0-149.984-122.176-272-272.32-272",fill:"currentColor","p-id":"1124"},null,-1),Ru=[Ou];function Iu(t,s,e,n,i,o){return q(),lt("svg",Pu,[...Ru])}ji.render=Iu;ji.__file="src/frameworks/vue/icons/redo.vue";var Ji={name:"Save"};const Su={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":"8002","xmlns:xlink":"http://www.w3.org/1999/xlink"},Au=et("path",{d:"M814.805 128a51.179 51.179 0 0 1 51.179 51.179V844.01a51.179 51.179 0 0 1-51.179 51.157H201.173a51.179 51.179 0 0 1-51.178-51.157V179.179A51.179 51.179 0 0 1 201.173 128h613.654zM329.024 434.837a51.093 51.093 0 0 1-51.179-51.093V179.157h-76.672v664.854h613.76V179.179H738.22v204.48a51.179 51.179 0 0 1-51.179 51.178H329.024z m0-51.093h357.995V179.157H329.024v204.587z m357.91 204.501a25.557 25.557 0 1 1 0.085 51.072H329.024a25.536 25.536 0 1 1 0-51.072h357.91z",fill:"currentColor","p-id":"8003"},null,-1),Lu=[Au];function Hu(t,s,e,n,i,o){return q(),lt("svg",Su,[...Lu])}Ji.render=Hu;Ji.__file="src/frameworks/vue/icons/save.vue";var Qi={name:"Terminator"};const $u={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Du=et("path",{d:"M717 256q52.5 0 99.5 20.5 46.5 20 81.5 55 34.5 34.5 55 81 20 46.5 20 99.5t-20 99.5q-20.5 46.5-55 81.5-35 34.5-81.5 55-47 20-99.5 20H307q-52.5 0-99-20-47-20.5-81.5-55-35-35-55-81.5-20.5-46.5-20.5-99.5t20.5-99.5q20-46.5 55-81 34.5-35 81.5-55 46.5-20.5 99-20.5m410 461q42 0 79.5-16 37-16.5 65-44 27.5-28 44-65 16-37.5 16-80t-16-79.5q-16.5-37.5-44-65-28-28-65-44-37.5-16.5-79.5-16.5H307q-42 0-79 16.5-37.5 16-65 44-28 27.5-44 65-16.5 37-16.5 79.5t16.5 80q16 37 44 65 27.5 27.5 65 44 37 16 79 16z",fill:"currentColor","p-id":"5170"},null,-1),Fu=et("path",{d:"M307 742.5q-47.5 0-89.5-18-42-18.5-73-49.5-31.5-31.5-49.5-73.5t-18-89.5q0-47.5 18-89.5t49.5-73q31-31.5 73-49.5 42-18.5 89.5-18.5h410q47.5 0 89.5 18.5 42 18 73.5 49.5 31 31 49 73t18 89.5q0 47.5-18 89.5t-49 73.5q-31.5 31-73.5 49.5-42 18-89.5 18z",fill:"#FAFAFA","p-id":"5171"},null,-1),Bu=et("path",{d:"M717 256q52.5 0 99.5 20.5 46.5 20 81.5 55 34.5 34.5 55 81 20 46.5 20 99.5t-20 99.5q-20.5 46.5-55 81.5-35 34.5-81.5 55-47 20-99.5 20H307q-52.5 0-99-20-47-20.5-81.5-55-35-35-55-81.5-20.5-46.5-20.5-99.5t20.5-99.5q20-46.5 55-81 34.5-35 81.5-55 46.5-20.5 99-20.5m410 461q42 0 79.5-16 37-16.5 65-44 27.5-28 44-65 16-37.5 16-80t-16-79.5q-16.5-37.5-44-65-28-28-65-44-37.5-16.5-79.5-16.5H307q-42 0-79 16.5-37.5 16-65 44-28 27.5-44 65-16.5 37-16.5 79.5t16.5 80q16 37 44 65 27.5 27.5 65 44 37 16 79 16z",fill:"currentColor","p-id":"5172"},null,-1),zu=[Du,Fu,Bu];function ku(t,s,e,n,i,o){return q(),lt("svg",$u,[...zu])}Qi.render=ku;Qi.__file="src/frameworks/vue/icons/terminator.vue";var to={name:"Undo"};const Nu={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":"1123","xmlns:xlink":"http://www.w3.org/1999/xlink"},Wu=et("path",{d:"M596.16 284.064H258.56l101.376-101.44a31.968 31.968 0 1 0-45.248-45.216L178.56 273.504c-11.904 11.872-18.496 27.84-18.56 44.8a63.04 63.04 0 0 0 18.56 45.28l136.128 136.16a31.904 31.904 0 0 0 45.248 0 31.968 31.968 0 0 0 0-45.248l-106.752-106.496H596.16c114.88 0 208.32 93.312 208.32 208s-93.44 208-208.32 208h-223.36a32 32 0 0 0 0 64h223.36c150.144 0 272.32-122.016 272.32-272 0-149.984-122.176-272-272.32-272",fill:"currentColor","p-id":"1124"},null,-1),Uu=[Wu];function Yu(t,s,e,n,i,o){return q(),lt("svg",Nu,[...Uu])}to.render=Yu;to.__file="src/frameworks/vue/icons/undo.vue";var eo={name:"ZoomIn"};const Vu={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Xu=et("path",{d:"M598.646154 401.723077H279.630769c-15.753846 0-27.569231 11.815385-27.569231 31.507692 0 15.753846 11.815385 27.569231 31.507693 27.569231h319.015384c15.753846 0 27.569231-11.815385 27.569231-31.507692 0-15.753846-15.753846-27.569231-31.507692-27.569231z",fill:"currentColor","p-id":"967"},null,-1),Gu=et("path",{d:"M921.6 850.707692l-204.8-196.923077c47.261538-59.076923 78.769231-137.846154 78.769231-220.553846 0-196.923077-157.538462-354.461538-354.461539-354.461538s-354.461538 157.538462-354.461538 354.461538 157.538462 354.461538 354.461538 354.461539c90.584615 0 173.292308-35.446154 236.307693-90.584616l204.8 196.923077c3.938462 3.938462 11.815385 7.876923 19.692307 7.876923s15.753846-3.938462 19.692308-7.876923c11.815385-15.753846 11.815385-35.446154 0-43.323077z m-484.430769-126.030769c-161.476923 0-295.384615-133.907692-295.384616-295.384615S275.692308 133.907692 437.169231 133.907692s295.384615 133.907692 295.384615 295.384616-129.969231 295.384615-295.384615 295.384615z",fill:"currentColor"},null,-1),qu=[Xu,Gu];function Ku(t,s,e,n,i,o){return q(),lt("svg",Vu,[...qu])}eo.render=Ku;eo.__file="src/frameworks/vue/icons/zoom-in.vue";var so={name:"ZoomOut"};const Zu={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},ju=et("path",{d:"M970.837333 919.850667l-205.696-205.653334A382.421333 382.421333 0 0 0 853.333333 469.333333a384 384 0 0 0-384-384 384 384 0 0 0-384 384 384 384 0 0 0 384 384 382.421333 382.421333 0 0 0 244.906667-88.192l205.653333 205.653334a36.053333 36.053333 0 0 0 50.986667 0 36.266667 36.266667 0 0 0-0.042667-50.944z m-380.117333-162.986667c-38.4 16.256-79.189333 24.448-121.386667 24.448a311.296 311.296 0 0 1-220.586666-91.392A311.296 311.296 0 0 1 157.312 469.333333 311.296 311.296 0 0 1 248.746667 248.746667 311.296 311.296 0 0 1 469.333333 157.354667a311.296 311.296 0 0 1 220.586667 91.392A311.296 311.296 0 0 1 781.354667 469.333333a311.296 311.296 0 0 1-91.392 220.586667 310.186667 310.186667 0 0 1-99.242667 66.901333z",fill:"currentColor","p-id":"1129"},null,-1),Ju=et("path",{d:"M652.672 431.829333h-147.84V292.010667a35.968 35.968 0 1 0-71.978667 0v139.818666H292.010667a35.968 35.968 0 1 0 0 72.021334h140.8v140.8a35.968 35.968 0 1 0 72.021333 0v-140.8h147.84a35.968 35.968 0 1 0 0-72.021334z",fill:"currentColor"},null,-1),Qu=[ju,Ju];function tf(t,s,e,n,i,o){return q(),lt("svg",Zu,[...Qu])}so.render=tf;so.__file="src/frameworks/vue/icons/zoom-out.vue";var fl=Te({__name:"Icon",setup(t){const s=Ne("icon");return(e,n)=>(q(),lt("div",{class:vt([ct(s).b()])},[Wr(e.$slots,"default")],2))}});fl.__file="src/frameworks/vue/components/icon/Icon.vue";const ef=["title"];var dl=Te({__name:"ToolbarButton",props:{command:{type:Object,required:!0},getIcon:{type:Function}},setup(t){var h;const s=Ne("toolbar"),e=t,n={undo:to,redo:ji,zoomOut:so,zoomIn:eo,delete:Xi,performance:Ki,save:Ji},i=((h=e.getIcon)==null?void 0:h.call(e,e.command.getName()))||n[e.command.getName()],o=ls(e.command.isEnable()),r=ls(e.command.isActive()),l=e.command.getLabel(),a=()=>{o.value&&e.command.execute()},c=()=>{o.value=e.command.isEnable(),r.value=e.command.isActive()};return e.command.on(O.change,c),Bi(()=>{e.command.off(O.change,c)}),(g,f)=>(q(),lt("div",{title:ct(l),class:vt([ct(s).e("button"),ct(s).is("disabled",!o.value),ct(s).is("active",r.value)]),onClick:a},[gt(fl,null,{default:cn(()=>[(q(),se(Vn(ct(i))))]),_:1})],10,ef))}});dl.__file="src/frameworks/vue/toolbar/ToolbarButton.vue";var gl=Te({name:"Toolbar",__name:"Toolbar",props:{commands:{type:Array,required:!0},getIcon:{type:Function}},setup(t){const s=Ne("toolbar");return(e,n)=>(q(),lt("div",{class:vt([ct(s).b()])},[(q(!0),lt(_t,null,Xn(t.commands,i=>(q(),se(dl,{"get-icon":t.getIcon,command:i,key:i.getName()},null,8,["get-icon","command"]))),128))],2))}});gl.__file="src/frameworks/vue/toolbar/Toolbar.vue";function sf(t){return[new yi(t),new wi(t),new bi(t),new vi(t),new Ci(t),new Ti(t)]}var pl=Te({__name:"LibraryCollapse",props:{title:{type:String,required:!0}},setup(t){const s=Ne("library-collapse"),e={beforeEnter(o){o.style.maxHeight=0},enter(o){o.style.maxHeight=`${o.scrollHeight}px`},afterEnter(o){o.style.maxHeight=""},beforeLeave(o){o.style.maxHeight=`${o.scrollHeight}px`},leave(o){o.style.maxHeight=0},afterLeave(o){o.style.maxHeight=""}},n=ls(!1),i=()=>{n.value=!n.value};return(o,r)=>(q(),lt("div",{class:vt([ct(s).b(),ct(s).is("collapsed",n.value)])},[et("div",{onClick:i,class:vt(ct(s).e("header"))},[et("div",{class:vt(ct(s).e("arrow"))},null,2),et("div",{class:vt(ct(s).e("title"))},Fl(t.title),3)],2),gt(Yi,el(Ga(e),{persisted:""}),{default:cn(()=>[Aa(et("div",{class:vt(ct(s).e("content"))},[Wr(o.$slots,"default")],2),[[sh,!n.value]])]),_:3},16)],2))}});pl.__file="src/frameworks/vue/library/LibraryCollapse.vue";const ml=Symbol();function nf(){const t=[],s={editor:null,modelManager:new nu},e={setEditor(n){s.editor=n,t.forEach(i=>{i(n)}),t.length=0},getEditor(){if(!s.editor)throw new Error("editor is not init");return s.editor},getModelManager(){return s.modelManager},register(n){n.forEach(i=>{i.models.forEach(o=>{s.modelManager.register(o)})})},ready(){return new Promise(n=>{s.editor?n(s.editor):t.push(n)})}};return Xr(ml,e),e}function of(){const t=es(ml,void 0);if(!t)throw new Error("store is not init");return t}const rf=["onMousedown"],Ps=20;var yl=Te({name:"Library",__name:"Library",props:{groupList:{type:Array,required:!0}},setup(t){const s=of(),e=Ne("library"),n={rect:Zi,terminator:Qi,diamond:Gi,ellipse:qi},i=l=>{if(l in n)return n[l]},o=on({visible:!1,currentCategory:"",left:0,top:0}),r=async(l,a)=>{o.visible=!0,o.currentCategory=a,o.left=l.pageX-Ps,o.top=l.pageY-Ps,mn({onDragMove(c){o.left=c.pageX-Ps,o.top=c.pageY-Ps},onDragEnd(c){o.visible=!1;const h=s.getEditor(),{x:g,y:f,width:m,height:C}=h.container.getBoundingClientRect();if(c.pageX>=g&&c.pageY>=f&&c.pageX<=g+m&&c.pageY<=f+C){const w=s.getModelManager().getInstance(a),S=h.viewportManager.getScenePoint({x:c.pageX-g,y:c.pageY-f});w.setCenterPosition(S.x,S.y),h.addModel(w)}}},l)};return(l,a)=>(q(),lt("div",{class:vt([ct(e).b()])},[(q(!0),lt(_t,null,Xn(t.groupList,c=>(q(),se(pl,{title:c.groupName},{default:cn(()=>[et("div",{class:vt(ct(e).e("list"))},[(q(!0),lt(_t,null,Xn(c.models,h=>(q(),lt("div",{onMousedown:g=>r(g,h.CATEGORY),class:vt([ct(e).e("item")])},[(q(),se(Vn(i(h.CATEGORY))))],42,rf))),256))],2)]),_:2},1032,["title"]))),256)),(q(),se(dc,{to:"body"},[o.visible?(q(),lt("div",{key:0,class:vt([ct(e).e("move")]),style:sn({left:`${o.left}px`,top:`${o.top}px`})},[(q(),se(Vn(i(o.currentCategory))))],6)):wc("v-if",!0)]))],2))}});yl.__file="src/frameworks/vue/library/Library.vue";const lf=()=>[{groupId:"base",groupName:"",models:[ui,di,ci,hi]}];var Ot=(t=>(t.TOP="top",t.LEFT="left",t.RIGHT="right",t.BOTTOM="bottom",t))(Ot||{});Ot.LEFT+"",Ot.RIGHT+"",Ot.TOP+"",Ot.BOTTOM+"";Ot.LEFT+"",Ot.RIGHT,Ot.TOP+"",Ot.BOTTOM,Ot.BOTTOM+"",Ot.TOP,Ot.RIGHT+"",Ot.LEFT;class af{constructor(){p(this,"eventMap",new Map);p(this,"eventMapCache",new Map)}on(s,e){return this.eventMap.has(s)||this.eventMap.set(s,[]),this.eventMap.get(s).push(e),this}emit(s,...e){const n=this.eventMap.get(s);return!n||n.length===0?!1:(n.forEach(i=>{i(...e)}),!0)}off(s,e){if(this.eventMap.has(s)){const n=this.eventMap.get(s).filter(i=>i!==e);n.length?this.eventMap.set(s,n):this.eventMap.delete(s)}return this}clear(){this.eventMapCache.clear();const s=this.eventMap.entries();for(const[e,n]of s)this.eventMapCache.set(e,n);this.eventMap.clear()}reset(){this.eventMap.clear();const s=this.eventMapCache.entries();for(const[e,n]of s)this.eventMap.set(e,n)}}var cf=[];for(var $n=0;$n<256;++$n)cf.push(($n+256).toString(16).slice(1));typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var ks=(t=>(t.rectChange="rectChange",t.change="change",t.mouseIn="mouseIn",t.mouseOut="mouseOut",t.mouseDown="mouseDown",t.mouseUp="mouseUp",t.REPAINT="repaint",t))(ks||{});class wl extends af{constructor(e){super();p(this,"statusChange",()=>{this.emit(ks.change)});this.editor=e}isActive(){return!1}dispose(){this.clear()}}p(wl,"name");function hf(t){localStorage.setItem("scene-json",JSON.stringify(t))}function uf(){const t=localStorage.getItem("scene-json");return t?JSON.parse(t):null}class ff extends wl{constructor(e,n){super(e);p(this,"lastSaveCursor",-1);this.modelManager=n,e.actionManager.on(ks.change,this.statusChange)}isEnable(){return this.editor.actionManager.cursor!==this.lastSaveCursor}execute(){const e=this.editor.getSceneData();hf(e),this.lastSaveCursor=this.editor.actionManager.cursor,this.statusChange()}dispose(){super.dispose(),this.editor.actionManager.off(ks.change,this.statusChange)}getName(){return"save"}getLabel(){return""}}const df={class:"editor-page"},gf={class:"editor-header"},pf={class:"editor-content"},mf={class:"editor-box"},yf=Te({__name:"App",setup(t){const s=yo([]),e=nf(),n=yo(lf());e.register(n.value);const i=o=>{e.setEditor(o);const r=e.getModelManager(),l=uf();l&&o.parseSceneData(l,r);const a=sf(o);a.push(new ff(o,r)),s.value=rn(a)};return(o,r)=>(q(),lt("div",df,[et("div",gf,[gt(ct(gl),{commands:s.value},null,8,["commands"])]),et("div",pf,[gt(ct(yl),{"group-list":n.value},null,8,["group-list"]),et("div",mf,[gt(ct(ul),{onReady:i})])])]))}});oh(yf).mount("#app");
