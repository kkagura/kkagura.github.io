var _l=Object.defineProperty;var xl=(t,s,e)=>s in t?_l(t,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[s]=e;var p=(t,s,e)=>(xl(t,typeof s!="symbol"?s+"":s,e),e);(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}})();function Pi(t,s){const e=Object.create(null),n=t.split(",");for(let i=0;i<n.length;i++)e[n[i]]=!0;return s?i=>!!e[i.toLowerCase()]:i=>!!e[i]}const nt={},Ae=[],Dt=()=>{},El=()=>!1,Pl=/^on[^a-z]/,tn=t=>Pl.test(t),Oi=t=>t.startsWith("onUpdate:"),ft=Object.assign,Ri=(t,s)=>{const e=t.indexOf(s);e>-1&&t.splice(e,1)},Ol=Object.prototype.hasOwnProperty,X=(t,s)=>Ol.call(t,s),k=Array.isArray,He=t=>en(t)==="[object Map]",ar=t=>en(t)==="[object Set]",W=t=>typeof t=="function",ht=t=>typeof t=="string",Ii=t=>typeof t=="symbol",ot=t=>t!==null&&typeof t=="object",cr=t=>ot(t)&&W(t.then)&&W(t.catch),hr=Object.prototype.toString,en=t=>hr.call(t),Rl=t=>en(t).slice(8,-1),ur=t=>en(t)==="[object Object]",Si=t=>ht(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Rs=Pi(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),sn=t=>{const s=Object.create(null);return e=>s[e]||(s[e]=t(e))},Il=/-(\w)/g,Xt=sn(t=>t.replace(Il,(s,e)=>e?e.toUpperCase():"")),Sl=/\B([A-Z])/g,ke=sn(t=>t.replace(Sl,"-$1").toLowerCase()),nn=sn(t=>t.charAt(0).toUpperCase()+t.slice(1)),Is=sn(t=>t?`on${nn(t)}`:""),rs=(t,s)=>!Object.is(t,s),Tn=(t,s)=>{for(let e=0;e<t.length;e++)t[e](s)},Ls=(t,s,e)=>{Object.defineProperty(t,s,{configurable:!0,enumerable:!1,value:e})},Ll=t=>{const s=parseFloat(t);return isNaN(s)?t:s},Al=t=>{const s=ht(t)?Number(t):NaN;return isNaN(s)?t:s};let uo;const Nn=()=>uo||(uo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function on(t){if(k(t)){const s={};for(let e=0;e<t.length;e++){const n=t[e],i=ht(n)?Fl(n):on(n);if(i)for(const o in i)s[o]=i[o]}return s}else{if(ht(t))return t;if(ot(t))return t}}const Hl=/;(?![^(]*\))/g,$l=/:([^]+)/,Dl=/\/\*[^]*?\*\//g;function Fl(t){const s={};return t.replace(Dl,"").split(Hl).forEach(e=>{if(e){const n=e.split($l);n.length>1&&(s[n[0].trim()]=n[1].trim())}}),s}function wt(t){let s="";if(ht(t))s=t;else if(k(t))for(let e=0;e<t.length;e++){const n=wt(t[e]);n&&(s+=n+" ")}else if(ot(t))for(const e in t)t[e]&&(s+=e+" ");return s.trim()}const Bl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",kl=Pi(Bl);function fr(t){return!!t||t===""}const zl=t=>ht(t)?t:t==null?"":k(t)||ot(t)&&(t.toString===hr||!W(t.toString))?JSON.stringify(t,dr,2):String(t),dr=(t,s)=>s&&s.__v_isRef?dr(t,s.value):He(s)?{[`Map(${s.size})`]:[...s.entries()].reduce((e,[n,i])=>(e[`${n} =>`]=i,e),{})}:ar(s)?{[`Set(${s.size})`]:[...s.values()]}:ot(s)&&!k(s)&&!ur(s)?String(s):s;let At;class Nl{constructor(s=!1){this.detached=s,this._active=!0,this.effects=[],this.cleanups=[],this.parent=At,!s&&At&&(this.index=(At.scopes||(At.scopes=[])).push(this)-1)}get active(){return this._active}run(s){if(this._active){const e=At;try{return At=this,s()}finally{At=e}}}on(){At=this}off(){At=this.parent}stop(s){if(this._active){let e,n;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].stop();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!s){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Wl(t,s=At){s&&s.active&&s.effects.push(t)}function Ul(){return At}const Li=t=>{const s=new Set(t);return s.w=0,s.n=0,s},gr=t=>(t.w&re)>0,pr=t=>(t.n&re)>0,Yl=({deps:t})=>{if(t.length)for(let s=0;s<t.length;s++)t[s].w|=re},Vl=t=>{const{deps:s}=t;if(s.length){let e=0;for(let n=0;n<s.length;n++){const i=s[n];gr(i)&&!pr(i)?i.delete(t):s[e++]=i,i.w&=~re,i.n&=~re}s.length=e}},Wn=new WeakMap;let je=0,re=1;const Un=30;let Ht;const Ce=Symbol(""),Yn=Symbol("");class Ai{constructor(s,e=null,n){this.fn=s,this.scheduler=e,this.active=!0,this.deps=[],this.parent=void 0,Wl(this,n)}run(){if(!this.active)return this.fn();let s=Ht,e=ie;for(;s;){if(s===this)return;s=s.parent}try{return this.parent=Ht,Ht=this,ie=!0,re=1<<++je,je<=Un?Yl(this):fo(this),this.fn()}finally{je<=Un&&Vl(this),re=1<<--je,Ht=this.parent,ie=e,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ht===this?this.deferStop=!0:this.active&&(fo(this),this.onStop&&this.onStop(),this.active=!1)}}function fo(t){const{deps:s}=t;if(s.length){for(let e=0;e<s.length;e++)s[e].delete(t);s.length=0}}let ie=!0;const mr=[];function ze(){mr.push(ie),ie=!1}function Ne(){const t=mr.pop();ie=t===void 0?!0:t}function Et(t,s,e){if(ie&&Ht){let n=Wn.get(t);n||Wn.set(t,n=new Map);let i=n.get(e);i||n.set(e,i=Li()),yr(i)}}function yr(t,s){let e=!1;je<=Un?pr(t)||(t.n|=re,e=!gr(t)):e=!t.has(Ht),e&&(t.add(Ht),Ht.deps.push(t))}function jt(t,s,e,n,i,o){const r=Wn.get(t);if(!r)return;let l=[];if(s==="clear")l=[...r.values()];else if(e==="length"&&k(t)){const a=Number(n);r.forEach((c,h)=>{(h==="length"||h>=a)&&l.push(c)})}else switch(e!==void 0&&l.push(r.get(e)),s){case"add":k(t)?Si(e)&&l.push(r.get("length")):(l.push(r.get(Ce)),He(t)&&l.push(r.get(Yn)));break;case"delete":k(t)||(l.push(r.get(Ce)),He(t)&&l.push(r.get(Yn)));break;case"set":He(t)&&l.push(r.get(Ce));break}if(l.length===1)l[0]&&Vn(l[0]);else{const a=[];for(const c of l)c&&a.push(...c);Vn(Li(a))}}function Vn(t,s){const e=k(t)?t:[...t];for(const n of e)n.computed&&go(n);for(const n of e)n.computed||go(n)}function go(t,s){(t!==Ht||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const Xl=Pi("__proto__,__v_isRef,__isVue"),vr=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ii)),Gl=Hi(),ql=Hi(!1,!0),Kl=Hi(!0),po=Zl();function Zl(){const t={};return["includes","indexOf","lastIndexOf"].forEach(s=>{t[s]=function(...e){const n=G(this);for(let o=0,r=this.length;o<r;o++)Et(n,"get",o+"");const i=n[s](...e);return i===-1||i===!1?n[s](...e.map(G)):i}}),["push","pop","shift","unshift","splice"].forEach(s=>{t[s]=function(...e){ze();const n=G(this)[s].apply(this,e);return Ne(),n}}),t}function jl(t){const s=G(this);return Et(s,"has",t),s.hasOwnProperty(t)}function Hi(t=!1,s=!1){return function(n,i,o){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return s;if(i==="__v_raw"&&o===(t?s?da:Mr:s?Tr:Cr).get(n))return n;const r=k(n);if(!t){if(r&&X(po,i))return Reflect.get(po,i,o);if(i==="hasOwnProperty")return jl}const l=Reflect.get(n,i,o);return(Ii(i)?vr.has(i):Xl(i))||(t||Et(n,"get",i),s)?l:Ct(l)?r&&Si(i)?l:l.value:ot(l)?t?_r(l):ln(l):l}}const Jl=wr(),Ql=wr(!0);function wr(t=!1){return function(e,n,i,o){let r=e[n];if(Fe(r)&&Ct(r)&&!Ct(i))return!1;if(!t&&(!As(i)&&!Fe(i)&&(r=G(r),i=G(i)),!k(e)&&Ct(r)&&!Ct(i)))return r.value=i,!0;const l=k(e)&&Si(n)?Number(n)<e.length:X(e,n),a=Reflect.set(e,n,i,o);return e===G(o)&&(l?rs(i,r)&&jt(e,"set",n,i):jt(e,"add",n,i)),a}}function ta(t,s){const e=X(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&e&&jt(t,"delete",s,void 0),n}function ea(t,s){const e=Reflect.has(t,s);return(!Ii(s)||!vr.has(s))&&Et(t,"has",s),e}function sa(t){return Et(t,"iterate",k(t)?"length":Ce),Reflect.ownKeys(t)}const br={get:Gl,set:Jl,deleteProperty:ta,has:ea,ownKeys:sa},na={get:Kl,set(t,s){return!0},deleteProperty(t,s){return!0}},ia=ft({},br,{get:ql,set:Ql}),$i=t=>t,rn=t=>Reflect.getPrototypeOf(t);function ws(t,s,e=!1,n=!1){t=t.__v_raw;const i=G(t),o=G(s);e||(s!==o&&Et(i,"get",s),Et(i,"get",o));const{has:r}=rn(i),l=n?$i:e?Bi:ls;if(r.call(i,s))return l(t.get(s));if(r.call(i,o))return l(t.get(o));t!==i&&t.get(s)}function bs(t,s=!1){const e=this.__v_raw,n=G(e),i=G(t);return s||(t!==i&&Et(n,"has",t),Et(n,"has",i)),t===i?e.has(t):e.has(t)||e.has(i)}function Cs(t,s=!1){return t=t.__v_raw,!s&&Et(G(t),"iterate",Ce),Reflect.get(t,"size",t)}function mo(t){t=G(t);const s=G(this);return rn(s).has.call(s,t)||(s.add(t),jt(s,"add",t,t)),this}function yo(t,s){s=G(s);const e=G(this),{has:n,get:i}=rn(e);let o=n.call(e,t);o||(t=G(t),o=n.call(e,t));const r=i.call(e,t);return e.set(t,s),o?rs(s,r)&&jt(e,"set",t,s):jt(e,"add",t,s),this}function vo(t){const s=G(this),{has:e,get:n}=rn(s);let i=e.call(s,t);i||(t=G(t),i=e.call(s,t)),n&&n.call(s,t);const o=s.delete(t);return i&&jt(s,"delete",t,void 0),o}function wo(){const t=G(this),s=t.size!==0,e=t.clear();return s&&jt(t,"clear",void 0,void 0),e}function Ts(t,s){return function(n,i){const o=this,r=o.__v_raw,l=G(r),a=s?$i:t?Bi:ls;return!t&&Et(l,"iterate",Ce),r.forEach((c,h)=>n.call(i,a(c),a(h),o))}}function Ms(t,s,e){return function(...n){const i=this.__v_raw,o=G(i),r=He(o),l=t==="entries"||t===Symbol.iterator&&r,a=t==="keys"&&r,c=i[t](...n),h=e?$i:s?Bi:ls;return!s&&Et(o,"iterate",a?Yn:Ce),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:l?[h(d[0]),h(d[1])]:h(d),done:f}},[Symbol.iterator](){return this}}}}function Qt(t){return function(...s){return t==="delete"?!1:this}}function oa(){const t={get(o){return ws(this,o)},get size(){return Cs(this)},has:bs,add:mo,set:yo,delete:vo,clear:wo,forEach:Ts(!1,!1)},s={get(o){return ws(this,o,!1,!0)},get size(){return Cs(this)},has:bs,add:mo,set:yo,delete:vo,clear:wo,forEach:Ts(!1,!0)},e={get(o){return ws(this,o,!0)},get size(){return Cs(this,!0)},has(o){return bs.call(this,o,!0)},add:Qt("add"),set:Qt("set"),delete:Qt("delete"),clear:Qt("clear"),forEach:Ts(!0,!1)},n={get(o){return ws(this,o,!0,!0)},get size(){return Cs(this,!0)},has(o){return bs.call(this,o,!0)},add:Qt("add"),set:Qt("set"),delete:Qt("delete"),clear:Qt("clear"),forEach:Ts(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=Ms(o,!1,!1),e[o]=Ms(o,!0,!1),s[o]=Ms(o,!1,!0),n[o]=Ms(o,!0,!0)}),[t,e,s,n]}const[ra,la,aa,ca]=oa();function Di(t,s){const e=s?t?ca:aa:t?la:ra;return(n,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?n:Reflect.get(X(e,i)&&i in n?e:n,i,o)}const ha={get:Di(!1,!1)},ua={get:Di(!1,!0)},fa={get:Di(!0,!1)},Cr=new WeakMap,Tr=new WeakMap,Mr=new WeakMap,da=new WeakMap;function ga(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function pa(t){return t.__v_skip||!Object.isExtensible(t)?0:ga(Rl(t))}function ln(t){return Fe(t)?t:Fi(t,!1,br,ha,Cr)}function ma(t){return Fi(t,!1,ia,ua,Tr)}function _r(t){return Fi(t,!0,na,fa,Mr)}function Fi(t,s,e,n,i){if(!ot(t)||t.__v_raw&&!(s&&t.__v_isReactive))return t;const o=i.get(t);if(o)return o;const r=pa(t);if(r===0)return t;const l=new Proxy(t,r===2?n:e);return i.set(t,l),l}function $e(t){return Fe(t)?$e(t.__v_raw):!!(t&&t.__v_isReactive)}function Fe(t){return!!(t&&t.__v_isReadonly)}function As(t){return!!(t&&t.__v_isShallow)}function xr(t){return $e(t)||Fe(t)}function G(t){const s=t&&t.__v_raw;return s?G(s):t}function an(t){return Ls(t,"__v_skip",!0),t}const ls=t=>ot(t)?ln(t):t,Bi=t=>ot(t)?_r(t):t;function Er(t){ie&&Ht&&(t=G(t),yr(t.dep||(t.dep=Li())))}function Pr(t,s){t=G(t);const e=t.dep;e&&Vn(e)}function Ct(t){return!!(t&&t.__v_isRef===!0)}function as(t){return Or(t,!1)}function bo(t){return Or(t,!0)}function Or(t,s){return Ct(t)?t:new ya(t,s)}class ya{constructor(s,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?s:G(s),this._value=e?s:ls(s)}get value(){return Er(this),this._value}set value(s){const e=this.__v_isShallow||As(s)||Fe(s);s=e?s:G(s),rs(s,this._rawValue)&&(this._rawValue=s,this._value=e?s:ls(s),Pr(this))}}function ct(t){return Ct(t)?t.value:t}const va={get:(t,s,e)=>ct(Reflect.get(t,s,e)),set:(t,s,e,n)=>{const i=t[s];return Ct(i)&&!Ct(e)?(i.value=e,!0):Reflect.set(t,s,e,n)}};function Rr(t){return $e(t)?t:new Proxy(t,va)}class wa{constructor(s,e,n,i){this._setter=e,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Ai(s,()=>{this._dirty||(this._dirty=!0,Pr(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const s=G(this);return Er(s),(s._dirty||!s._cacheable)&&(s._dirty=!1,s._value=s.effect.run()),s._value}set value(s){this._setter(s)}}function ba(t,s,e=!1){let n,i;const o=W(t);return o?(n=t,i=Dt):(n=t.get,i=t.set),new wa(n,i,o||!i,e)}function oe(t,s,e,n){let i;try{i=n?t(...n):t()}catch(o){cn(o,s,e)}return i}function It(t,s,e,n){if(W(t)){const o=oe(t,s,e,n);return o&&cr(o)&&o.catch(r=>{cn(r,s,e)}),o}const i=[];for(let o=0;o<t.length;o++)i.push(It(t[o],s,e,n));return i}function cn(t,s,e,n=!0){const i=s?s.vnode:null;if(s){let o=s.parent;const r=s.proxy,l=e;for(;o;){const c=o.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,r,l)===!1)return}o=o.parent}const a=s.appContext.config.errorHandler;if(a){oe(a,null,10,[t,r,l]);return}}Ca(t,e,i,n)}function Ca(t,s,e,n=!0){console.error(t)}let cs=!1,Xn=!1;const bt=[];let Vt=0;const De=[];let Kt=null,ye=0;const Ir=Promise.resolve();let ki=null;function Ta(t){const s=ki||Ir;return t?s.then(this?t.bind(this):t):s}function Ma(t){let s=Vt+1,e=bt.length;for(;s<e;){const n=s+e>>>1;hs(bt[n])<t?s=n+1:e=n}return s}function zi(t){(!bt.length||!bt.includes(t,cs&&t.allowRecurse?Vt+1:Vt))&&(t.id==null?bt.push(t):bt.splice(Ma(t.id),0,t),Sr())}function Sr(){!cs&&!Xn&&(Xn=!0,ki=Ir.then(Ar))}function _a(t){const s=bt.indexOf(t);s>Vt&&bt.splice(s,1)}function xa(t){k(t)?De.push(...t):(!Kt||!Kt.includes(t,t.allowRecurse?ye+1:ye))&&De.push(t),Sr()}function Co(t,s=cs?Vt+1:0){for(;s<bt.length;s++){const e=bt[s];e&&e.pre&&(bt.splice(s,1),s--,e())}}function Lr(t){if(De.length){const s=[...new Set(De)];if(De.length=0,Kt){Kt.push(...s);return}for(Kt=s,Kt.sort((e,n)=>hs(e)-hs(n)),ye=0;ye<Kt.length;ye++)Kt[ye]();Kt=null,ye=0}}const hs=t=>t.id==null?1/0:t.id,Ea=(t,s)=>{const e=hs(t)-hs(s);if(e===0){if(t.pre&&!s.pre)return-1;if(s.pre&&!t.pre)return 1}return e};function Ar(t){Xn=!1,cs=!0,bt.sort(Ea);const s=Dt;try{for(Vt=0;Vt<bt.length;Vt++){const e=bt[Vt];e&&e.active!==!1&&oe(e,null,14)}}finally{Vt=0,bt.length=0,Lr(),cs=!1,ki=null,(bt.length||De.length)&&Ar()}}function Pa(t,s,...e){if(t.isUnmounted)return;const n=t.vnode.props||nt;let i=e;const o=s.startsWith("update:"),r=o&&s.slice(7);if(r&&r in n){const h=`${r==="modelValue"?"model":r}Modifiers`,{number:d,trim:f}=n[h]||nt;f&&(i=e.map(m=>ht(m)?m.trim():m)),d&&(i=e.map(Ll))}let l,a=n[l=Is(s)]||n[l=Is(Xt(s))];!a&&o&&(a=n[l=Is(ke(s))]),a&&It(a,t,6,i);const c=n[l+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,It(c,t,6,i)}}function Hr(t,s,e=!1){const n=s.emitsCache,i=n.get(t);if(i!==void 0)return i;const o=t.emits;let r={},l=!1;if(!W(t)){const a=c=>{const h=Hr(c,s,!0);h&&(l=!0,ft(r,h))};!e&&s.mixins.length&&s.mixins.forEach(a),t.extends&&a(t.extends),t.mixins&&t.mixins.forEach(a)}return!o&&!l?(ot(t)&&n.set(t,null),null):(k(o)?o.forEach(a=>r[a]=null):ft(r,o),ot(t)&&n.set(t,r),r)}function hn(t,s){return!t||!tn(s)?!1:(s=s.slice(2).replace(/Once$/,""),X(t,s[0].toLowerCase()+s.slice(1))||X(t,ke(s))||X(t,s))}let vt=null,$r=null;function Hs(t){const s=vt;return vt=t,$r=t&&t.type.__scopeId||null,s}function un(t,s=vt,e){if(!s||t._n)return t;const n=(...i)=>{n._d&&Ho(-1);const o=Hs(s);let r;try{r=t(...i)}finally{Hs(o),n._d&&Ho(1)}return r};return n._n=!0,n._c=!0,n._d=!0,n}function Mn(t){const{type:s,vnode:e,proxy:n,withProxy:i,props:o,propsOptions:[r],slots:l,attrs:a,emit:c,render:h,renderCache:d,data:f,setupState:m,ctx:w,inheritAttrs:v}=t;let S,R;const L=Hs(t);try{if(e.shapeFlag&4){const x=i||n;S=Yt(h.call(x,x,d,o,m,f,w)),R=a}else{const x=s;S=Yt(x.length>1?x(o,{attrs:a,slots:l,emit:c}):x(o,null)),R=s.props?a:Oa(a)}}catch(x){is.length=0,cn(x,t,1),S=gt(St)}let z=S;if(R&&v!==!1){const x=Object.keys(R),{shapeFlag:H}=z;x.length&&H&7&&(r&&x.some(Oi)&&(R=Ra(R,r)),z=le(z,R))}return e.dirs&&(z=le(z),z.dirs=z.dirs?z.dirs.concat(e.dirs):e.dirs),e.transition&&(z.transition=e.transition),S=z,Hs(L),S}const Oa=t=>{let s;for(const e in t)(e==="class"||e==="style"||tn(e))&&((s||(s={}))[e]=t[e]);return s},Ra=(t,s)=>{const e={};for(const n in t)(!Oi(n)||!(n.slice(9)in s))&&(e[n]=t[n]);return e};function Ia(t,s,e){const{props:n,children:i,component:o}=t,{props:r,children:l,patchFlag:a}=s,c=o.emitsOptions;if(s.dirs||s.transition)return!0;if(e&&a>=0){if(a&1024)return!0;if(a&16)return n?To(n,r,c):!!r;if(a&8){const h=s.dynamicProps;for(let d=0;d<h.length;d++){const f=h[d];if(r[f]!==n[f]&&!hn(c,f))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:n===r?!1:n?r?To(n,r,c):!0:!!r;return!1}function To(t,s,e){const n=Object.keys(s);if(n.length!==Object.keys(t).length)return!0;for(let i=0;i<n.length;i++){const o=n[i];if(s[o]!==t[o]&&!hn(e,o))return!0}return!1}function Sa({vnode:t,parent:s},e){for(;s&&s.subTree===t;)(t=s.vnode).el=e,s=s.parent}const La=t=>t.__isSuspense;function Aa(t,s){s&&s.pendingBranch?k(t)?s.effects.push(...t):s.effects.push(t):xa(t)}const _s={};function _n(t,s,e){return Dr(t,s,e)}function Dr(t,s,{immediate:e,deep:n,flush:i,onTrack:o,onTrigger:r}=nt){var l;const a=Ul()===((l=mt)==null?void 0:l.scope)?mt:null;let c,h=!1,d=!1;if(Ct(t)?(c=()=>t.value,h=As(t)):$e(t)?(c=()=>t,n=!0):k(t)?(d=!0,h=t.some(x=>$e(x)||As(x)),c=()=>t.map(x=>{if(Ct(x))return x.value;if($e(x))return be(x);if(W(x))return oe(x,a,2)})):W(t)?s?c=()=>oe(t,a,2):c=()=>{if(!(a&&a.isUnmounted))return f&&f(),It(t,a,3,[m])}:c=Dt,s&&n){const x=c;c=()=>be(x())}let f,m=x=>{f=L.onStop=()=>{oe(x,a,4)}},w;if(fs)if(m=Dt,s?e&&It(s,a,3,[c(),d?[]:void 0,m]):c(),i==="sync"){const x=$c();w=x.__watcherHandles||(x.__watcherHandles=[])}else return Dt;let v=d?new Array(t.length).fill(_s):_s;const S=()=>{if(L.active)if(s){const x=L.run();(n||h||(d?x.some((H,Z)=>rs(H,v[Z])):rs(x,v)))&&(f&&f(),It(s,a,3,[x,v===_s?void 0:d&&v[0]===_s?[]:v,m]),v=x)}else L.run()};S.allowRecurse=!!s;let R;i==="sync"?R=S:i==="post"?R=()=>xt(S,a&&a.suspense):(S.pre=!0,a&&(S.id=a.uid),R=()=>zi(S));const L=new Ai(c,R);s?e?S():v=L.run():i==="post"?xt(L.run.bind(L),a&&a.suspense):L.run();const z=()=>{L.stop(),a&&a.scope&&Ri(a.scope.effects,L)};return w&&w.push(z),z}function Ha(t,s,e){const n=this.proxy,i=ht(t)?t.includes(".")?Fr(n,t):()=>n[t]:t.bind(n,n);let o;W(s)?o=s:(o=s.handler,e=s);const r=mt;Be(this);const l=Dr(i,o.bind(n),e);return r?Be(r):Te(),l}function Fr(t,s){const e=s.split(".");return()=>{let n=t;for(let i=0;i<e.length&&n;i++)n=n[e[i]];return n}}function be(t,s){if(!ot(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),Ct(t))be(t.value,s);else if(k(t))for(let e=0;e<t.length;e++)be(t[e],s);else if(ar(t)||He(t))t.forEach(e=>{be(e,s)});else if(ur(t))for(const e in t)be(t[e],s);return t}function $a(t,s){const e=vt;if(e===null)return t;const n=mn(e)||e.proxy,i=t.dirs||(t.dirs=[]);for(let o=0;o<s.length;o++){let[r,l,a,c=nt]=s[o];r&&(W(r)&&(r={mounted:r,updated:r}),r.deep&&be(l),i.push({dir:r,instance:n,value:l,oldValue:void 0,arg:a,modifiers:c}))}return t}function fe(t,s,e,n){const i=t.dirs,o=s&&s.dirs;for(let r=0;r<i.length;r++){const l=i[r];o&&(l.oldValue=o[r].value);let a=l.dir[n];a&&(ze(),It(a,e,8,[t.el,l,t,s]),Ne())}}function Da(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ni(()=>{t.isMounted=!0}),Wi(()=>{t.isUnmounting=!0}),t}const Rt=[Function,Array],Br={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Rt,onEnter:Rt,onAfterEnter:Rt,onEnterCancelled:Rt,onBeforeLeave:Rt,onLeave:Rt,onAfterLeave:Rt,onLeaveCancelled:Rt,onBeforeAppear:Rt,onAppear:Rt,onAfterAppear:Rt,onAppearCancelled:Rt},Fa={name:"BaseTransition",props:Br,setup(t,{slots:s}){const e=xc(),n=Da();let i;return()=>{const o=s.default&&zr(s.default(),!0);if(!o||!o.length)return;let r=o[0];if(o.length>1){for(const v of o)if(v.type!==St){r=v;break}}const l=G(t),{mode:a}=l;if(n.isLeaving)return xn(r);const c=Mo(r);if(!c)return xn(r);const h=Gn(c,l,n,e);qn(c,h);const d=e.subTree,f=d&&Mo(d);let m=!1;const{getTransitionKey:w}=c.type;if(w){const v=w();i===void 0?i=v:v!==i&&(i=v,m=!0)}if(f&&f.type!==St&&(!ve(c,f)||m)){const v=Gn(f,l,n,e);if(qn(f,v),a==="out-in")return n.isLeaving=!0,v.afterLeave=()=>{n.isLeaving=!1,e.update.active!==!1&&e.update()},xn(r);a==="in-out"&&c.type!==St&&(v.delayLeave=(S,R,L)=>{const z=kr(n,f);z[String(f.key)]=f,S._leaveCb=()=>{R(),S._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=L})}return r}}},Ba=Fa;function kr(t,s){const{leavingVNodes:e}=t;let n=e.get(s.type);return n||(n=Object.create(null),e.set(s.type,n)),n}function Gn(t,s,e,n){const{appear:i,mode:o,persisted:r=!1,onBeforeEnter:l,onEnter:a,onAfterEnter:c,onEnterCancelled:h,onBeforeLeave:d,onLeave:f,onAfterLeave:m,onLeaveCancelled:w,onBeforeAppear:v,onAppear:S,onAfterAppear:R,onAppearCancelled:L}=s,z=String(t.key),x=kr(e,t),H=(D,Y)=>{D&&It(D,n,9,Y)},Z=(D,Y)=>{const U=Y[1];H(D,Y),k(D)?D.every(J=>J.length<=1)&&U():D.length<=1&&U()},st={mode:o,persisted:r,beforeEnter(D){let Y=l;if(!e.isMounted)if(i)Y=v||l;else return;D._leaveCb&&D._leaveCb(!0);const U=x[z];U&&ve(t,U)&&U.el._leaveCb&&U.el._leaveCb(),H(Y,[D])},enter(D){let Y=a,U=c,J=h;if(!e.isMounted)if(i)Y=S||a,U=R||c,J=L||h;else return;let $=!1;const rt=D._enterCb=dt=>{$||($=!0,dt?H(J,[D]):H(U,[D]),st.delayedLeave&&st.delayedLeave(),D._enterCb=void 0)};Y?Z(Y,[D,rt]):rt()},leave(D,Y){const U=String(t.key);if(D._enterCb&&D._enterCb(!0),e.isUnmounting)return Y();H(d,[D]);let J=!1;const $=D._leaveCb=rt=>{J||(J=!0,Y(),rt?H(w,[D]):H(m,[D]),D._leaveCb=void 0,x[U]===t&&delete x[U])};x[U]=t,f?Z(f,[D,$]):$()},clone(D){return Gn(D,s,e,n)}};return st}function xn(t){if(fn(t))return t=le(t),t.children=null,t}function Mo(t){return fn(t)?t.children?t.children[0]:void 0:t}function qn(t,s){t.shapeFlag&6&&t.component?qn(t.component.subTree,s):t.shapeFlag&128?(t.ssContent.transition=s.clone(t.ssContent),t.ssFallback.transition=s.clone(t.ssFallback)):t.transition=s}function zr(t,s=!1,e){let n=[],i=0;for(let o=0;o<t.length;o++){let r=t[o];const l=e==null?r.key:String(e)+String(r.key!=null?r.key:o);r.type===Mt?(r.patchFlag&128&&i++,n=n.concat(zr(r.children,s,l))):(s||r.type!==St)&&n.push(l!=null?le(r,{key:l}):r)}if(i>1)for(let o=0;o<n.length;o++)n[o].patchFlag=-2;return n}function _e(t,s){return W(t)?(()=>ft({name:t.name},s,{setup:t}))():t}const ts=t=>!!t.type.__asyncLoader,fn=t=>t.type.__isKeepAlive;function ka(t,s){Nr(t,"a",s)}function za(t,s){Nr(t,"da",s)}function Nr(t,s,e=mt){const n=t.__wdc||(t.__wdc=()=>{let i=e;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(dn(s,n,e),e){let i=e.parent;for(;i&&i.parent;)fn(i.parent.vnode)&&Na(n,s,e,i),i=i.parent}}function Na(t,s,e,n){const i=dn(s,t,n,!0);Wr(()=>{Ri(n[s],i)},e)}function dn(t,s,e=mt,n=!1){if(e){const i=e[t]||(e[t]=[]),o=s.__weh||(s.__weh=(...r)=>{if(e.isUnmounted)return;ze(),Be(e);const l=It(s,e,t,r);return Te(),Ne(),l});return n?i.unshift(o):i.push(o),o}}const Jt=t=>(s,e=mt)=>(!fs||t==="sp")&&dn(t,(...n)=>s(...n),e),Wa=Jt("bm"),Ni=Jt("m"),Ua=Jt("bu"),Ya=Jt("u"),Wi=Jt("bum"),Wr=Jt("um"),Va=Jt("sp"),Xa=Jt("rtg"),Ga=Jt("rtc");function qa(t,s=mt){dn("ec",t,s)}const Ur="components",Yr=Symbol.for("v-ndc");function Kn(t){return ht(t)?Ka(Ur,t,!1)||t:t||Yr}function Ka(t,s,e=!0,n=!1){const i=vt||mt;if(i){const o=i.type;if(t===Ur){const l=Ic(o,!1);if(l&&(l===s||l===Xt(s)||l===nn(Xt(s))))return o}const r=_o(i[t]||o[t],s)||_o(i.appContext[t],s);return!r&&n?o:r}}function _o(t,s){return t&&(t[s]||t[Xt(s)]||t[nn(Xt(s))])}function Zn(t,s,e,n){let i;const o=e&&e[n];if(k(t)||ht(t)){i=new Array(t.length);for(let r=0,l=t.length;r<l;r++)i[r]=s(t[r],r,void 0,o&&o[r])}else if(typeof t=="number"){i=new Array(t);for(let r=0;r<t;r++)i[r]=s(r+1,r,void 0,o&&o[r])}else if(ot(t))if(t[Symbol.iterator])i=Array.from(t,(r,l)=>s(r,l,void 0,o&&o[l]));else{const r=Object.keys(t);i=new Array(r.length);for(let l=0,a=r.length;l<a;l++){const c=r[l];i[l]=s(t[c],c,l,o&&o[l])}}else i=[];return e&&(e[n]=i),i}function Vr(t,s,e={},n,i){if(vt.isCE||vt.parent&&ts(vt.parent)&&vt.parent.isCE)return s!=="default"&&(e.name=s),gt("slot",e,n&&n());let o=t[s];o&&o._c&&(o._d=!1),q();const r=o&&Xr(o(e)),l=ne(Mt,{key:e.key||r&&r.key||`_${s}`},r||(n?n():[]),r&&t._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function Xr(t){return t.some(s=>Fs(s)?!(s.type===St||s.type===Mt&&!Xr(s.children)):!0)?t:null}function Za(t,s){const e={};for(const n in t)e[s&&/[A-Z]/.test(n)?`on:${n}`:Is(n)]=t[n];return e}const jn=t=>t?ol(t)?mn(t)||t.proxy:jn(t.parent):null,es=ft(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>jn(t.parent),$root:t=>jn(t.root),$emit:t=>t.emit,$options:t=>Ui(t),$forceUpdate:t=>t.f||(t.f=()=>zi(t.update)),$nextTick:t=>t.n||(t.n=Ta.bind(t.proxy)),$watch:t=>Ha.bind(t)}),En=(t,s)=>t!==nt&&!t.__isScriptSetup&&X(t,s),ja={get({_:t},s){const{ctx:e,setupState:n,data:i,props:o,accessCache:r,type:l,appContext:a}=t;let c;if(s[0]!=="$"){const m=r[s];if(m!==void 0)switch(m){case 1:return n[s];case 2:return i[s];case 4:return e[s];case 3:return o[s]}else{if(En(n,s))return r[s]=1,n[s];if(i!==nt&&X(i,s))return r[s]=2,i[s];if((c=t.propsOptions[0])&&X(c,s))return r[s]=3,o[s];if(e!==nt&&X(e,s))return r[s]=4,e[s];Jn&&(r[s]=0)}}const h=es[s];let d,f;if(h)return s==="$attrs"&&Et(t,"get",s),h(t);if((d=l.__cssModules)&&(d=d[s]))return d;if(e!==nt&&X(e,s))return r[s]=4,e[s];if(f=a.config.globalProperties,X(f,s))return f[s]},set({_:t},s,e){const{data:n,setupState:i,ctx:o}=t;return En(i,s)?(i[s]=e,!0):n!==nt&&X(n,s)?(n[s]=e,!0):X(t.props,s)||s[0]==="$"&&s.slice(1)in t?!1:(o[s]=e,!0)},has({_:{data:t,setupState:s,accessCache:e,ctx:n,appContext:i,propsOptions:o}},r){let l;return!!e[r]||t!==nt&&X(t,r)||En(s,r)||(l=o[0])&&X(l,r)||X(n,r)||X(es,r)||X(i.config.globalProperties,r)},defineProperty(t,s,e){return e.get!=null?t._.accessCache[s]=0:X(e,"value")&&this.set(t,s,e.value,null),Reflect.defineProperty(t,s,e)}};function xo(t){return k(t)?t.reduce((s,e)=>(s[e]=null,s),{}):t}let Jn=!0;function Ja(t){const s=Ui(t),e=t.proxy,n=t.ctx;Jn=!1,s.beforeCreate&&Eo(s.beforeCreate,t,"bc");const{data:i,computed:o,methods:r,watch:l,provide:a,inject:c,created:h,beforeMount:d,mounted:f,beforeUpdate:m,updated:w,activated:v,deactivated:S,beforeDestroy:R,beforeUnmount:L,destroyed:z,unmounted:x,render:H,renderTracked:Z,renderTriggered:st,errorCaptured:D,serverPrefetch:Y,expose:U,inheritAttrs:J,components:$,directives:rt,filters:dt}=s;if(c&&Qa(c,n,null),r)for(const at in r){const Q=r[at];W(Q)&&(n[at]=Q.bind(e))}if(i){const at=i.call(e,e);ot(at)&&(t.data=ln(at))}if(Jn=!0,o)for(const at in o){const Q=o[at],he=W(Q)?Q.bind(e,e):W(Q.get)?Q.get.bind(e,e):Dt,ys=!W(Q)&&W(Q.set)?Q.set.bind(e):Dt,ue=Lc({get:he,set:ys});Object.defineProperty(n,at,{enumerable:!0,configurable:!0,get:()=>ue.value,set:Ft=>ue.value=Ft})}if(l)for(const at in l)Gr(l[at],n,e,at);if(a){const at=W(a)?a.call(e):a;Reflect.ownKeys(at).forEach(Q=>{Kr(Q,at[Q])})}h&&Eo(h,t,"c");function pt(at,Q){k(Q)?Q.forEach(he=>at(he.bind(e))):Q&&at(Q.bind(e))}if(pt(Wa,d),pt(Ni,f),pt(Ua,m),pt(Ya,w),pt(ka,v),pt(za,S),pt(qa,D),pt(Ga,Z),pt(Xa,st),pt(Wi,L),pt(Wr,x),pt(Va,Y),k(U))if(U.length){const at=t.exposed||(t.exposed={});U.forEach(Q=>{Object.defineProperty(at,Q,{get:()=>e[Q],set:he=>e[Q]=he})})}else t.exposed||(t.exposed={});H&&t.render===Dt&&(t.render=H),J!=null&&(t.inheritAttrs=J),$&&(t.components=$),rt&&(t.directives=rt)}function Qa(t,s,e=Dt){k(t)&&(t=Qn(t));for(const n in t){const i=t[n];let o;ot(i)?"default"in i?o=ss(i.from||n,i.default,!0):o=ss(i.from||n):o=ss(i),Ct(o)?Object.defineProperty(s,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:r=>o.value=r}):s[n]=o}}function Eo(t,s,e){It(k(t)?t.map(n=>n.bind(s.proxy)):t.bind(s.proxy),s,e)}function Gr(t,s,e,n){const i=n.includes(".")?Fr(e,n):()=>e[n];if(ht(t)){const o=s[t];W(o)&&_n(i,o)}else if(W(t))_n(i,t.bind(e));else if(ot(t))if(k(t))t.forEach(o=>Gr(o,s,e,n));else{const o=W(t.handler)?t.handler.bind(e):s[t.handler];W(o)&&_n(i,o,t)}}function Ui(t){const s=t.type,{mixins:e,extends:n}=s,{mixins:i,optionsCache:o,config:{optionMergeStrategies:r}}=t.appContext,l=o.get(s);let a;return l?a=l:!i.length&&!e&&!n?a=s:(a={},i.length&&i.forEach(c=>$s(a,c,r,!0)),$s(a,s,r)),ot(s)&&o.set(s,a),a}function $s(t,s,e,n=!1){const{mixins:i,extends:o}=s;o&&$s(t,o,e,!0),i&&i.forEach(r=>$s(t,r,e,!0));for(const r in s)if(!(n&&r==="expose")){const l=tc[r]||e&&e[r];t[r]=l?l(t[r],s[r]):s[r]}return t}const tc={data:Po,props:Oo,emits:Oo,methods:Je,computed:Je,beforeCreate:Tt,created:Tt,beforeMount:Tt,mounted:Tt,beforeUpdate:Tt,updated:Tt,beforeDestroy:Tt,beforeUnmount:Tt,destroyed:Tt,unmounted:Tt,activated:Tt,deactivated:Tt,errorCaptured:Tt,serverPrefetch:Tt,components:Je,directives:Je,watch:sc,provide:Po,inject:ec};function Po(t,s){return s?t?function(){return ft(W(t)?t.call(this,this):t,W(s)?s.call(this,this):s)}:s:t}function ec(t,s){return Je(Qn(t),Qn(s))}function Qn(t){if(k(t)){const s={};for(let e=0;e<t.length;e++)s[t[e]]=t[e];return s}return t}function Tt(t,s){return t?[...new Set([].concat(t,s))]:s}function Je(t,s){return t?ft(Object.create(null),t,s):s}function Oo(t,s){return t?k(t)&&k(s)?[...new Set([...t,...s])]:ft(Object.create(null),xo(t),xo(s??{})):s}function sc(t,s){if(!t)return s;if(!s)return t;const e=ft(Object.create(null),t);for(const n in s)e[n]=Tt(t[n],s[n]);return e}function qr(){return{app:null,config:{isNativeTag:El,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let nc=0;function ic(t,s){return function(n,i=null){W(n)||(n=ft({},n)),i!=null&&!ot(i)&&(i=null);const o=qr(),r=new Set;let l=!1;const a=o.app={_uid:nc++,_component:n,_props:i,_container:null,_context:o,_instance:null,version:Dc,get config(){return o.config},set config(c){},use(c,...h){return r.has(c)||(c&&W(c.install)?(r.add(c),c.install(a,...h)):W(c)&&(r.add(c),c(a,...h))),a},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),a},component(c,h){return h?(o.components[c]=h,a):o.components[c]},directive(c,h){return h?(o.directives[c]=h,a):o.directives[c]},mount(c,h,d){if(!l){const f=gt(n,i);return f.appContext=o,h&&s?s(f,c):t(f,c,d),l=!0,a._container=c,c.__vue_app__=a,mn(f.component)||f.component.proxy}},unmount(){l&&(t(null,a._container),delete a._container.__vue_app__)},provide(c,h){return o.provides[c]=h,a},runWithContext(c){Ds=a;try{return c()}finally{Ds=null}}};return a}}let Ds=null;function Kr(t,s){if(mt){let e=mt.provides;const n=mt.parent&&mt.parent.provides;n===e&&(e=mt.provides=Object.create(n)),e[t]=s}}function ss(t,s,e=!1){const n=mt||vt;if(n||Ds){const i=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:Ds._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return e&&W(s)?s.call(n&&n.proxy):s}}function oc(t,s,e,n=!1){const i={},o={};Ls(o,pn,1),t.propsDefaults=Object.create(null),Zr(t,s,i,o);for(const r in t.propsOptions[0])r in i||(i[r]=void 0);e?t.props=n?i:ma(i):t.type.props?t.props=i:t.props=o,t.attrs=o}function rc(t,s,e,n){const{props:i,attrs:o,vnode:{patchFlag:r}}=t,l=G(i),[a]=t.propsOptions;let c=!1;if((n||r>0)&&!(r&16)){if(r&8){const h=t.vnode.dynamicProps;for(let d=0;d<h.length;d++){let f=h[d];if(hn(t.emitsOptions,f))continue;const m=s[f];if(a)if(X(o,f))m!==o[f]&&(o[f]=m,c=!0);else{const w=Xt(f);i[w]=ti(a,l,w,m,t,!1)}else m!==o[f]&&(o[f]=m,c=!0)}}}else{Zr(t,s,i,o)&&(c=!0);let h;for(const d in l)(!s||!X(s,d)&&((h=ke(d))===d||!X(s,h)))&&(a?e&&(e[d]!==void 0||e[h]!==void 0)&&(i[d]=ti(a,l,d,void 0,t,!0)):delete i[d]);if(o!==l)for(const d in o)(!s||!X(s,d))&&(delete o[d],c=!0)}c&&jt(t,"set","$attrs")}function Zr(t,s,e,n){const[i,o]=t.propsOptions;let r=!1,l;if(s)for(let a in s){if(Rs(a))continue;const c=s[a];let h;i&&X(i,h=Xt(a))?!o||!o.includes(h)?e[h]=c:(l||(l={}))[h]=c:hn(t.emitsOptions,a)||(!(a in n)||c!==n[a])&&(n[a]=c,r=!0)}if(o){const a=G(e),c=l||nt;for(let h=0;h<o.length;h++){const d=o[h];e[d]=ti(i,a,d,c[d],t,!X(c,d))}}return r}function ti(t,s,e,n,i,o){const r=t[e];if(r!=null){const l=X(r,"default");if(l&&n===void 0){const a=r.default;if(r.type!==Function&&!r.skipFactory&&W(a)){const{propsDefaults:c}=i;e in c?n=c[e]:(Be(i),n=c[e]=a.call(null,s),Te())}else n=a}r[0]&&(o&&!l?n=!1:r[1]&&(n===""||n===ke(e))&&(n=!0))}return n}function jr(t,s,e=!1){const n=s.propsCache,i=n.get(t);if(i)return i;const o=t.props,r={},l=[];let a=!1;if(!W(t)){const h=d=>{a=!0;const[f,m]=jr(d,s,!0);ft(r,f),m&&l.push(...m)};!e&&s.mixins.length&&s.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!o&&!a)return ot(t)&&n.set(t,Ae),Ae;if(k(o))for(let h=0;h<o.length;h++){const d=Xt(o[h]);Ro(d)&&(r[d]=nt)}else if(o)for(const h in o){const d=Xt(h);if(Ro(d)){const f=o[h],m=r[d]=k(f)||W(f)?{type:f}:ft({},f);if(m){const w=Lo(Boolean,m.type),v=Lo(String,m.type);m[0]=w>-1,m[1]=v<0||w<v,(w>-1||X(m,"default"))&&l.push(d)}}}const c=[r,l];return ot(t)&&n.set(t,c),c}function Ro(t){return t[0]!=="$"}function Io(t){const s=t&&t.toString().match(/^\s*(function|class) (\w+)/);return s?s[2]:t===null?"null":""}function So(t,s){return Io(t)===Io(s)}function Lo(t,s){return k(s)?s.findIndex(e=>So(e,t)):W(s)&&So(s,t)?0:-1}const Jr=t=>t[0]==="_"||t==="$stable",Yi=t=>k(t)?t.map(Yt):[Yt(t)],lc=(t,s,e)=>{if(s._n)return s;const n=un((...i)=>Yi(s(...i)),e);return n._c=!1,n},Qr=(t,s,e)=>{const n=t._ctx;for(const i in t){if(Jr(i))continue;const o=t[i];if(W(o))s[i]=lc(i,o,n);else if(o!=null){const r=Yi(o);s[i]=()=>r}}},tl=(t,s)=>{const e=Yi(s);t.slots.default=()=>e},ac=(t,s)=>{if(t.vnode.shapeFlag&32){const e=s._;e?(t.slots=G(s),Ls(s,"_",e)):Qr(s,t.slots={})}else t.slots={},s&&tl(t,s);Ls(t.slots,pn,1)},cc=(t,s,e)=>{const{vnode:n,slots:i}=t;let o=!0,r=nt;if(n.shapeFlag&32){const l=s._;l?e&&l===1?o=!1:(ft(i,s),!e&&l===1&&delete i._):(o=!s.$stable,Qr(s,i)),r=s}else s&&(tl(t,s),r={default:1});if(o)for(const l in i)!Jr(l)&&!(l in r)&&delete i[l]};function ei(t,s,e,n,i=!1){if(k(t)){t.forEach((f,m)=>ei(f,s&&(k(s)?s[m]:s),e,n,i));return}if(ts(n)&&!i)return;const o=n.shapeFlag&4?mn(n.component)||n.component.proxy:n.el,r=i?null:o,{i:l,r:a}=t,c=s&&s.r,h=l.refs===nt?l.refs={}:l.refs,d=l.setupState;if(c!=null&&c!==a&&(ht(c)?(h[c]=null,X(d,c)&&(d[c]=null)):Ct(c)&&(c.value=null)),W(a))oe(a,l,12,[r,h]);else{const f=ht(a),m=Ct(a);if(f||m){const w=()=>{if(t.f){const v=f?X(d,a)?d[a]:h[a]:a.value;i?k(v)&&Ri(v,o):k(v)?v.includes(o)||v.push(o):f?(h[a]=[o],X(d,a)&&(d[a]=h[a])):(a.value=[o],t.k&&(h[t.k]=a.value))}else f?(h[a]=r,X(d,a)&&(d[a]=r)):m&&(a.value=r,t.k&&(h[t.k]=r))};r?(w.id=-1,xt(w,e)):w()}}}const xt=Aa;function hc(t){return uc(t)}function uc(t,s){const e=Nn();e.__VUE__=!0;const{insert:n,remove:i,patchProp:o,createElement:r,createText:l,createComment:a,setText:c,setElementText:h,parentNode:d,nextSibling:f,setScopeId:m=Dt,insertStaticContent:w}=t,v=(u,g,y,C=null,b=null,_=null,I=!1,M=null,P=!!g.dynamicChildren)=>{if(u===g)return;u&&!ve(u,g)&&(C=vs(u),Ft(u,b,_,!0),u=null),g.patchFlag===-2&&(P=!1,g.dynamicChildren=null);const{type:T,ref:F,shapeFlag:A}=g;switch(T){case gn:S(u,g,y,C);break;case St:R(u,g,y,C);break;case Pn:u==null&&L(g,y,C,I);break;case Mt:$(u,g,y,C,b,_,I,M,P);break;default:A&1?H(u,g,y,C,b,_,I,M,P):A&6?rt(u,g,y,C,b,_,I,M,P):(A&64||A&128)&&T.process(u,g,y,C,b,_,I,M,P,Ee)}F!=null&&b&&ei(F,u&&u.ref,_,g||u,!g)},S=(u,g,y,C)=>{if(u==null)n(g.el=l(g.children),y,C);else{const b=g.el=u.el;g.children!==u.children&&c(b,g.children)}},R=(u,g,y,C)=>{u==null?n(g.el=a(g.children||""),y,C):g.el=u.el},L=(u,g,y,C)=>{[u.el,u.anchor]=w(u.children,g,y,C,u.el,u.anchor)},z=({el:u,anchor:g},y,C)=>{let b;for(;u&&u!==g;)b=f(u),n(u,y,C),u=b;n(g,y,C)},x=({el:u,anchor:g})=>{let y;for(;u&&u!==g;)y=f(u),i(u),u=y;i(g)},H=(u,g,y,C,b,_,I,M,P)=>{I=I||g.type==="svg",u==null?Z(g,y,C,b,_,I,M,P):Y(u,g,b,_,I,M,P)},Z=(u,g,y,C,b,_,I,M)=>{let P,T;const{type:F,props:A,shapeFlag:B,transition:N,dirs:V}=u;if(P=u.el=r(u.type,_,A&&A.is,A),B&8?h(P,u.children):B&16&&D(u.children,P,null,C,b,_&&F!=="foreignObject",I,M),V&&fe(u,null,C,"created"),st(P,u,u.scopeId,I,C),A){for(const j in A)j!=="value"&&!Rs(j)&&o(P,j,null,A[j],_,u.children,C,b,qt);"value"in A&&o(P,"value",null,A.value),(T=A.onVnodeBeforeMount)&&kt(T,C,u)}V&&fe(u,null,C,"beforeMount");const tt=(!b||b&&!b.pendingBranch)&&N&&!N.persisted;tt&&N.beforeEnter(P),n(P,g,y),((T=A&&A.onVnodeMounted)||tt||V)&&xt(()=>{T&&kt(T,C,u),tt&&N.enter(P),V&&fe(u,null,C,"mounted")},b)},st=(u,g,y,C,b)=>{if(y&&m(u,y),C)for(let _=0;_<C.length;_++)m(u,C[_]);if(b){let _=b.subTree;if(g===_){const I=b.vnode;st(u,I,I.scopeId,I.slotScopeIds,b.parent)}}},D=(u,g,y,C,b,_,I,M,P=0)=>{for(let T=P;T<u.length;T++){const F=u[T]=M?se(u[T]):Yt(u[T]);v(null,F,g,y,C,b,_,I,M)}},Y=(u,g,y,C,b,_,I)=>{const M=g.el=u.el;let{patchFlag:P,dynamicChildren:T,dirs:F}=g;P|=u.patchFlag&16;const A=u.props||nt,B=g.props||nt;let N;y&&de(y,!1),(N=B.onVnodeBeforeUpdate)&&kt(N,y,g,u),F&&fe(g,u,y,"beforeUpdate"),y&&de(y,!0);const V=b&&g.type!=="foreignObject";if(T?U(u.dynamicChildren,T,M,y,C,V,_):I||Q(u,g,M,null,y,C,V,_,!1),P>0){if(P&16)J(M,g,A,B,y,C,b);else if(P&2&&A.class!==B.class&&o(M,"class",null,B.class,b),P&4&&o(M,"style",A.style,B.style,b),P&8){const tt=g.dynamicProps;for(let j=0;j<tt.length;j++){const ut=tt[j],Lt=A[ut],Pe=B[ut];(Pe!==Lt||ut==="value")&&o(M,ut,Lt,Pe,b,u.children,y,C,qt)}}P&1&&u.children!==g.children&&h(M,g.children)}else!I&&T==null&&J(M,g,A,B,y,C,b);((N=B.onVnodeUpdated)||F)&&xt(()=>{N&&kt(N,y,g,u),F&&fe(g,u,y,"updated")},C)},U=(u,g,y,C,b,_,I)=>{for(let M=0;M<g.length;M++){const P=u[M],T=g[M],F=P.el&&(P.type===Mt||!ve(P,T)||P.shapeFlag&70)?d(P.el):y;v(P,T,F,null,C,b,_,I,!0)}},J=(u,g,y,C,b,_,I)=>{if(y!==C){if(y!==nt)for(const M in y)!Rs(M)&&!(M in C)&&o(u,M,y[M],null,I,g.children,b,_,qt);for(const M in C){if(Rs(M))continue;const P=C[M],T=y[M];P!==T&&M!=="value"&&o(u,M,T,P,I,g.children,b,_,qt)}"value"in C&&o(u,"value",y.value,C.value)}},$=(u,g,y,C,b,_,I,M,P)=>{const T=g.el=u?u.el:l(""),F=g.anchor=u?u.anchor:l("");let{patchFlag:A,dynamicChildren:B,slotScopeIds:N}=g;N&&(M=M?M.concat(N):N),u==null?(n(T,y,C),n(F,y,C),D(g.children,y,F,b,_,I,M,P)):A>0&&A&64&&B&&u.dynamicChildren?(U(u.dynamicChildren,B,y,b,_,I,M),(g.key!=null||b&&g===b.subTree)&&Vi(u,g,!0)):Q(u,g,y,F,b,_,I,M,P)},rt=(u,g,y,C,b,_,I,M,P)=>{g.slotScopeIds=M,u==null?g.shapeFlag&512?b.ctx.activate(g,y,C,I,P):dt(g,y,C,b,_,I,P):Xe(u,g,P)},dt=(u,g,y,C,b,_,I)=>{const M=u.component=_c(u,C,b);if(fn(u)&&(M.ctx.renderer=Ee),Ec(M),M.asyncDep){if(b&&b.registerDep(M,pt),!u.el){const P=M.subTree=gt(St);R(null,P,g,y)}return}pt(M,u,g,y,b,_,I)},Xe=(u,g,y)=>{const C=g.component=u.component;if(Ia(u,g,y))if(C.asyncDep&&!C.asyncResolved){at(C,g,y);return}else C.next=g,_a(C.update),C.update();else g.el=u.el,C.vnode=g},pt=(u,g,y,C,b,_,I)=>{const M=()=>{if(u.isMounted){let{next:F,bu:A,u:B,parent:N,vnode:V}=u,tt=F,j;de(u,!1),F?(F.el=V.el,at(u,F,I)):F=V,A&&Tn(A),(j=F.props&&F.props.onVnodeBeforeUpdate)&&kt(j,N,F,V),de(u,!0);const ut=Mn(u),Lt=u.subTree;u.subTree=ut,v(Lt,ut,d(Lt.el),vs(Lt),u,b,_),F.el=ut.el,tt===null&&Sa(u,ut.el),B&&xt(B,b),(j=F.props&&F.props.onVnodeUpdated)&&xt(()=>kt(j,N,F,V),b)}else{let F;const{el:A,props:B}=g,{bm:N,m:V,parent:tt}=u,j=ts(g);if(de(u,!1),N&&Tn(N),!j&&(F=B&&B.onVnodeBeforeMount)&&kt(F,tt,g),de(u,!0),A&&Cn){const ut=()=>{u.subTree=Mn(u),Cn(A,u.subTree,u,b,null)};j?g.type.__asyncLoader().then(()=>!u.isUnmounted&&ut()):ut()}else{const ut=u.subTree=Mn(u);v(null,ut,y,C,u,b,_),g.el=ut.el}if(V&&xt(V,b),!j&&(F=B&&B.onVnodeMounted)){const ut=g;xt(()=>kt(F,tt,ut),b)}(g.shapeFlag&256||tt&&ts(tt.vnode)&&tt.vnode.shapeFlag&256)&&u.a&&xt(u.a,b),u.isMounted=!0,g=y=C=null}},P=u.effect=new Ai(M,()=>zi(T),u.scope),T=u.update=()=>P.run();T.id=u.uid,de(u,!0),T()},at=(u,g,y)=>{g.component=u;const C=u.vnode.props;u.vnode=g,u.next=null,rc(u,g.props,C,y),cc(u,g.children,y),ze(),Co(),Ne()},Q=(u,g,y,C,b,_,I,M,P=!1)=>{const T=u&&u.children,F=u?u.shapeFlag:0,A=g.children,{patchFlag:B,shapeFlag:N}=g;if(B>0){if(B&128){ys(T,A,y,C,b,_,I,M,P);return}else if(B&256){he(T,A,y,C,b,_,I,M,P);return}}N&8?(F&16&&qt(T,b,_),A!==T&&h(y,A)):F&16?N&16?ys(T,A,y,C,b,_,I,M,P):qt(T,b,_,!0):(F&8&&h(y,""),N&16&&D(A,y,C,b,_,I,M,P))},he=(u,g,y,C,b,_,I,M,P)=>{u=u||Ae,g=g||Ae;const T=u.length,F=g.length,A=Math.min(T,F);let B;for(B=0;B<A;B++){const N=g[B]=P?se(g[B]):Yt(g[B]);v(u[B],N,y,null,b,_,I,M,P)}T>F?qt(u,b,_,!0,!1,A):D(g,y,C,b,_,I,M,P,A)},ys=(u,g,y,C,b,_,I,M,P)=>{let T=0;const F=g.length;let A=u.length-1,B=F-1;for(;T<=A&&T<=B;){const N=u[T],V=g[T]=P?se(g[T]):Yt(g[T]);if(ve(N,V))v(N,V,y,null,b,_,I,M,P);else break;T++}for(;T<=A&&T<=B;){const N=u[A],V=g[B]=P?se(g[B]):Yt(g[B]);if(ve(N,V))v(N,V,y,null,b,_,I,M,P);else break;A--,B--}if(T>A){if(T<=B){const N=B+1,V=N<F?g[N].el:C;for(;T<=B;)v(null,g[T]=P?se(g[T]):Yt(g[T]),y,V,b,_,I,M,P),T++}}else if(T>B)for(;T<=A;)Ft(u[T],b,_,!0),T++;else{const N=T,V=T,tt=new Map;for(T=V;T<=B;T++){const Pt=g[T]=P?se(g[T]):Yt(g[T]);Pt.key!=null&&tt.set(Pt.key,T)}let j,ut=0;const Lt=B-V+1;let Pe=!1,ao=0;const Ge=new Array(Lt);for(T=0;T<Lt;T++)Ge[T]=0;for(T=N;T<=A;T++){const Pt=u[T];if(ut>=Lt){Ft(Pt,b,_,!0);continue}let Bt;if(Pt.key!=null)Bt=tt.get(Pt.key);else for(j=V;j<=B;j++)if(Ge[j-V]===0&&ve(Pt,g[j])){Bt=j;break}Bt===void 0?Ft(Pt,b,_,!0):(Ge[Bt-V]=T+1,Bt>=ao?ao=Bt:Pe=!0,v(Pt,g[Bt],y,null,b,_,I,M,P),ut++)}const co=Pe?fc(Ge):Ae;for(j=co.length-1,T=Lt-1;T>=0;T--){const Pt=V+T,Bt=g[Pt],ho=Pt+1<F?g[Pt+1].el:C;Ge[T]===0?v(null,Bt,y,ho,b,_,I,M,P):Pe&&(j<0||T!==co[j]?ue(Bt,y,ho,2):j--)}}},ue=(u,g,y,C,b=null)=>{const{el:_,type:I,transition:M,children:P,shapeFlag:T}=u;if(T&6){ue(u.component.subTree,g,y,C);return}if(T&128){u.suspense.move(g,y,C);return}if(T&64){I.move(u,g,y,Ee);return}if(I===Mt){n(_,g,y);for(let A=0;A<P.length;A++)ue(P[A],g,y,C);n(u.anchor,g,y);return}if(I===Pn){z(u,g,y);return}if(C!==2&&T&1&&M)if(C===0)M.beforeEnter(_),n(_,g,y),xt(()=>M.enter(_),b);else{const{leave:A,delayLeave:B,afterLeave:N}=M,V=()=>n(_,g,y),tt=()=>{A(_,()=>{V(),N&&N()})};B?B(_,V,tt):tt()}else n(_,g,y)},Ft=(u,g,y,C=!1,b=!1)=>{const{type:_,props:I,ref:M,children:P,dynamicChildren:T,shapeFlag:F,patchFlag:A,dirs:B}=u;if(M!=null&&ei(M,null,y,u,!0),F&256){g.ctx.deactivate(u);return}const N=F&1&&B,V=!ts(u);let tt;if(V&&(tt=I&&I.onVnodeBeforeUnmount)&&kt(tt,g,u),F&6)Ml(u.component,y,C);else{if(F&128){u.suspense.unmount(y,C);return}N&&fe(u,null,g,"beforeUnmount"),F&64?u.type.remove(u,g,y,b,Ee,C):T&&(_!==Mt||A>0&&A&64)?qt(T,g,y,!1,!0):(_===Mt&&A&384||!b&&F&16)&&qt(P,g,y),C&&ro(u)}(V&&(tt=I&&I.onVnodeUnmounted)||N)&&xt(()=>{tt&&kt(tt,g,u),N&&fe(u,null,g,"unmounted")},y)},ro=u=>{const{type:g,el:y,anchor:C,transition:b}=u;if(g===Mt){Tl(y,C);return}if(g===Pn){x(u);return}const _=()=>{i(y),b&&!b.persisted&&b.afterLeave&&b.afterLeave()};if(u.shapeFlag&1&&b&&!b.persisted){const{leave:I,delayLeave:M}=b,P=()=>I(y,_);M?M(u.el,_,P):P()}else _()},Tl=(u,g)=>{let y;for(;u!==g;)y=f(u),i(u),u=y;i(g)},Ml=(u,g,y)=>{const{bum:C,scope:b,update:_,subTree:I,um:M}=u;C&&Tn(C),b.stop(),_&&(_.active=!1,Ft(I,u,g,y)),M&&xt(M,g),xt(()=>{u.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&u.asyncDep&&!u.asyncResolved&&u.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},qt=(u,g,y,C=!1,b=!1,_=0)=>{for(let I=_;I<u.length;I++)Ft(u[I],g,y,C,b)},vs=u=>u.shapeFlag&6?vs(u.component.subTree):u.shapeFlag&128?u.suspense.next():f(u.anchor||u.el),lo=(u,g,y)=>{u==null?g._vnode&&Ft(g._vnode,null,null,!0):v(g._vnode||null,u,g,null,null,null,y),Co(),Lr(),g._vnode=u},Ee={p:v,um:Ft,m:ue,r:ro,mt:dt,mc:D,pc:Q,pbc:U,n:vs,o:t};let bn,Cn;return s&&([bn,Cn]=s(Ee)),{render:lo,hydrate:bn,createApp:ic(lo,bn)}}function de({effect:t,update:s},e){t.allowRecurse=s.allowRecurse=e}function Vi(t,s,e=!1){const n=t.children,i=s.children;if(k(n)&&k(i))for(let o=0;o<n.length;o++){const r=n[o];let l=i[o];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[o]=se(i[o]),l.el=r.el),e||Vi(r,l)),l.type===gn&&(l.el=r.el)}}function fc(t){const s=t.slice(),e=[0];let n,i,o,r,l;const a=t.length;for(n=0;n<a;n++){const c=t[n];if(c!==0){if(i=e[e.length-1],t[i]<c){s[n]=i,e.push(n);continue}for(o=0,r=e.length-1;o<r;)l=o+r>>1,t[e[l]]<c?o=l+1:r=l;c<t[e[o]]&&(o>0&&(s[n]=e[o-1]),e[o]=n)}}for(o=e.length,r=e[o-1];o-- >0;)e[o]=r,r=s[r];return e}const dc=t=>t.__isTeleport,ns=t=>t&&(t.disabled||t.disabled===""),Ao=t=>typeof SVGElement<"u"&&t instanceof SVGElement,si=(t,s)=>{const e=t&&t.to;return ht(e)?s?s(e):null:e},gc={__isTeleport:!0,process(t,s,e,n,i,o,r,l,a,c){const{mc:h,pc:d,pbc:f,o:{insert:m,querySelector:w,createText:v,createComment:S}}=c,R=ns(s.props);let{shapeFlag:L,children:z,dynamicChildren:x}=s;if(t==null){const H=s.el=v(""),Z=s.anchor=v("");m(H,e,n),m(Z,e,n);const st=s.target=si(s.props,w),D=s.targetAnchor=v("");st&&(m(D,st),r=r||Ao(st));const Y=(U,J)=>{L&16&&h(z,U,J,i,o,r,l,a)};R?Y(e,Z):st&&Y(st,D)}else{s.el=t.el;const H=s.anchor=t.anchor,Z=s.target=t.target,st=s.targetAnchor=t.targetAnchor,D=ns(t.props),Y=D?e:Z,U=D?H:st;if(r=r||Ao(Z),x?(f(t.dynamicChildren,x,Y,i,o,r,l),Vi(t,s,!0)):a||d(t,s,Y,U,i,o,r,l,!1),R)D||xs(s,e,H,c,1);else if((s.props&&s.props.to)!==(t.props&&t.props.to)){const J=s.target=si(s.props,w);J&&xs(s,J,null,c,0)}else D&&xs(s,Z,st,c,1)}el(s)},remove(t,s,e,n,{um:i,o:{remove:o}},r){const{shapeFlag:l,children:a,anchor:c,targetAnchor:h,target:d,props:f}=t;if(d&&o(h),(r||!ns(f))&&(o(c),l&16))for(let m=0;m<a.length;m++){const w=a[m];i(w,s,e,!0,!!w.dynamicChildren)}},move:xs,hydrate:pc};function xs(t,s,e,{o:{insert:n},m:i},o=2){o===0&&n(t.targetAnchor,s,e);const{el:r,anchor:l,shapeFlag:a,children:c,props:h}=t,d=o===2;if(d&&n(r,s,e),(!d||ns(h))&&a&16)for(let f=0;f<c.length;f++)i(c[f],s,e,2);d&&n(l,s,e)}function pc(t,s,e,n,i,o,{o:{nextSibling:r,parentNode:l,querySelector:a}},c){const h=s.target=si(s.props,a);if(h){const d=h._lpa||h.firstChild;if(s.shapeFlag&16)if(ns(s.props))s.anchor=c(r(t),s,l(t),e,n,i,o),s.targetAnchor=d;else{s.anchor=r(t);let f=d;for(;f;)if(f=r(f),f&&f.nodeType===8&&f.data==="teleport anchor"){s.targetAnchor=f,h._lpa=s.targetAnchor&&r(s.targetAnchor);break}c(d,s,h,e,n,i,o)}el(s)}return s.anchor&&r(s.anchor)}const mc=gc;function el(t){const s=t.ctx;if(s&&s.ut){let e=t.children[0].el;for(;e!==t.targetAnchor;)e.nodeType===1&&e.setAttribute("data-v-owner",s.uid),e=e.nextSibling;s.ut()}}const Mt=Symbol.for("v-fgt"),gn=Symbol.for("v-txt"),St=Symbol.for("v-cmt"),Pn=Symbol.for("v-stc"),is=[];let $t=null;function q(t=!1){is.push($t=t?null:[])}function yc(){is.pop(),$t=is[is.length-1]||null}let us=1;function Ho(t){us+=t}function sl(t){return t.dynamicChildren=us>0?$t||Ae:null,yc(),us>0&&$t&&$t.push(t),t}function lt(t,s,e,n,i,o){return sl(et(t,s,e,n,i,o,!0))}function ne(t,s,e,n,i){return sl(gt(t,s,e,n,i,!0))}function Fs(t){return t?t.__v_isVNode===!0:!1}function ve(t,s){return t.type===s.type&&t.key===s.key}const pn="__vInternal",nl=({key:t})=>t??null,Ss=({ref:t,ref_key:s,ref_for:e})=>(typeof t=="number"&&(t=""+t),t!=null?ht(t)||Ct(t)||W(t)?{i:vt,r:t,k:s,f:!!e}:t:null);function et(t,s=null,e=null,n=0,i=null,o=t===Mt?0:1,r=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:t,props:s,key:s&&nl(s),ref:s&&Ss(s),scopeId:$r,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:vt};return l?(Xi(a,e),o&128&&t.normalize(a)):e&&(a.shapeFlag|=ht(e)?8:16),us>0&&!r&&$t&&(a.patchFlag>0||o&6)&&a.patchFlag!==32&&$t.push(a),a}const gt=vc;function vc(t,s=null,e=null,n=0,i=null,o=!1){if((!t||t===Yr)&&(t=St),Fs(t)){const l=le(t,s,!0);return e&&Xi(l,e),us>0&&!o&&$t&&(l.shapeFlag&6?$t[$t.indexOf(t)]=l:$t.push(l)),l.patchFlag|=-2,l}if(Sc(t)&&(t=t.__vccOpts),s){s=wc(s);let{class:l,style:a}=s;l&&!ht(l)&&(s.class=wt(l)),ot(a)&&(xr(a)&&!k(a)&&(a=ft({},a)),s.style=on(a))}const r=ht(t)?1:La(t)?128:dc(t)?64:ot(t)?4:W(t)?2:0;return et(t,s,e,n,i,r,o,!0)}function wc(t){return t?xr(t)||pn in t?ft({},t):t:null}function le(t,s,e=!1){const{props:n,ref:i,patchFlag:o,children:r}=t,l=s?il(n||{},s):n;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&nl(l),ref:s&&s.ref?e&&i?k(i)?i.concat(Ss(s)):[i,Ss(s)]:Ss(s):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:r,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:s&&t.type!==Mt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&le(t.ssContent),ssFallback:t.ssFallback&&le(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function bc(t=" ",s=0){return gt(gn,null,t,s)}function Cc(t="",s=!1){return s?(q(),ne(St,null,t)):gt(St,null,t)}function Yt(t){return t==null||typeof t=="boolean"?gt(St):k(t)?gt(Mt,null,t.slice()):typeof t=="object"?se(t):gt(gn,null,String(t))}function se(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:le(t)}function Xi(t,s){let e=0;const{shapeFlag:n}=t;if(s==null)s=null;else if(k(s))e=16;else if(typeof s=="object")if(n&65){const i=s.default;i&&(i._c&&(i._d=!1),Xi(t,i()),i._c&&(i._d=!0));return}else{e=32;const i=s._;!i&&!(pn in s)?s._ctx=vt:i===3&&vt&&(vt.slots._===1?s._=1:(s._=2,t.patchFlag|=1024))}else W(s)?(s={default:s,_ctx:vt},e=32):(s=String(s),n&64?(e=16,s=[bc(s)]):e=8);t.children=s,t.shapeFlag|=e}function il(...t){const s={};for(let e=0;e<t.length;e++){const n=t[e];for(const i in n)if(i==="class")s.class!==n.class&&(s.class=wt([s.class,n.class]));else if(i==="style")s.style=on([s.style,n.style]);else if(tn(i)){const o=s[i],r=n[i];r&&o!==r&&!(k(o)&&o.includes(r))&&(s[i]=o?[].concat(o,r):r)}else i!==""&&(s[i]=n[i])}return s}function kt(t,s,e,n=null){It(t,s,7,[e,n])}const Tc=qr();let Mc=0;function _c(t,s,e){const n=t.type,i=(s?s.appContext:t.appContext)||Tc,o={uid:Mc++,vnode:t,type:n,parent:s,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Nl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:s?s.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:jr(n,i),emitsOptions:Hr(n,i),emit:null,emitted:null,propsDefaults:nt,inheritAttrs:n.inheritAttrs,ctx:nt,data:nt,props:nt,attrs:nt,slots:nt,refs:nt,setupState:nt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=s?s.root:o,o.emit=Pa.bind(null,o),t.ce&&t.ce(o),o}let mt=null;const xc=()=>mt||vt;let Gi,Oe,$o="__VUE_INSTANCE_SETTERS__";(Oe=Nn()[$o])||(Oe=Nn()[$o]=[]),Oe.push(t=>mt=t),Gi=t=>{Oe.length>1?Oe.forEach(s=>s(t)):Oe[0](t)};const Be=t=>{Gi(t),t.scope.on()},Te=()=>{mt&&mt.scope.off(),Gi(null)};function ol(t){return t.vnode.shapeFlag&4}let fs=!1;function Ec(t,s=!1){fs=s;const{props:e,children:n}=t.vnode,i=ol(t);oc(t,e,i,s),ac(t,n);const o=i?Pc(t,s):void 0;return fs=!1,o}function Pc(t,s){const e=t.type;t.accessCache=Object.create(null),t.proxy=an(new Proxy(t.ctx,ja));const{setup:n}=e;if(n){const i=t.setupContext=n.length>1?Rc(t):null;Be(t),ze();const o=oe(n,t,0,[t.props,i]);if(Ne(),Te(),cr(o)){if(o.then(Te,Te),s)return o.then(r=>{Do(t,r,s)}).catch(r=>{cn(r,t,0)});t.asyncDep=o}else Do(t,o,s)}else rl(t,s)}function Do(t,s,e){W(s)?t.type.__ssrInlineRender?t.ssrRender=s:t.render=s:ot(s)&&(t.setupState=Rr(s)),rl(t,e)}let Fo;function rl(t,s,e){const n=t.type;if(!t.render){if(!s&&Fo&&!n.render){const i=n.template||Ui(t).template;if(i){const{isCustomElement:o,compilerOptions:r}=t.appContext.config,{delimiters:l,compilerOptions:a}=n,c=ft(ft({isCustomElement:o,delimiters:l},r),a);n.render=Fo(i,c)}}t.render=n.render||Dt}Be(t),ze(),Ja(t),Ne(),Te()}function Oc(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(s,e){return Et(t,"get","$attrs"),s[e]}}))}function Rc(t){const s=e=>{t.exposed=e||{}};return{get attrs(){return Oc(t)},slots:t.slots,emit:t.emit,expose:s}}function mn(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Rr(an(t.exposed)),{get(s,e){if(e in s)return s[e];if(e in es)return es[e](t)},has(s,e){return e in s||e in es}}))}function Ic(t,s=!0){return W(t)?t.displayName||t.name:t.name||s&&t.__name}function Sc(t){return W(t)&&"__vccOpts"in t}const Lc=(t,s)=>ba(t,s,fs);function Ac(t,s,e){const n=arguments.length;return n===2?ot(s)&&!k(s)?Fs(s)?gt(t,null,[s]):gt(t,s):gt(t,null,s):(n>3?e=Array.prototype.slice.call(arguments,2):n===3&&Fs(e)&&(e=[e]),gt(t,s,e))}const Hc=Symbol.for("v-scx"),$c=()=>ss(Hc),Dc="3.3.4",Fc="http://www.w3.org/2000/svg",we=typeof document<"u"?document:null,Bo=we&&we.createElement("template"),Bc={insert:(t,s,e)=>{s.insertBefore(t,e||null)},remove:t=>{const s=t.parentNode;s&&s.removeChild(t)},createElement:(t,s,e,n)=>{const i=s?we.createElementNS(Fc,t):we.createElement(t,e?{is:e}:void 0);return t==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:t=>we.createTextNode(t),createComment:t=>we.createComment(t),setText:(t,s)=>{t.nodeValue=s},setElementText:(t,s)=>{t.textContent=s},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>we.querySelector(t),setScopeId(t,s){t.setAttribute(s,"")},insertStaticContent(t,s,e,n,i,o){const r=e?e.previousSibling:s.lastChild;if(i&&(i===o||i.nextSibling))for(;s.insertBefore(i.cloneNode(!0),e),!(i===o||!(i=i.nextSibling)););else{Bo.innerHTML=n?`<svg>${t}</svg>`:t;const l=Bo.content;if(n){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}s.insertBefore(l,e)}return[r?r.nextSibling:s.firstChild,e?e.previousSibling:s.lastChild]}};function kc(t,s,e){const n=t._vtc;n&&(s=(s?[s,...n]:[...n]).join(" ")),s==null?t.removeAttribute("class"):e?t.setAttribute("class",s):t.className=s}function zc(t,s,e){const n=t.style,i=ht(e);if(e&&!i){if(s&&!ht(s))for(const o in s)e[o]==null&&ni(n,o,"");for(const o in e)ni(n,o,e[o])}else{const o=n.display;i?s!==e&&(n.cssText=e):s&&t.removeAttribute("style"),"_vod"in t&&(n.display=o)}}const ko=/\s*!important$/;function ni(t,s,e){if(k(e))e.forEach(n=>ni(t,s,n));else if(e==null&&(e=""),s.startsWith("--"))t.setProperty(s,e);else{const n=Nc(t,s);ko.test(e)?t.setProperty(ke(n),e.replace(ko,""),"important"):t[n]=e}}const zo=["Webkit","Moz","ms"],On={};function Nc(t,s){const e=On[s];if(e)return e;let n=Xt(s);if(n!=="filter"&&n in t)return On[s]=n;n=nn(n);for(let i=0;i<zo.length;i++){const o=zo[i]+n;if(o in t)return On[s]=o}return s}const No="http://www.w3.org/1999/xlink";function Wc(t,s,e,n,i){if(n&&s.startsWith("xlink:"))e==null?t.removeAttributeNS(No,s.slice(6,s.length)):t.setAttributeNS(No,s,e);else{const o=kl(s);e==null||o&&!fr(e)?t.removeAttribute(s):t.setAttribute(s,o?"":e)}}function Uc(t,s,e,n,i,o,r){if(s==="innerHTML"||s==="textContent"){n&&r(n,i,o),t[s]=e??"";return}const l=t.tagName;if(s==="value"&&l!=="PROGRESS"&&!l.includes("-")){t._value=e;const c=l==="OPTION"?t.getAttribute("value"):t.value,h=e??"";c!==h&&(t.value=h),e==null&&t.removeAttribute(s);return}let a=!1;if(e===""||e==null){const c=typeof t[s];c==="boolean"?e=fr(e):e==null&&c==="string"?(e="",a=!0):c==="number"&&(e=0,a=!0)}try{t[s]=e}catch{}a&&t.removeAttribute(s)}function Yc(t,s,e,n){t.addEventListener(s,e,n)}function Vc(t,s,e,n){t.removeEventListener(s,e,n)}function Xc(t,s,e,n,i=null){const o=t._vei||(t._vei={}),r=o[s];if(n&&r)r.value=n;else{const[l,a]=Gc(s);if(n){const c=o[s]=Zc(n,i);Yc(t,l,c,a)}else r&&(Vc(t,l,r,a),o[s]=void 0)}}const Wo=/(?:Once|Passive|Capture)$/;function Gc(t){let s;if(Wo.test(t)){s={};let n;for(;n=t.match(Wo);)t=t.slice(0,t.length-n[0].length),s[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ke(t.slice(2)),s]}let Rn=0;const qc=Promise.resolve(),Kc=()=>Rn||(qc.then(()=>Rn=0),Rn=Date.now());function Zc(t,s){const e=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=e.attached)return;It(jc(n,e.value),s,5,[n])};return e.value=t,e.attached=Kc(),e}function jc(t,s){if(k(s)){const e=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{e.call(t),t._stopped=!0},s.map(n=>i=>!i._stopped&&n&&n(i))}else return s}const Uo=/^on[a-z]/,Jc=(t,s,e,n,i=!1,o,r,l,a)=>{s==="class"?kc(t,n,i):s==="style"?zc(t,e,n):tn(s)?Oi(s)||Xc(t,s,e,n,r):(s[0]==="."?(s=s.slice(1),!0):s[0]==="^"?(s=s.slice(1),!1):Qc(t,s,n,i))?Uc(t,s,n,o,r,l,a):(s==="true-value"?t._trueValue=n:s==="false-value"&&(t._falseValue=n),Wc(t,s,n,i))};function Qc(t,s,e,n){return n?!!(s==="innerHTML"||s==="textContent"||s in t&&Uo.test(s)&&W(e)):s==="spellcheck"||s==="draggable"||s==="translate"||s==="form"||s==="list"&&t.tagName==="INPUT"||s==="type"&&t.tagName==="TEXTAREA"||Uo.test(s)&&ht(e)?!1:s in t}const te="transition",qe="animation",qi=(t,{slots:s})=>Ac(Ba,th(t),s);qi.displayName="Transition";const ll={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};qi.props=ft({},Br,ll);const ge=(t,s=[])=>{k(t)?t.forEach(e=>e(...s)):t&&t(...s)},Yo=t=>t?k(t)?t.some(s=>s.length>1):t.length>1:!1;function th(t){const s={};for(const $ in t)$ in ll||(s[$]=t[$]);if(t.css===!1)return s;const{name:e="v",type:n,duration:i,enterFromClass:o=`${e}-enter-from`,enterActiveClass:r=`${e}-enter-active`,enterToClass:l=`${e}-enter-to`,appearFromClass:a=o,appearActiveClass:c=r,appearToClass:h=l,leaveFromClass:d=`${e}-leave-from`,leaveActiveClass:f=`${e}-leave-active`,leaveToClass:m=`${e}-leave-to`}=t,w=eh(i),v=w&&w[0],S=w&&w[1],{onBeforeEnter:R,onEnter:L,onEnterCancelled:z,onLeave:x,onLeaveCancelled:H,onBeforeAppear:Z=R,onAppear:st=L,onAppearCancelled:D=z}=s,Y=($,rt,dt)=>{pe($,rt?h:l),pe($,rt?c:r),dt&&dt()},U=($,rt)=>{$._isLeaving=!1,pe($,d),pe($,m),pe($,f),rt&&rt()},J=$=>(rt,dt)=>{const Xe=$?st:L,pt=()=>Y(rt,$,dt);ge(Xe,[rt,pt]),Vo(()=>{pe(rt,$?a:o),ee(rt,$?h:l),Yo(Xe)||Xo(rt,n,v,pt)})};return ft(s,{onBeforeEnter($){ge(R,[$]),ee($,o),ee($,r)},onBeforeAppear($){ge(Z,[$]),ee($,a),ee($,c)},onEnter:J(!1),onAppear:J(!0),onLeave($,rt){$._isLeaving=!0;const dt=()=>U($,rt);ee($,d),ih(),ee($,f),Vo(()=>{$._isLeaving&&(pe($,d),ee($,m),Yo(x)||Xo($,n,S,dt))}),ge(x,[$,dt])},onEnterCancelled($){Y($,!1),ge(z,[$])},onAppearCancelled($){Y($,!0),ge(D,[$])},onLeaveCancelled($){U($),ge(H,[$])}})}function eh(t){if(t==null)return null;if(ot(t))return[In(t.enter),In(t.leave)];{const s=In(t);return[s,s]}}function In(t){return Al(t)}function ee(t,s){s.split(/\s+/).forEach(e=>e&&t.classList.add(e)),(t._vtc||(t._vtc=new Set)).add(s)}function pe(t,s){s.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const{_vtc:e}=t;e&&(e.delete(s),e.size||(t._vtc=void 0))}function Vo(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let sh=0;function Xo(t,s,e,n){const i=t._endId=++sh,o=()=>{i===t._endId&&n()};if(e)return setTimeout(o,e);const{type:r,timeout:l,propCount:a}=nh(t,s);if(!r)return n();const c=r+"end";let h=0;const d=()=>{t.removeEventListener(c,f),o()},f=m=>{m.target===t&&++h>=a&&d()};setTimeout(()=>{h<a&&d()},l+1),t.addEventListener(c,f)}function nh(t,s){const e=window.getComputedStyle(t),n=w=>(e[w]||"").split(", "),i=n(`${te}Delay`),o=n(`${te}Duration`),r=Go(i,o),l=n(`${qe}Delay`),a=n(`${qe}Duration`),c=Go(l,a);let h=null,d=0,f=0;s===te?r>0&&(h=te,d=r,f=o.length):s===qe?c>0&&(h=qe,d=c,f=a.length):(d=Math.max(r,c),h=d>0?r>c?te:qe:null,f=h?h===te?o.length:a.length:0);const m=h===te&&/\b(transform|all)(,|$)/.test(n(`${te}Property`).toString());return{type:h,timeout:d,propCount:f,hasTransform:m}}function Go(t,s){for(;t.length<s.length;)t=t.concat(t);return Math.max(...s.map((e,n)=>qo(e)+qo(t[n])))}function qo(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function ih(){return document.body.offsetHeight}const oh={beforeMount(t,{value:s},{transition:e}){t._vod=t.style.display==="none"?"":t.style.display,e&&s?e.beforeEnter(t):Ke(t,s)},mounted(t,{value:s},{transition:e}){e&&s&&e.enter(t)},updated(t,{value:s,oldValue:e},{transition:n}){!s!=!e&&(n?s?(n.beforeEnter(t),Ke(t,!0),n.enter(t)):n.leave(t,()=>{Ke(t,!1)}):Ke(t,s))},beforeUnmount(t,{value:s}){Ke(t,s)}};function Ke(t,s){t.style.display=s?t._vod:"none"}const rh=ft({patchProp:Jc},Bc);let Ko;function lh(){return Ko||(Ko=hc(rh))}const ah=(...t)=>{const s=lh().createApp(...t),{mount:e}=s;return s.mount=n=>{const i=ch(n);if(!i)return;const o=s._component;!W(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const r=e(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),r},s};function ch(t){return ht(t)?document.querySelector(t):t}const hh="st",uh="is-",me=(t,s,e,n,i)=>{let o=`${t}-${s}`;return e&&(o+=`-${e}`),n&&(o+=`__${n}`),i&&(o+=`--${i}`),o},We=t=>{const s=hh;return{namespace:s,b:(h="")=>me(s,t,h,"",""),e:h=>h?me(s,t,"",h,""):"",m:h=>h?me(s,t,"","",h):"",be:(h,d)=>h&&d?me(s,t,h,d,""):"",em:(h,d)=>h&&d?me(s,t,"",h,d):"",bm:(h,d)=>h&&d?me(s,t,h,"",d):"",bem:(h,d,f)=>h&&d&&f?me(s,t,h,d,f):"",is:(h,...d)=>{const f=d.length>=1?d[0]:!0;return h&&f?`${uh}${h}`:""}}};class it{constructor(s=1,e=0,n=0,i=1,o=0,r=0){p(this,"a");p(this,"b");p(this,"c");p(this,"d");p(this,"tx");p(this,"ty");this.a=s,this.b=e,this.c=n,this.d=i,this.tx=o,this.ty=r}set(s,e,n,i,o,r){return this.a=s,this.b=e,this.c=n,this.d=i,this.tx=o,this.ty=r,this}getArray(){return[this.a,this.b,this.c,this.d,this.tx,this.ty]}apply(s){const e=s.x,n=s.y;return{x:this.a*e+this.c*n+this.tx,y:this.b*e+this.d*n+this.ty}}applyInverse(s){const e=this.a,n=this.b,i=this.c,o=this.d,r=this.tx,l=this.ty,a=1/(e*o+i*-n),c=s.x,h=s.y;return{x:o*a*c+-i*a*h+(l*i-r*o)*a,y:e*a*h+-n*a*c+(-l*e+r*n)*a}}translate(s,e){return this.tx+=s,this.ty+=e,this}scale(s,e){return this.a*=s,this.d*=e,this.c*=s,this.b*=e,this.tx*=s,this.ty*=e,this}rotate(s){const e=Math.cos(s),n=Math.sin(s),i=this.a,o=this.c,r=this.tx;return this.a=i*e-this.b*n,this.b=i*n+this.b*e,this.c=o*e-this.d*n,this.d=o*n+this.d*e,this.tx=r*e-this.ty*n,this.ty=r*n+this.ty*e,this}append(s){const e=this.a,n=this.b,i=this.c,o=this.d;return this.a=s.a*e+s.b*i,this.b=s.a*n+s.b*o,this.c=s.c*e+s.d*i,this.d=s.c*n+s.d*o,this.tx=s.tx*e+s.ty*i+this.tx,this.ty=s.tx*n+s.ty*o+this.ty,this}appendFrom(s,e){const n=s.a,i=s.b,o=s.c,r=s.d,l=s.tx,a=s.ty,c=e.a,h=e.b,d=e.c,f=e.d;return this.a=n*c+i*d,this.b=n*h+i*f,this.c=o*c+r*d,this.d=o*h+r*f,this.tx=l*c+a*d+e.tx,this.ty=l*h+a*f+e.ty,this}prepend(s){const e=this.tx;if(s.a!==1||s.b!==0||s.c!==0||s.d!==1){const n=this.a,i=this.c;this.a=n*s.a+this.b*s.c,this.b=n*s.b+this.b*s.d,this.c=i*s.a+this.d*s.c,this.d=i*s.b+this.d*s.d}return this.tx=e*s.a+this.ty*s.c+s.tx,this.ty=e*s.b+this.ty*s.d+s.ty,this}invert(){const s=this.a,e=this.b,n=this.c,i=this.d,o=this.tx,r=s*i-e*n;return this.a=i/r,this.b=-e/r,this.c=-n/r,this.d=s/r,this.tx=(n*this.ty-i*o)/r,this.ty=-(s*this.ty-e*o)/r,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const s=new it;return s.a=this.a,s.b=this.b,s.c=this.c,s.d=this.d,s.tx=this.tx,s.ty=this.ty,s}copyTo(s){return s.a=this.a,s.b=this.b,s.c=this.c,s.d=this.d,s.tx=this.tx,s.ty=this.ty,s}copyFrom(s){return this.a=s.a,this.b=s.b,this.c=s.c,this.d=s.d,this.tx=s.tx,this.ty=s.ty,this}equals(s){return s.a===this.a&&s.b===this.b&&s.c===this.c&&s.d===this.d&&s.tx===this.tx&&s.ty===this.ty}toString(){return`[Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}}const Zo=(t,s)=>{const e=t[0],n=t[1],i=t[2],o=t[3];return[s[0]*e+s[1]*i,s[0]*n+s[1]*o,s[2]*e+s[3]*i,s[2]*n+s[3]*o,s[4]*e+s[5]*i+t[4],s[4]*n+s[5]*o+t[5]]},fh=t=>{const s=t[0],e=t[1],n=t[2],i=t[3],o=t[4],r=s*i-e*n;return[i/r,-e/r,-n/r,s/r,(n*t[5]-i*o)/r,-(s*t[5]-e*o)/r]},dh=(t,s)=>({x:s.x*t[0]+s.y*t[2]+t[4],y:s.x*t[1]+s.y*t[3]+t[5]}),ii=(t,s)=>Math.sqrt(Math.pow(t.x-s.x,2)+Math.pow(t.y-s.y,2)),ae=(t,s,e=0)=>(s=xe(s,e),t.x>=s.x&&t.y>=s.y&&t.x<=s.width+s.x&&t.y<=s.height+s.y),gh=(t,s,e,n=0)=>{const i=s.x-n,o=s.y-n,r=s.width+n*2,l=s.height+n*2;return t.x>=i&&t.y>=o&&t.x<=i+r&&t.y<=o+l?t.x<=i+e&&t.y<=o+e?(t.x-i-e)**2+(t.y-o-e)**2<=e[0]**2:t.x>=i+r-e&&t.y<=o+e?(t.x-i-r+e)**2+(t.y-o-e)**2<=e**2:t.x>=i+r-e&&t.y>=o+l-e?(t.x-i-r+e)**2+(t.y-o-l+e)**2<=e**2:t.x<=i+e&&t.y>=o+l-e?(t.x-i-e)**2+(t.y-o-l+e)**2<=e**2:!0:!1},jo=(...t)=>{if(t.length===0)throw new Error("the count of rect can not be 0");let s=1/0,e=1/0,n=-1/0,i=-1/0;for(const o of t)s=Math.min(s,o.x),e=Math.min(e,o.y),n=Math.max(n,o.x+o.width),i=Math.max(i,o.y+o.height);return{x:s,y:e,width:n-s,height:i-e}},oi=(t,s)=>t.x<=s.x+s.width&&t.x+t.width>=s.x&&t.y<=s.y+s.height&&t.y+t.height>=s.y,xe=(t,s)=>({x:t.x-s,y:t.y-s,width:t.width+s*2,height:t.height+s*2}),al=(t,s,...e)=>{e=[t,s,...e];const n=Math.min(...e.map(l=>l.x)),i=Math.min(...e.map(l=>l.y)),o=Math.max(...e.map(l=>l.x)),r=Math.max(...e.map(l=>l.y));return{x:n,y:i,width:Math.abs(o-n),height:Math.abs(r-i)}};var zt=(t=>(t.n="n",t.s="s",t.e="e",t.w="w",t.nw="nw",t.ne="ne",t.sw="sw",t.se="se",t))(zt||{});const ph={n:{getLocalOrigin:(t,s)=>({x:t/2,y:s}),getNewSize:(t,s,e,n=0)=>({width:e.width,height:s.y-t.y-n})},e:{getLocalOrigin:(t,s)=>({x:0,y:s/2}),getNewSize:(t,s,e,n=0)=>({width:t.x-s.x-n,height:e.height})},s:{getLocalOrigin:t=>({x:t/2,y:0}),getNewSize:(t,s,e,n=0)=>({width:e.width,height:t.y-s.y-n})},w:{getLocalOrigin:(t,s)=>({x:t,y:s/2}),getNewSize:(t,s,e,n=0)=>({width:s.x-t.x-n,height:e.height})},nw:{getLocalOrigin:(t,s)=>({x:t,y:s}),getNewSize:(t,s,e,n=0)=>({width:s.x-t.x-n,height:s.y-t.y-n})},ne:{getLocalOrigin:(t,s)=>({x:0,y:s}),getNewSize:(t,s,e,n=0)=>({width:t.x-s.x-n,height:s.y-t.y-n})},sw:{getLocalOrigin:t=>({x:t,y:0}),getNewSize:(t,s,e,n=0)=>({width:s.x-t.x-n,height:t.y-s.y-n})},se:{getLocalOrigin:()=>({x:0,y:0}),getNewSize:(t,s,e,n=0)=>({width:t.x-s.x-n,height:t.y-s.y-n})}},Jo=(t,s,e,n=0)=>{const i=ph[t],o=new it(...e.transform),r={width:0,height:0,transform:o.clone()},l=o.applyInverse(s),a=i.getLocalOrigin(e.width,e.height),c=i.getNewSize(l,a,e,n),h=new it;h.scale(c.width/e.width,c.height/e.height),r.width=e.width,r.height=e.height,r.transform=r.transform.append(h);const d=r.transform.apply(i.getLocalOrigin(r.width,r.height)),f=o.apply(a),m={x:f.x-d.x,y:f.y-d.y};r.transform.prepend(new it().translate(m.x,m.y));const w=Math.sign(c.width)||1,v=Math.sign(c.height)||1,S=new it().translate(-r.width/2,-r.height/2).scale(w,v).translate(r.width/2,r.height/2);return r.transform.append(S),{width:r.width,height:r.height,transform:r.transform.getArray()}},mh=t=>{const s=new it(t.transform[0],t.transform[1],t.transform[2],t.transform[3],0,0),e=s.apply({x:t.width,y:0}),n=s.apply({x:0,y:t.height}),i={x:0,y:0};return{width:ii(e,i),height:ii(n,i)}},yh=t=>{const s=mh(t),e=s.width?t.width/s.width:1,n=s.height?t.height/s.height:1,i=new it().scale(e,n),o=new it(...t.transform).append(i);return{width:s.width,height:s.height,transform:o.getArray()}},vh=(t,s)=>{const{x:e,y:n,width:i,height:o}=t;return[{x:e,y:n},{x:e+i,y:n},{x:e+i,y:n+o},{x:e,y:n+o}]},ri=t=>({x:t.minX,y:t.minY,width:t.maxX-t.minX,height:t.maxY-t.minY}),wh=t=>{let s=1/0,e=1/0,n=-1/0,i=-1/0;for(const o of t)s=Math.min(s,o.x),e=Math.min(e,o.y),n=Math.max(n,o.x),i=Math.max(i,o.y);return{minX:s,minY:e,maxX:n,maxY:i}},cl=(t,s)=>{let e=0,n=0,i=t.width,o=t.height;const r=t.transform,l=vh({x:e,y:n,width:i,height:o}).map(a=>dh(r,a));return wh(l)},bh=t=>{if(t.length===0)throw new Error("the count of boxes can not be 0");let s=1/0,e=1/0,n=-1/0,i=-1/0;for(const o of t)s=Math.min(s,o.minX),e=Math.min(e,o.minY),n=Math.max(n,o.maxX),i=Math.max(i,o.maxY);return{minX:s,minY:e,maxX:n,maxY:i}},li=(t,s)=>{const e=t.x*s.x+t.y*s.y,n=Math.sqrt(t.x*t.x+t.y*t.y)*Math.sqrt(s.x*s.x+s.y*s.y);let i=e/n;i>1?i=1:i<-1&&(i=-1);let o=Math.acos(i);return t.x*s.y-t.y*s.x<0&&(o=Math.PI*2-o),o},Ch=(t,s={x:0,y:-1})=>{const n=new it(t[0],t[1],t[2],t[3],0,0).apply(s);return li(s,n)};var E=(t=>(t.TOP="top",t.LEFT="left",t.RIGHT="right",t.BOTTOM="bottom",t))(E||{});const yn=(t,s)=>t.map((e,n)=>e-s[n]),Ie=(t,s)=>t.map((e,n)=>e+s[n]),Th=(t,s)=>Math.hypot(...yn(s,t).map(Math.abs)),Qo=(t,s)=>{const e=yn(s,t).map(Math.abs);return e[0]+e[1]},hl=t=>t.join(":"),tr=t=>JSON.parse(JSON.stringify(t)),Bs=(t,s)=>{const e=t.map(n=>[...n]);return e[0]=Ie(e[0],[-s,-s]),e[1]=Ie(e[1],[s,-s]),e[2]=Ie(e[2],[s,s]),e[3]=Ie(e[3],[-s,s]),e},ai=(t,s)=>t[0]>=s[0][0]&&t[0]<=s[1][0]&&t[1]>=s[0][1]&&t[1]<=s[2][1],Mh=t=>{const s=new Map,e=[];return t.forEach(n=>{const i=hl(n);s.has(i)||(e.push(n),s.set(i,!0))}),e},_h=t=>{const s=[];return t.forEach((e,n)=>{t.forEach((i,o)=>{n!==o&&(s.push([e[0],i[1]]),s.push([i[0],e[1]]))})}),s},xh=(t,s,e)=>{const n=yn(s,t);let i=!1;switch(e){case E.TOP:i=n[0]<0;break;case E.LEFT:i=n[1]<0;break;case E.RIGHT:i=n[1]>0;break;default:i=n[0]>0}return!i},Sn={[E.LEFT]:[0,-1],[E.RIGHT]:[0,1],[E.TOP]:[-1,0],[E.BOTTOM]:[1,0]},Eh={[E.LEFT]:E.RIGHT,[E.TOP]:E.BOTTOM,[E.BOTTOM]:E.TOP,[E.RIGHT]:E.LEFT},ci=t=>Eh[t],Ph=(t,s)=>{const e=Object.keys(Sn);if(s){const n=e.filter(i=>i!==ci(t));return n.sort(i=>i===t?-1:1),n.map(i=>Sn[i])}return e.sort((n,i)=>n===t?-1:1),e.map(n=>Sn[n])},hi=t=>t===E.LEFT||t===E.RIGHT,ui=t=>{const s=[[E.LEFT,E.RIGHT],[E.TOP,E.BOTTOM]],e=[[...t].reverse(),t];return s.some(n=>e.some(i=>i[0]===n[0]&&i[1]===n[1]))},Oh=(t,s,e,n,i)=>{if(!ui([t.direction,s.direction]))return!1;const o=n.getGridPoint(e),r=n.getGridPoint(t.endpoint),l=n.getGridPoint(s.endpoint),a=[r[0],l[0]],c=[r[1],l[1]];[a,c].forEach(w=>{w.sort((v,S)=>v-S)});const h=hi(t.direction),d=h?o[1]:o[0],f=h?c:a,m=w=>h?[o[0],w]:[w,o[1]];for(let w=d,v=d;w>=f[0]&&v<=f[1];w--,v++){const S=m(w),R=m(w+1),L=m(v),z=m(v-1);if(!n.isValid(S)||!n.isValid(R)||!n.isValid(L)||!n.isValid(z)||!i(n.getRealPoint(m(w)),n.getRealPoint(m(w+1)))||!i(n.getRealPoint(m(v)),n.getRealPoint(m(v-1))))return!1}return!0},Rh=(t,s)=>[t,s].map(e=>({...e,endpoint:e.origin.slice()})),Ih=(t,s,e,n,i,o)=>n?s&&n?e.some(r=>s[r][o]>n[i[0]][o]&&s[r][o]<n[i[1]][o]):t[o]>n[i[0]][o]&&t[o]<n[i[1]][o]:!0,Sh=(t,s,e,n)=>{if(!t.box&&!s.box)return Rh(t,s);const i=[t,s].map(a=>Object.assign({...tr(a),endpoint:tr(a.origin)},a.box?{boundaryBox:Bs(a.box,e),originBoundaryBox:Bs(a.box,e)}:{})),o={[E.TOP]:-1,[E.LEFT]:-1,[E.RIGHT]:1,[E.BOTTOM]:1},r={[E.TOP]:[[0,1],[3,2]],[E.LEFT]:[[0,3],[1,2]],[E.RIGHT]:[[1,2],[0,3]],[E.BOTTOM]:[[3,2],[0,1]]};if(n)return i.forEach(({direction:a,endpoint:c,origin:h})=>{const d=o[a],f=hi(a)?0:1;c[f]=h[f]+e*d}),i;const l=Object.keys(o);return i.forEach(({box:a,direction:c,endpoint:h,origin:d,boundaryBox:f,originBoundaryBox:m},w)=>{l.forEach(v=>{const S=r[v],R=i[(w+1)%2],[L,z]=S,x=o[v],H=hi(v)?0:1,Z=H===0?1:0,st=Ih(d,m,L,R.originBoundaryBox,z,Z),D=a?a[L[0]]:d,Y=R.box?R.box[z[0]][H]-D[H]:R.origin[H]-D[H],U=Y>0?1:-1,J=Math.abs(Y)/2,$=U===x&&Math.abs(Y)<e*2;st&&$?(a&&f&&L.forEach(dt=>{f[dt][H]=a[dt][H]+x*J}),R.box&&z.forEach(dt=>{R.boundaryBox[dt][H]=R.box[dt][H]+x*J*-1}),v===c&&(h[H]=d[H]+x*J)):v===c&&(h[H]=d[H]+e*x)})}),i};var Me;let Lh=(Me=class{constructor(s,e){p(this,"grid");p(this,"points");p(this,"pointMap");p(this,"costs",[]);p(this,"xAxis",[]);p(this,"yAxis",[]);p(this,"params");this.points=s,this.grid=[],this.pointMap=[],this.params=e,this.setup()}setup(){const{getCost:s}=this.params||{},e=this.points,n=new Set,i=new Set;e.forEach(f=>{n.add(f[0]),i.add(f[1])});const o=i.size,r=n.size,l=Array.from(n.values()),a=Array.from(i.values());l.sort((f,m)=>f-m),a.sort((f,m)=>f-m);const c=Array.from({length:o},()=>new Array(r).fill(0)),h=Array.from({length:o},()=>new Array(r).fill(Me.basicCost)),d=Array.from({length:o},()=>new Array(r));for(let f=0;f<o;f++)for(let m=0;m<r;m++)d[f][m]=[l[m],a[f]],c[f][m]=!0,s&&(h[f][m]=s(d[f][m],Me.basicCost));this.grid=c,this.pointMap=d,this.yAxis=a,this.xAxis=l,this.costs=h}getGridPoint(s){return[this.yAxis.indexOf(s[1]),this.xAxis.indexOf(s[0])]}getRealPoint(s){return this.pointMap[s[0]][s[1]]}getWalkable(s,e){const{getWalkable:n}=this.params||{};return this.isValid(e)&&(n?n(this.getRealPoint(s),this.getRealPoint(e)):!0)}getCost(s){return this.costs[s[0]][s[1]]}isValid(s){const e=this.grid.length,n=this.grid[0].length;return s[0]>=0&&s[0]<e&&s[1]>=0&&s[1]<n}},p(Me,"basicCost",1),Me);const Ah=t=>{if(t.length<3)return t;var s=[],e=t[0][0],n=t[0][1],i=t[1][0],o=t[1][1],r=i-e,l=o-n,a,c,h,d,f,m;for(f=Math.sqrt(r*r+l*l),r/=f,l/=f,s.push([e,n]),m=2;m<t.length;m++)a=i,c=o,h=r,d=l,i=t[m][0],o=t[m][1],r=i-a,l=o-c,f=Math.sqrt(r*r+l*l),r/=f,l/=f,(r!==h||l!==d)&&s.push([a,c]);return s.push([i,o]),s};function Es(t,s,e,n){var i=(n[0]-e[0])*(t[1]-e[1])-(n[1]-e[1])*(t[0]-e[0]),o=(s[0]-t[0])*(t[1]-e[1])-(s[1]-t[1])*(t[0]-e[0]),r=(n[1]-e[1])*(s[0]-t[0])-(n[0]-e[0])*(s[1]-t[1]);if(r!==0){var l=i/r,a=o/r;if(0<=l&&l<=1&&0<=a&&a<=1)return!0}return!1}const ks=(t,s,e)=>{const[n,i,o,r]=e;return!!(Es(t,s,n,i)||Es(t,s,i,o)||Es(t,s,o,r)||Es(t,s,r,n))},Hh=(t,s)=>t.some((n,i)=>ks(t[i],t[(i+1)%4],s))||s.some((n,i)=>ks(s[i],s[(i+1)%4],t)),$h=(t,s,e)=>{const i=t[0]*s[1]-t[1]*s[0]+s[0]*e[1]-s[1]*e[0]+e[0]*t[1]-e[1]*t[0],o=Th(t,s);return Math.abs(i/o)<=0},er=t=>{if(t.length<3)return 0;let s=0;for(let e=1;e<t.length-1;e++)$h(t[e-1],t[e+1],t[e])||s++;return s},Dh=(t,s)=>Ie(t,s).map(e=>Math.round(e/2));class Fh{}class Bh{constructor(){p(this,"heap");this.heap=[null]}peek(){return this.heap[1]}remove(){this.swap(1,this.heap.length-1),this.heap.pop(),this.sink(1)}add(s){this.heap.push(s),this.swim()}clear(){this.heap=[null]}sink(s){const e=this.heap.length-1;let n=0;for(;s*2<=e&&(n=s*2,n+1<=e&&this.heap[n].compare(this.heap[n+1])>0&&n++,this.heap[s].compare(this.heap[n])>0);)this.swap(s,n),s=n}swim(){let s=this.heap.length-1,e=0;for(;s>1&&(e=s>>1,this.heap[s].compare(this.heap[e])<0);)this.swap(s,e),s=e}swap(s,e){const n=this.heap[s];this.heap[s]=this.heap[e],this.heap[e]=n}}class Ln extends Fh{constructor(e,n=0,i=null){super();p(this,"G");p(this,"H");p(this,"parent");p(this,"xy");p(this,"key");p(this,"F");this.G=n,this.H=0,this.parent=i,this.xy=e,this.key=hl(e),this.F=n}setParent(e){this.parent=e}setG(e){this.G=e,this.F=this.H+this.G}setH(e){this.H=e,this.F=this.H+this.G}compare(e){return this.F-e.F}}const Ze=new Bh,An=new Map,Re=new Map,sr=(t,s)=>{const e=yn(s,t);return e[0]===0?e[1]>0?E.BOTTOM:E.TOP:e[0]>0?E.RIGHT:E.LEFT};function nr(t,s,e,n,i,o,r){const l=t.getGridPoint(s),a=t.getGridPoint(e),c=new Ln(l),h=new Ln(a),d=[];let f=!0,m=0;for(Ze.add(c),Re.set(c.key,c);Re.size;){const w=Ze.peek(),v=w.xy;if(Ze.remove(),Re.delete(w.key),w.key===h.key){if(w.parent&&!xh(w.parent.xy,v,i))continue;let L=w;for(;L;)d.unshift(t.getRealPoint(L.xy)),L=L.parent;m=w.G;break}An.set(w.key,w);const S=Ph(n,f),R=r!==void 0&&f?S.slice(r,r+1):S;f=!1,R.forEach(([L,z])=>{const x=Ie(v,[L,z]),H=new Ln(x);if(!An.has(H.key)&&t.getWalkable(v,x)){const Z=Re.get(H.key),st=sr(v,x),D=w.parent?sr(w.parent.xy,v):null,Y=D!==null&&D!==st,U=w.G+t.getCost(x)+(Y?.02:0),J=o(x,t);H.setG(U),H.setH(J),Z?H.G<Z.G&&(Z.setG(U),Z.setParent(w)):(H.setParent(w),Ze.add(H),Re.set(H.key,H))}})}return Ze.clear(),Re.clear(),An.clear(),{path:Ah(d),grid:t,G:m}}const kh=(t,{startInfo:s,endInfo:e,waypoint:n,isCovered:i,checkWaypointWalkable:o})=>{const r=n&&Oh(s,e,n,t,o),l=(f,m)=>{const w=Qo(f,m.getGridPoint(e.endpoint));return r?w+Qo(f,m.getGridPoint(n)):w};if(i){const f=nr(t,s.endpoint,e.endpoint,s.direction,e.direction,l);return f.path.push(e.origin),f.path.unshift(s.origin),f}const a=[0,1,2,4].map(f=>nr(t,s.endpoint,e.endpoint,s.direction,e.direction,l,f)).filter(f=>f.path.length);let c=null,h=1/0,d=1/0;return a.forEach(f=>{const m=[...f.path];m.push(e.origin),m.unshift(s.origin);const w=er(f.path),v=er(m);(w<h||w===h&&v<d||w===h&&v===d&&f.G<c.G)&&(h=w,d=v,c=f)}),c||(c={grid:t,path:[],G:1/0},console.warn("Path not found")),c.path.push(e.origin),c.path.unshift(s.origin),c},zh=(t,s,e)=>{const n=t.box&&s.box?Hh(t.box,s.box):!1,o=[[t.origin,s.box],[s.origin,t.box]].filter(f=>f[1]).every(([f,m])=>ai(f,m)),[r,l]=Sh(t,s,e,o),a=Dh(r.endpoint,l.endpoint),c=[[r.endpoint[0],a[1]],[l.endpoint[0],a[1]],[a[0],r.endpoint[1]],[a[0],l.endpoint[1]],a],h=a,d=[r.endpoint,l.endpoint,...c];return o||d.push(...r.boundaryBox??[],...l.boundaryBox??[]),{isIntersect:n,isCovered:o,startInfo:r,endInfo:l,allPoints:Mh(_h(d)),waypoint:h}},Nh=(t,s,e)=>{const{isCovered:n,isIntersect:i,startInfo:o,endInfo:r,allPoints:l,waypoint:a}=zh(t,s,e),c=[o.boundaryBox&&Bs(o.boundaryBox,-1),r.boundaryBox&&Bs(r.boundaryBox,-1)].filter(Boolean),h=[o.box,r.box].filter(Boolean),d=i?!n&&ui([o.direction,r.direction])?2:0:5,f=c.length===2?!i:!n,m=new Lh(l,{getCost(v,S){const R=[0,1].reduce((L,z)=>h[z]&&ai(v,h[z])?L+2:c[z]&&ai(v,c[z])?L+1:L,0);return S+R*d},getWalkable(v,S){return f?c.every(R=>!ks(v,S,R)):!0}}),w=kh(m,{startInfo:o,endInfo:r,isCovered:n,waypoint:ui([o.direction,r.direction])?a:void 0,checkWaypointWalkable:(v,S)=>n||!S?!0:c.every(R=>!ks(v,S,R))});return{path:w,points:w.grid.points,boxs:[{box:o.boundaryBox},{box:r.boundaryBox}]}},ir=t=>[t.x,t.y],or=t=>{const{x:s,y:e,width:n,height:i}=t;return[[s,e],[s+n,e],[s+n,e+i],[s,e+i]]},rr=t=>({x:t[0],y:t[1]}),fi=t=>{const s=Math.atan2(Math.abs(t[1]),Math.abs(t[0]))/Math.PI*180;let e=s;const n=45;t[0]<0?e=t[1]>=0?180-s:180+s:e=t[1]>=0?s:360-s;let i;return e<=n||e>360-n?i=E.LEFT:e>n&&e<=180-n?i=E.TOP:e>180-n&&e<=180+n?i=E.RIGHT:i=E.BOTTOM,i},Wh=(t,s,e)=>{const n=Nh({box:t.rect?or(t.rect):void 0,origin:ir(t.origin),direction:t.direction},{box:s.rect?or(s.rect):void 0,origin:ir(s.origin),direction:s.direction},e);return{controlPoints:n.path.path.map(rr),mapPoints:n.points.map(rr)}};function Uh({x:t,y:s},e,n,i=0){return e+=i,n+=i,e===n?t*t+s*s<=e*e:t*t/(e*e)+s*s/(n*n)<=1}function Yh(t,[s,e]){const n={x:s.x-t.x,y:s.y-t.y};e.x-t.x,e.y-t.y;const i={x:e.x-s.x,y:e.y-s.y},o=n.x*i.y-n.y*i.x;if(Math.abs(o)>Number.EPSILON)return!1;const r=n.x*i.x+n.y*i.y;if(r<0)return!1;const l=i.x*i.x+i.y*i.y;return!(r>l)}function Vh(t,[s,e]){let n=((t.x-s.x)*(e.x-s.x)+(t.y-s.y)*(e.y-s.y))/((e.x-s.x)**2+(e.y-s.y)**2);return n=Math.max(0,Math.min(1,n)),{x:s.x+n*(e.x-s.x),y:s.y+n*(e.y-s.y)}}function Xh(t){if(t.length<2)return[];const s=[];for(let e=0;e<t.length-1;e++)s.push([t[e],t[e+1]]);return s}function Gh(t,[s,e],n){if(n===0)return Yh(t,[s,e]);const i=Vh(t,[s,e]);return ii(t,i)<=n/2}function qh(t,s,e){return s.some(n=>Gh(t,n,e))}function Kh({x:t,y:s},e,n,i=0){e+=i,n+=i;const o=Math.abs(t*n)+Math.abs(s*e),r=e*n*.5;return o<=r}let Gt=class{constructor(){p(this,"eventMap",new Map);p(this,"eventMapCache",new Map)}on(s,e){return this.eventMap.has(s)||this.eventMap.set(s,[]),this.eventMap.get(s).push(e),this}emit(s,...e){const n=this.eventMap.get(s);return!n||n.length===0?!1:(n.forEach(i=>{i(...e)}),!0)}off(s,e){if(this.eventMap.has(s)){const n=this.eventMap.get(s).filter(i=>i!==e);n.length?this.eventMap.set(s,n):this.eventMap.delete(s)}return this}clear(){this.eventMapCache.clear();const s=this.eventMap.entries();for(const[e,n]of s)this.eventMapCache.set(e,n);this.eventMap.clear()}reset(){this.eventMap.clear();const s=this.eventMapCache.entries();for(const[e,n]of s)this.eventMap.set(e,n)}};function Zh(...t){console.warn(...t)}var yt=[];for(var Hn=0;Hn<256;++Hn)yt.push((Hn+256).toString(16).slice(1));function jh(t,s=0){return(yt[t[s+0]]+yt[t[s+1]]+yt[t[s+2]]+yt[t[s+3]]+"-"+yt[t[s+4]]+yt[t[s+5]]+"-"+yt[t[s+6]]+yt[t[s+7]]+"-"+yt[t[s+8]]+yt[t[s+9]]+"-"+yt[t[s+10]]+yt[t[s+11]]+yt[t[s+12]]+yt[t[s+13]]+yt[t[s+14]]+yt[t[s+15]]).toLowerCase()}var Ps,Jh=new Uint8Array(16);function Qh(){if(!Ps&&(Ps=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ps))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ps(Jh)}var tu=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),lr={randomUUID:tu};function eu(t,s,e){if(lr.randomUUID&&!s&&!t)return lr.randomUUID();t=t||{};var n=t.random||(t.rng||Qh)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,jh(n)}function Ue(){return eu()}function Qe(){return window.devicePixelRatio||1}function $n(t,s,e){const n=Qe();t.width=s*n,t.height=e*n,t.style.width=`${s}px`,t.style.height=`${e}px`}function Dn(t){t.setLineDash([]),t.lineDashOffset=0}function ul(t,s){const e=t.indexOf(s);e>-1&&t.splice(e,1)}const vn=(t,s)=>{let e=!1,n=s.pageX,i=s.pageY;const o=l=>{var h,d;const a=l.pageX-n,c=l.pageY-i;e||(e=!0,(h=t.onDragStart)==null||h.call(t,l)),(d=t.onDragMove)==null||d.call(t,l,[a,c])},r=l=>{var a;e&&((a=t.onDragEnd)==null||a.call(t,l)),window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",r),window.removeEventListener("mouseleave",r)};window.addEventListener("mousemove",o),window.addEventListener("mouseup",r),window.addEventListener("mouseleave",r)};class su{constructor(){p(this,"started",!1);p(this,"animations",[]);p(this,"tick",()=>{this.animations=this.animations.filter(s=>s.status==="running"),this.animations.length&&(this.animations.forEach(s=>s.run()),requestAnimationFrame(this.tick))})}add(s){this.animations.includes(s)||this.animations.push(s)}start(){this.started||requestAnimationFrame(this.tick)}}class nu{constructor(s,e){p(this,"startValue");p(this,"endValue");p(this,"duration");p(this,"startTime",Date.now());p(this,"status","stopped");this.manager=s,this.options=e,this.startValue=e.startValue,this.endValue=e.endValue,this.duration=e.duration}start(){this.startTime=Date.now(),this.status="running",this.manager.add(this),this.manager.start()}stop(){this.status="stopped"}run(){var i,o;const s=this.endValue-this.startValue;let e=Date.now()-this.startTime;e>this.duration&&(e=this.duration,this.options.loop?this.startTime=Date.now():this.status="stopped");const n=this.startValue+s*e/this.duration;this.options.onUpdate(n),e===this.duration&&((o=(i=this.options).onEnd)==null||o.call(i))}}let Fn=null;function fl(t){return Fn||(Fn=new su),new nu(Fn,t)}function dl(t){if(t===null||typeof t!="object")return t;const s=Array.isArray(t)?[]:{};for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(s[e]=dl(t[e]));return s}class iu extends Gt{constructor(e){super();p(this,"modelList",[]);p(this,"modelMap",new Map);this.name=e}addModel(e){this.modelMap.has(e.id)||(this.modelList.push(e),this.modelMap.set(e.id,e),this.emit("addModel",e))}removeModel(e){this.modelMap.has(e.id)&&(this.modelList=this.modelList.filter(n=>n.id!==e.id),this.modelMap.delete(e.id),this.emit("removeModel",e),e.dispose())}dispose(){this.clear()}}var O=(t=>(t.rectChange="rectChange",t.change="change",t.mouseIn="mouseIn",t.mouseOut="mouseOut",t.mouseDown="mouseDown",t.mouseUp="mouseUp",t.REPAINT="repaint",t))(O||{}),ds=(t=>(t.addModels="add-models",t.removeModels="remove-models",t.modelsChange="change",t))(ds||{});class ou extends Gt{constructor(){super();p(this,"modelList",[]);p(this,"modelMap",new Map);p(this,"layerList",[]);p(this,"layerMap",new Map);const e=new iu("default");this.addLayer(e)}addLayer(e){if(e.modelList.length>0){Zh("!");return}this.layerMap.has(e.name)||(this.layerList.push(e),this.layerMap.set(e.name,e))}removeLayer(e){const n=this.getLayer(e);n&&n.name!=="default"&&(this.layerList=this.layerList.filter(i=>i.name!==e),this.layerMap.delete(e),n.modelList.forEach(i=>{this.modelList=this.modelList.filter(o=>o.id!==i.id),this.modelMap.delete(i.id)}),this.emit("remove-models",n.modelList),this.emit("change",n.modelList),n.dispose())}getLayer(e){return this.layerMap.get(e)||null}getDefaultLayer(){return this.getLayer("default")}_addModels(e){e.forEach(n=>{const i=n.getLayerId();let o=this.getLayer(i);o||(o=this.getDefaultLayer(),n.setLayerId("default")),n.on(O.change,()=>{this.emit("change",[n])}),this.modelMap.set(n.id,n),this.modelList.push(n),o.addModel(n)})}addModel(e){this._addModels([e]),this.emit("add-models",[e]),this.emit("change",[e])}addModels(e){this._addModels(e),this.emit("add-models",e),this.emit("change",e)}_removeModels(e){e.forEach(n=>{if(!this.modelMap.has(n.id))return;const i=n.getLayerId(),o=this.getLayer(i);o&&(o.removeModel(n),this.modelMap.delete(n.id),ul(this.modelList,n))})}removeModel(e){this._removeModels([e]),this.emit("remove-models",[e]),this.emit("change",[e])}removeModels(e){this._removeModels(e),this.emit("remove-models",e),this.emit("change",e)}each(e){for(let n=0;n<=this.layerList.length-1;n++){const i=this.layerList[n];for(let o=0;o<=i.modelList.length-1;o++){const r=i.modelList[o];if(e(r,i)===!0)return}}}reverseEach(e){for(let n=this.layerList.length-1;n>=0;n--){const i=this.layerList[n];for(let o=i.modelList.length-1;o>=0;o--){const r=i.modelList[o];if(e(r,i)===!0)return}}}has(e){return this.modelMap.has(e.id)}getModelList(){return this.modelList}dispose(){this.modelList.forEach(e=>e.dispose()),this.modelList=[],this.modelMap.clear(),this.layerList.forEach(e=>e.dispose()),this.layerList=[],this.layerMap.clear(),this.clear()}removeAll(){const e=this.modelList.slice();this._removeModels(e)}}class wn extends Gt{constructor(e,n=""){super();p(this,"rect",{x:0,y:0,width:0,height:0});p(this,"isHovered",!1);p(this,"isActive",!1);this.host=e,this.tag=n,this.on(O.change,()=>{this.getHost().emit(O.change)}),this.on(O.mouseIn,()=>{this.setIsHovered(!0)}),this.on(O.mouseOut,()=>{this.setIsHovered(!1)}),this.init()}init(){}updatePosition(){}getIsHovered(){return this.isHovered}setIsHovered(e){e!==this.isHovered&&(this.isHovered=e,this.emit(O.change))}getIsActive(){return this.isActive}setIsActive(e){e!==this.isActive&&(this.isActive=e,this.getHost().setActiveControl(e?this:null),this.emit(O.change))}getHost(){return this.host}getTag(){return this.tag}setSize(e,n){e===this.rect.width&&n===this.rect.height||(this.rect.width=e,this.rect.height=n)}setPosition(e,n){e===this.rect.x&&n===this.rect.y||(this.rect.x=e,this.rect.y=n)}getCenterPosition(){return{x:this.rect.x+this.rect.width/2,y:this.rect.y+this.rect.height/2}}setCenterPosition(e,n){const{x:i,y:o,width:r,height:l}=this.rect,a=e-r/2,c=n-l/2;a===i&&c===o||(this.rect.x=a,this.rect.y=c)}getScenePosition(){const e=this.getHost(),{x:n,y:i}=e.getRect();return{x:n+this.rect.x,y:i+this.rect.y}}getSceneCenterPosition(){const n=this.getHost().getWorldTransform(),i={x:this.rect.x+this.rect.width/2,y:this.rect.y+this.rect.height/2};return new it(...n).apply(i)}getRect(){return this.rect}handleMousedown(e,n){}hitTest(e,n){const o=new it(...this.getHost().getWorldTransform()).applyInverse({x:e,y:n});return ae(o,this.getRect())}getCursor(){return"default"}dispose(){this.clear()}}var gs=(t=>(t.mouseIn="mouseIn",t.mouseOut="mouseOut",t.selected="selected",t.unselected="unselected",t.ATTR_CHANGE="attrChange",t))(gs||{});class Ye extends Gt{constructor(e=Ue()){super();p(this,"rect",{x:0,y:0,width:0,height:0});p(this,"transform",[1,0,0,1,0,0]);p(this,"layerId","");p(this,"isHovered",!1);p(this,"isSelected",!1);p(this,"activeControl",null);this.id=e,this.on("mouseIn",()=>{this.setIsHovered(!0)}),this.on("mouseOut",()=>{this.setIsHovered(!1)}),this.on("selected",()=>{this.setIsSelected(!0)}),this.on("unselected",()=>{this.setIsSelected(!1)}),this.init()}init(){}getMinWidth(){return 0}getMinHeight(){return 0}getSize(){return{width:this.rect.width,height:this.rect.height}}setSize(e,n){e=Math.max(e,this.getMinWidth()),n=Math.max(n,this.getMinHeight());let i=!1;e!==this.rect.width&&(this.rect.width=e,i=!0),n!==this.rect.height&&(this.rect.height=n,i=!0),i&&(this.emit(O.rectChange),this.emit(O.change))}setPosition(e,n){const i=this.getRect();let o=e!==i.x||n!==i.y;this.rect.x=e,this.rect.y=n,o&&(this.emit(O.rectChange),this.emit(O.change))}getPosition(){const e=this.getRect();return{x:e.x,y:e.y}}getCenterPosition(){const e=this.getRect();return{x:e.x+e.width/2,y:e.y+e.height/2}}setCenterPosition(e,n){const{width:i,height:o}=this.getRect();this.setPosition(e-i/2,n-o/2)}move(e,n){this.rect.x+=e,this.rect.y+=n,(e!==0||n!==0)&&(this.emit(O.rectChange),this.emit(O.change))}getRect(){return{...this.rect}}getRenderRect(){return this.rect}getLayerId(){return this.layerId}setLayerId(e){this.layerId=e}getTransform(){return[...this.transform]}setTransform(e){this.transform=[...e]}getWorldTransform(){const[e,n,i,o]=this.transform;return[e,n,i,o,this.rect.x,this.rect.y]}setWorldTransform(e){const[n,i,o,r,l,a]=e;this.transform=[n,i,o,r,0,0],this.setPosition(l,a)}hitTest(e,n){return!1}beforePaint(e,n){}afterPaint(e,n){}getIsHovered(){return this.isHovered}setIsHovered(e){this.isHovered!==e&&(this.isHovered=e,this.emit(O.change))}getIsSelected(){return this.isSelected}setIsSelected(e){this.isSelected!==e&&(this.isSelected=e,this.emit(O.change))}getActiveControl(){return this.activeControl}setActiveControl(e){e!==this.activeControl&&(this.activeControl=e,this.emit(O.change))}dispose(){this.clear(),this.isSelected=!1,this.isHovered=!1}getBoundingBox(){return cl({...this.getSize(),transform:this.getWorldTransform()})}getBoundingRect(){return ri(this.getBoundingBox())}getRotate(){return Ch(this.getWorldTransform())}setRotate(e,n,i){const r=new it().translate(-i.x,-i.y).rotate(e).translate(i.x,i.y).append(new it(...n)).getArray();this.setWorldTransform(r)}getMovable(){return!0}getResizeable(){return!0}getRotatable(){return!0}updateControlPosition(e){}setAttr(e,n,i=!1){(this.attrs[e]!==n||i)&&(this.attrs[e]=n,this.emit("attrChange",{property:e,value:n}),this.emit(O.change))}toJson(){const e={id:this.id,category:this.getCategory(),attrs:this.attrs,rect:this.rect,transform:this.transform,layerId:this.layerId};return dl(e)}static fromJson(e,n,i){const o=new i(e.id);return o.attrs=e.attrs,o.setPosition(e.rect.x,e.rect.y),o.setSize(e.rect.width,e.rect.height),o.transform=e.transform,o.setLayerId(e.layerId),o}getControlByTag(e){return null}}p(Ye,"CATEGORY");const Nt=class Nt extends wn{constructor(e,n){super(e,n);p(this,"updatePosition",()=>{this.getHost().updateControlPosition()});e.on(O.rectChange,this.updatePosition)}init(){this.setSize(Nt.SIZE,Nt.SIZE)}handleMousedown(e,n){const i=this.getHost(),o=i.getEnd();vn({onDragStart:r=>{this.setIsActive(!0)},onDragMove:(r,l)=>{const a=n.getElementAt(r);let c;a&&a.control&&a.control instanceof K&&a.control!==this?c=a.control:c=n.viewportManager.getCursorScenePoint(r),this.getHost().setEnd(c)},onDragEnd:r=>{this.setIsActive(!1);const l=this.getHost().getEnd();if(l!==o){const a={undo:()=>{i.setEnd(o)},redo:()=>{i.setEnd(l)}};n.actionManager.push(a)}}},e)}paint(e){const n=this.getRect();e.beginPath(),e.rect(n.x,n.y,n.width,n.height),e.fillStyle=e.fillStyle=this.getIsHovered()||this.getIsActive()?Nt.BORDER_COLOR:"#fff",e.fill(),e.setLineDash([]),e.strokeStyle=Nt.BORDER_COLOR,e.lineWidth=1,e.stroke()}getCursor(){return"move"}};p(Nt,"SIZE",8),p(Nt,"BORDER_WIDTH",2),p(Nt,"BORDER_COLOR","#0f8eff"),p(Nt,"FILL_COLOR","#0f8eff");let zs=Nt;const os=class os extends Ye{constructor(e,n,i=Ue()){super(i);p(this,"attrs",{lineColor:"#000",lineWidth:2,lineCap:"round",lineDash:[10,10],lineDashOffset:-20});p(this,"controlPoints",[]);p(this,"mapPoints",[]);p(this,"_endDirection",E.LEFT);p(this,"animation",null);p(this,"isCreating",!1);p(this,"pointControls",[]);p(this,"findPathPoints",()=>{const n={rect:this.start.getHost().getRect(),origin:this.start.getSceneCenterPosition(),direction:this.getStartDirection()},i="paint"in this.end?this.end.getSceneCenterPosition():this.end,o={rect:"paint"in this.end?this.end.getHost().getRect():void 0,origin:i,direction:this.getEndDirection()},{mapPoints:r,controlPoints:l}=Wh(n,o,20);this.mapPoints=r,this.controlPoints=l,l.shift(),l.pop(),this.emit(O.rectChange),this.emit(O.change)});this.start=e,this.end=n,this.id=i,e.getHost().on(O.rectChange,this.findPathPoints),"paint"in this.end&&this.end.getHost().on(O.rectChange,this.findPathPoints),this.startAnimation(),this.initPointControls()}initPointControls(){this.pointControls=[new zs(this,"end")]}updateControlPosition(){const e=this.getRect();this.pointControls.forEach(n=>{if(n.getTag()==="end"){const{x:i,y:o}=this.getEndPoint();n.setCenterPosition(i-e.x,o-e.y)}})}hitTest(e,n){if(this.isCreating||this.getIsUpdating()||!ae({x:e,y:n},this.getRenderRect()))return!1;if(this.getIsHovered()){const o=this.pointControls.find(r=>r.hitTest(e,n));if(o)return o}const i=Xh(this.getAllPoints());return qh({x:e,y:n},i,this.attrs.lineWidth+1)}getStartPoint(){return this.start.getSceneCenterPosition()}getEndPoint(){return"paint"in this.end?this.end.getSceneCenterPosition():this.end}setEnd(e){this.end!==e&&("paint"in this.end&&this.end.getHost().off(O.rectChange,this.findPathPoints),this.end=e,"paint"in e&&e.getHost().on(O.rectChange,this.findPathPoints),this.findPathPoints(),this.updateControlPosition(),this.emit(O.change))}setEndDirection(e){"paint"in this.end||this._endDirection!==e&&(this._endDirection=e,this.findPathPoints(),this.emit(O.change))}getStartDirection(){const e=this.start.getSceneCenterPosition(),n=this.start.getHost().getCenterPosition(),i=[e.x-n.x,e.y-n.y],o=fi(i);return ci(o)}getEndDirection(){if("paint"in this.end){const e=this.end.getSceneCenterPosition(),n=this.end.getHost().getCenterPosition(),i=[e.x-n.x,e.y-n.y],o=fi(i);return ci(o)}return this._endDirection}getAllPoints(){const e=this.getStartPoint(),n=this.getEndPoint();return[e,...this.controlPoints,n]}getRect(){const e=this.getStartPoint(),n=this.getEndPoint();return al(e,n,...this.controlPoints)}getRenderRect(){const e=this.getRect(),n=zs.BORDER_WIDTH,i=this.attrs.lineWidth*2+n;return xe(e,i)}getSize(){const{width:e,height:n}=this.getRect();return{width:e,height:n}}getWorldTransform(){const{x:e,y:n}=this.getRect();return[1,0,0,1,e,n]}paint(e){e.beginPath();const n=this.getAllPoints(),{x:i,y:o}=n.pop(),r=this.getEndDirection(),l=8,a=12;let c=1/0,h=1/0;n.forEach((m,w)=>{c=Math.min(m.x,c),h=Math.min(m.y,h),e[w?"lineTo":"moveTo"](m.x,m.y)}),r===E.LEFT?e.lineTo(i-a/2,o):r===E.RIGHT?e.lineTo(i+a/2,o):r===E.BOTTOM?e.lineTo(i,o+a/2):r===E.TOP&&e.lineTo(i,o-a/2);const{attrs:d}=this,f=d.lineWidth;e.strokeStyle=d.lineColor,e.lineCap=d.lineCap,e.lineWidth=f,e.setLineDash(d.lineDash),e.lineDashOffset=d.lineDashOffset,e.stroke(),e.beginPath(),r===E.LEFT?(e.moveTo(i,o),e.lineTo(i-a,o-l/2),e.lineTo(i-a,o+l/2)):r===E.RIGHT?(e.moveTo(i,o),e.lineTo(i+a,o-l/2),e.lineTo(i+a,o+l/2)):r===E.BOTTOM?(e.moveTo(i,o),e.lineTo(i-l/2,o+a),e.lineTo(i+l/2,o+a)):r===E.TOP&&(e.moveTo(i,o),e.lineTo(i-l/2,o-a),e.lineTo(i+l/2,o-a)),e.closePath(),e.fillStyle=d.lineColor,e.fill(),this.getIsSelected()&&(e.save(),e.translate(c,h),this.pointControls.forEach(m=>{m.paint(e)}),e.restore())}getCategory(){return os.CATEGORY}getStart(){return this.start}getStartHost(){return this.start.getHost()}getEnd(){return this.end}getEndHost(){return"getHost"in this.end?this.end.getHost():null}move(e,n){"paint"in this.end||(this.end.x+=e,this.end.y+=n,this.findPathPoints(),this.emit(O.rectChange),this.emit(O.change))}getMovable(){return!("paint"in this.end)}getResizeable(){return!1}getRotatable(){return!1}startAnimation(){if(!this.animation){const e=this.attrs.lineDashOffset;this.animation=fl({startValue:0,endValue:e,duration:1e3,loop:!0,onUpdate:n=>{this.setAttr("lineDashOffset",n)}})}this.animation.start()}dispose(){var e,n;super.dispose(),(e=this.animation)==null||e.stop(),this.getStartHost().off(O.rectChange,this.findPathPoints),(n=this.getEndHost())==null||n.off(O.rectChange,this.findPathPoints)}reset(){var e;super.reset(),this.getStartHost().on(O.rectChange,this.findPathPoints),(e=this.getEndHost())==null||e.on(O.rectChange,this.findPathPoints),this.startAnimation()}toJson(){const e=super.toJson();e.start=this.getStartHost().id;const n=this.getEndHost();e.end=n?n.id:this.getEndPoint(),e.startControlDir=this.start.getTag();const i=this.end;return e.endControlDir="getTag"in i?i.getTag():this._endDirection,e}setIsCreating(e){this.isCreating=e}getIsUpdating(){return this.pointControls.some(e=>e.getIsActive())}static fromJson(e,n){const i=n.find(a=>a.id===e.start);if(!i)throw new Error(`Link:ID${e.start}`);const o=i.getControlByTag(e.startControlDir);let r;if(typeof e.end=="string"){const a=n.find(c=>c.id===e.end);if(!a)throw new Error(`Link:ID${e.end}`);r=a.getControlByTag(e.endControlDir)}else r=e.end;const l=new os(o,r,e.id);return l.setEndDirection(e.endControlDir),l.attrs=e.attrs,l.setPosition(e.rect.x,e.rect.y),l.setSize(e.rect.width,e.rect.height),l.transform=e.transform,l.setLayerId(e.layerId),l.findPathPoints(),l}};p(os,"CATEGORY","link");let ce=os;const _t=class _t extends wn{constructor(e,n){super(e,n);p(this,"updatePosition",()=>{this.getHost().updateControlPosition(this)});e.on(O.rectChange,this.updatePosition)}init(){this.setSize(_t.SIZE,_t.SIZE)}handleMousedown(e,n){let i=null;const r=this.getHost().getLayerId();vn({onDragStart:l=>{this.setIsActive(!0)},onDragMove:(l,a)=>{const c=n.getElementAt(l);let h;c&&c.control&&c.control instanceof _t&&c.control!==this?h=c.control:h=n.viewportManager.getCursorScenePoint(l),i?(i.setEndDirection(fi(a)),i.setEnd(h)):(i=new ce(this,h),i.setIsCreating(!0),i.setLayerId(r),n.box.addModel(i))},onDragEnd:l=>{if(this.setIsActive(!1),!i)return;i.setIsCreating(!1);const a=n.getElementAt(l);a&&a.control&&a.control instanceof _t&&i.setEnd(a.control);const c={undo(){n.box.removeModel(i)},redo(){n.box.addModel(i),i==null||i.reset()}};n.actionManager.push(c)}},e)}paint(e){const n=this.getRect(),i=n.x+n.width/2,o=n.y+n.height/2;e.beginPath(),e.arc(i,o,_t.SIZE/2,0,Math.PI*2),this.getIsHovered()||this.getIsActive()?(e.fillStyle=_t.FILL_COLOR,e.fill()):(e.fillStyle="#fff",e.fill()),e.strokeStyle=_t.BORDER_COLOR,e.lineWidth=_t.BORDER_WIDTH,e.stroke()}getCursor(){return"crosshair"}};p(_t,"SIZE",8),p(_t,"BORDER_WIDTH",2),p(_t,"BORDER_COLOR","#0f8eff"),p(_t,"FILL_COLOR","#0f8eff");let K=_t;const Us=class Us extends Ye{constructor(e=Ue()){super(e);p(this,"attrs",{border:{width:2,color:"#000",style:"solid"},fill:!0,fillColor:"#fff"});p(this,"rect",{x:0,y:0,width:200,height:150});p(this,"linkControls",[]);this.linkControls=[new K(this,E.TOP),new K(this,E.RIGHT),new K(this,E.BOTTOM),new K(this,E.LEFT)]}hitTest(e,n){var a;if(!ae({x:e,y:n},this.getRenderRect()))return!1;if(this.getIsHovered()){const c=this.linkControls.find(h=>h.hitTest(e,n));if(c)return c}const{width:i,height:o}=this.getRect(),l=new it().translate(i/2,o/2).prepend(new it(...this.getWorldTransform())).applyInverse({x:e,y:n});return Kh(l,i,o,(a=this.attrs.border)==null?void 0:a.width)}getRenderRect(){var i;let e=((i=this.attrs.border)==null?void 0:i.width)||1;const n=this.getBoundingRect();return e=Math.max(e,K.SIZE/2+K.BORDER_WIDTH),xe(n,e)}beforePaint(e,n){e.save();const i=this.getWorldTransform();e.transform(...i)}paint(e){var a;const{attrs:n}=this,{width:i,height:o}=this.getRect(),r=i/2,l=o/2;e.beginPath(),e.moveTo(r,0),e.lineTo(i,l),e.lineTo(r,o),e.lineTo(0,l),e.lineTo(r,0),n.fill&&(e.fillStyle=n.fillColor,e.fill()),(a=n.border)!=null&&a.width&&(e.strokeStyle=n.border.color,e.lineWidth=n.border.width,e.stroke())}afterPaint(e,n){const i=this.getActiveControl();(this.getIsHovered()||i instanceof K)&&this.linkControls.forEach(o=>{o.paint(e)}),e.restore()}getCategory(){return Us.CATEGORY}updateControlPosition(e){const n=this.getRect(),{width:i,height:o}=n;switch(e.getTag()){case E.TOP:e.setCenterPosition(i/2,0);break;case E.RIGHT:e.setCenterPosition(i,o/2);break;case E.BOTTOM:e.setCenterPosition(i/2,o);break;case E.LEFT:e.setCenterPosition(0,o/2)}}getControlByTag(e){return this.linkControls.find(n=>n.getTag()===e)||null}};p(Us,"CATEGORY","diamond");let di=Us;const Ys=class Ys extends Ye{constructor(e=Ue()){super(e);p(this,"attrs",{border:{width:2,color:"#000",style:"solid"},fill:!0,fillColor:"#fff"});p(this,"rect",{x:0,y:0,width:200,height:200});p(this,"linkControls",[]);this.id=e,this.linkControls=[new K(this,E.TOP),new K(this,E.RIGHT),new K(this,E.BOTTOM),new K(this,E.LEFT)]}getRenderRect(){var i;let e=((i=this.attrs.border)==null?void 0:i.width)||1;const n=this.getBoundingRect();return e=Math.max(e,K.SIZE/2+K.BORDER_WIDTH),xe(n,e)}hitTest(e,n){var a;if(!ae({x:e,y:n},this.getRenderRect()))return!1;if(this.getIsHovered()){const c=this.linkControls.find(h=>h.hitTest(e,n));if(c)return c}const{width:i,height:o}=this.getRect(),l=new it().translate(i/2,o/2).prepend(new it(...this.getWorldTransform())).applyInverse({x:e,y:n});return Uh(l,i/2,o/2,((a=this.attrs.border)==null?void 0:a.width)??0)}beforePaint(e,n){e.save();const i=this.getWorldTransform();e.transform(...i)}paint(e){var a;const{attrs:n}=this,{width:i,height:o}=this.rect,r=i/2,l=o/2;if(e.beginPath(),i===o)e.arc(r,l,i/2,0,Math.PI*2);else{const c=i/2,h=o/2,d=c>h?1/c:1/h;e.moveTo(r+c,l);for(let f=0;f<2*Math.PI;f+=d)e.lineTo(r+c*Math.cos(f),l+h*Math.sin(f));e.closePath()}n.fill&&(e.fillStyle=n.fillColor,e.fill()),(a=n.border)!=null&&a.width&&(e.strokeStyle=n.border.color,e.lineWidth=n.border.width,e.stroke())}afterPaint(e,n){const i=this.getActiveControl();(this.getIsHovered()||i instanceof K)&&this.linkControls.forEach(o=>{o.paint(e)}),e.restore()}dispose(){super.dispose()}getCategory(){return Ys.CATEGORY}updateControlPosition(e){const n=this.getRect(),{width:i,height:o}=n;switch(e.getTag()){case E.TOP:e.setCenterPosition(i/2,0);break;case E.RIGHT:e.setCenterPosition(i,o/2);break;case E.BOTTOM:e.setCenterPosition(i/2,o);break;case E.LEFT:e.setCenterPosition(0,o/2)}}getControlByTag(e){return this.linkControls.find(n=>n.getTag()===e)||null}};p(Ys,"CATEGORY","ellipse");let gi=Ys;class ru{constructor(){p(this,"classMap",new Map);this.register(ce)}register(s){this.classMap.set(s.CATEGORY,s)}getInstance(s,e){const n=this.classMap.get(s);if(!n)throw new Error(`${s} is not registered`);return new n(e)}parseJson(s,e){const n=this.classMap.get(s.category);if(!n)throw new Error(`${s.category} is not registered`);return n.fromJson(s,e,n)}}const Vs=class Vs extends Ye{constructor(e=Ue()){super(e);p(this,"attrs",{border:{width:2,color:"#000",style:"solid"},fill:!0,fillColor:"#fff",roundGap:0});p(this,"rect",{x:0,y:0,width:200,height:100});p(this,"linkControls",[]);this.id=e,this.linkControls=[new K(this,E.TOP),new K(this,E.RIGHT),new K(this,E.BOTTOM),new K(this,E.LEFT)]}getRoundGap(){return Math.min(Math.min(this.rect.width,this.rect.height)/2,this.attrs.roundGap??0)}getRenderRect(){var i;let e=((i=this.attrs.border)==null?void 0:i.width)||1;const n=this.getBoundingRect();return e=Math.max(e,K.SIZE/2+K.BORDER_WIDTH),xe(n,e)}hitTest(e,n){if(!ae({x:e,y:n},this.getRenderRect()))return!1;if(this.getIsHovered()){const a=this.linkControls.find(c=>c.hitTest(e,n));if(a)return a}const o=new it(...this.getWorldTransform()).applyInverse({x:e,y:n}),{width:r,height:l}=this.getRect();return gh(o,{x:0,y:0,width:r,height:l},this.getRoundGap())}beforePaint(e,n){e.save();const i=this.getWorldTransform();e.transform(...i)}paint(e){var l;const{attrs:n}=this,{width:i,height:o}=this.rect;e.beginPath();const r=this.getRoundGap();r?e.roundRect(0,0,i,o,r):e.rect(0,0,i,o),n.fill&&(e.fillStyle=n.fillColor,e.fill()),(l=n.border)!=null&&l.width&&(e.strokeStyle=n.border.color,e.lineWidth=n.border.width,e.stroke())}afterPaint(e,n){const i=this.getActiveControl();(this.getIsHovered()||i instanceof K)&&this.linkControls.forEach(o=>{o.paint(e)}),e.restore()}dispose(){super.dispose()}getCategory(){return Vs.CATEGORY}updateControlPosition(e){const n=this.getRect(),{width:i,height:o}=n;switch(e.getTag()){case E.TOP:e.setCenterPosition(i/2,0);break;case E.RIGHT:e.setCenterPosition(i,o/2);break;case E.BOTTOM:e.setCenterPosition(i/2,o);break;case E.LEFT:e.setCenterPosition(0,o/2)}}getControlByTag(e){return this.linkControls.find(n=>n.getTag()===e)||null}};p(Vs,"CATEGORY","rect");let pi=Vs;const Wt=class Wt extends wn{constructor(s,e){super(s,e)}init(){this.setSize(Wt.SIZE,Wt.SIZE)}updatePosition(){const s=this.getHost().getRect();if(!s||s.width===0||s.height===0)return;const{width:e,height:n}=s,i=Wt.SIZE/2,o=this.getTag();o===zt.nw?this.setPosition(0-i,0-i):o===zt.ne?this.setPosition(e-i,0-i):o===zt.sw?this.setPosition(0-i,n-i):o===zt.se?this.setPosition(e-i,n-i):o===zt.n?this.setPosition(e/2-i,0-i):o===zt.e?this.setPosition(e-i,n/2-i):o===zt.w?this.setPosition(0-i,n/2-i):o===zt.s&&this.setPosition(e/2-i,n-i)}hitTest(s,e){return super.hitTest(s,e)}paint(s){const e=this.getRect();s.beginPath(),s.rect(e.x,e.y,e.width,e.height),s.fillStyle=s.fillStyle=this.getIsHovered()||this.getIsActive()?Wt.BORDER_COLOR:"#fff",s.fill(),s.setLineDash([]),s.strokeStyle=Wt.BORDER_COLOR,s.lineWidth=1,s.stroke()}handleMousedown(s,e){const n=this.getHost(),i=n.getSelectionList().filter(v=>v.getResizeable());if(i.length===0)return;const o=new Map,r=new Map;i.forEach(v=>{o.set(v.id,v.getWorldTransform()),r.set(v.id,v.getRect())});let{x:l,y:a,width:c,height:h}=n.getBoundingRect();const d=new it().translate(l,a);let f={x:s.offsetX,y:s.offsetY};const m=new Map,w=new Map;vn({onDragStart:()=>{this.setIsActive(!0)},onDragMove:v=>{const S={x:v.offsetX,y:v.offsetY};if(S.x===f.x&&S.y===f.y)return;const R=e.viewportManager.getCursorScenePoint(v);f=S;let L=new it;if(n.getSelectionList().length===1){const x=o.get(i[0].id),H=r.get(i[0].id),Z=Jo(this.getTag(),R,{width:H.width,height:H.height,transform:x});L=new it(...Z.transform).append(new it(...x).invert())}else{const x=Jo(this.getTag(),R,{width:c,height:h,transform:d.getArray()});L=new it(...x.transform).append(d.clone().invert())}const z=L.getArray();i.forEach(x=>{const H=o.get(x.id),Z=Zo(z,H),st=Zo(fh([1,0,0,1,0,0]),Z),{width:D,height:Y}=r.get(x.id),U=yh({width:D,height:Y,transform:st});x.setSize(U.width,U.height),x.setWorldTransform(U.transform),m.set(x.id,x.getWorldTransform()),w.set(x.id,x.getRect())})},onDragEnd:v=>{this.setIsActive(!1);const S={undo:()=>{i.forEach(R=>{const{width:L,height:z}=r.get(R.id),x=o.get(R.id);R.setSize(L,z),R.setWorldTransform(x)})},redo:()=>{i.forEach(R=>{const{width:L,height:z}=w.get(R.id),x=m.get(R.id);R.setSize(L,z),R.setWorldTransform(x)})}};e.actionManager.push(S)}},s)}getCursor(){return`${this.getTag()}-resize`}};p(Wt,"BORDER_WIDTH",1),p(Wt,"SIZE",8),p(Wt,"BORDER_COLOR","#0f8eff");let mi=Wt;const Ut=class Ut extends wn{init(){this.setSize(Ut.SIZE,Ut.SIZE)}updatePosition(){const{width:s,height:e}=this.getHost().getRect();this.setPosition(s,-Ut.SIZE)}handleMousedown(s,e){const n=this.getHost(),i=n.getSelectionList().filter(v=>v.getRotatable());if(i.length===0)return;const o=new Map,r=new Map;i.forEach(v=>{o.set(v.id,v.getWorldTransform()),r.set(v.id,{...v.getRect()})});const{x:l,y:a,width:c,height:h}=n.getBoundingRect(),d={x:l+c/2,y:a+h/2},f=e.viewportManager.getScenePoint({x:s.offsetX,y:s.offsetY}),m=li({x:0,y:-1},{x:f.x-d.x,y:f.y-d.y});n.togglePauseUpdateRect(!0);const w=new Map;vn({onDragStart:()=>{this.setIsActive(!0)},onDragMove:v=>{const S=e.viewportManager.getScenePoint({x:v.offsetX,y:v.offsetY}),{x:R,y:L}=d,x=li({x:0,y:-1},{x:S.x-R,y:S.y-L})-m;i.forEach(H=>{H.setRotate(x,o.get(H.id),{x:R,y:L}),w.set(H.id,H.getWorldTransform())}),n.setRotate(x)},onDragEnd:v=>{this.setIsActive(!1),n.setRotate(0),n.togglePauseUpdateRect(!1),n.caculateContainRect();const S={undo:()=>{i.forEach(R=>{const L=o.get(R.id);R.setWorldTransform(L)})},redo:()=>{i.forEach(R=>{const L=w.get(R.id);R.setWorldTransform(L)})}};e.actionManager.push(S)}},s)}paint(s){const n=this.getIsHovered()||this.getIsActive()?Ut.ACTIVE_FILL_STYLE:Ut.FILL_STYLE;s.save(),s.translate(this.rect.x,this.rect.y),s.strokeStyle="rgba(0,0,0,0)",s.miterLimit=4,s.scale(.015625,.015625),s.save(),s.fillStyle=n,s.beginPath(),s.moveTo(793.6,993.28),s.bezierCurveTo(784.384,993.28,775.168,989.696,768,983.04),s.lineTo(594.432,808.9599999999999),s.bezierCurveTo(580.6080000000001,795.136,580.6080000000001,772.0959999999999,594.432,758.2719999999999),s.bezierCurveTo(608.256,744.448,631.296,744.448,645.12,758.2719999999999),s.lineTo(793.6,906.752),s.lineTo(942.08,758.2719999999999),s.bezierCurveTo(955.904,744.448,978.9440000000001,744.448,992.768,758.2719999999999),s.bezierCurveTo(1006.592,772.0959999999999,1006.592,795.136,992.768,808.9599999999999),s.lineTo(819.2,983.04),s.bezierCurveTo(812.032,989.6959999999999,802.816,993.28,793.6,993.28),s.closePath(),s.moveTo(250.88,450.56),s.bezierCurveTo(241.664,450.56,232.448,446.976,225.792,439.808),s.lineTo(51.712,266.24),s.bezierCurveTo(37.888000000000005,252.416,37.888000000000005,229.376,51.712,215.55200000000002),s.lineTo(225.79200000000003,41.98400000000001),s.bezierCurveTo(239.61600000000004,28.16000000000001,262.656,28.16000000000001,276.48,41.98400000000001),s.bezierCurveTo(290.30400000000003,55.80800000000001,290.30400000000003,78.84800000000001,276.48,92.67200000000001),s.lineTo(128.00000000000003,241.152),s.lineTo(276.48,389.63199999999995),s.bezierCurveTo(290.30400000000003,403.45599999999996,290.30400000000003,426.4959999999999,276.48,440.31999999999994),s.bezierCurveTo(269.312,446.97599999999994,260.096,450.55999999999995,250.88000000000002,450.55999999999995),s.closePath(),s.fill(),s.stroke(),s.restore(),s.save(),s.fillStyle=n,s.beginPath(),s.moveTo(793.6,993.28),s.bezierCurveTo(773.6320000000001,993.28,757.76,977.408,757.76,957.4399999999999),s.lineTo(757.76,803.8399999999999),s.bezierCurveTo(757.76,513.0239999999999,521.216,276.4799999999999,230.39999999999998,276.4799999999999),s.lineTo(76.8,276.4799999999999),s.bezierCurveTo(56.831999999999994,276.4799999999999,40.959999999999994,260.6079999999999,40.959999999999994,240.6399999999999),s.bezierCurveTo(40.959999999999994,220.6719999999999,56.831999999999994,204.7999999999999,76.8,204.7999999999999),s.lineTo(230.39999999999998,204.7999999999999),s.bezierCurveTo(560.64,204.7999999999999,829.4399999999999,473.5999999999999,829.4399999999999,803.8399999999999),s.lineTo(829.4399999999999,957.4399999999999),s.bezierCurveTo(829.4399999999999,977.4079999999999,813.568,993.28,793.5999999999999,993.28),s.closePath(),s.fill(),s.stroke(),s.restore(),s.restore()}};p(Ut,"SIZE",16),p(Ut,"FILL_STYLE","#333"),p(Ut,"ACTIVE_FILL_STYLE","#0f8eff");let Ns=Ut;const Xs=class Xs extends Ye{constructor(e=Ue()){super(e);p(this,"attrs",{border:{width:2,color:"#000",style:"solid"},fill:!0,fillColor:"#fff"});p(this,"rect",{x:0,y:0,width:200,height:100});p(this,"linkControls",[]);this.linkControls=[new K(this,E.TOP),new K(this,E.RIGHT),new K(this,E.BOTTOM),new K(this,E.LEFT)]}hitTest(e,n){var a,c;if(!ae({x:e,y:n},this.getRenderRect()))return!1;if(this.getIsHovered()){const h=this.linkControls.find(d=>d.hitTest(e,n));if(h)return h}const o=new it(...this.getWorldTransform()).applyInverse({x:e,y:n}),{width:r,height:l}=this.getRect();return ae(o,{x:0,y:0,width:r,height:l},((c=(a=this.attrs)==null?void 0:a.border)==null?void 0:c.width)??0)}getRenderRect(){var i;let e=((i=this.attrs.border)==null?void 0:i.width)||1;const n=this.getBoundingRect();return e=Math.max(e,K.SIZE/2+K.BORDER_WIDTH),xe(n,e)}beforePaint(e,n){e.save();const i=this.getWorldTransform();e.transform(...i)}paint(e){var a;const{attrs:n}=this,{width:i,height:o}=this.getRect();e.beginPath();let r=Math.min(i,o)/2;const l=Math.max(0,i-2*r);e.moveTo(r,0),e.lineTo(r+l,0),e.arcTo(r+l+r,0,r+l+r,o/2,r),e.arcTo(r+l+r,o,r+l,o,r),e.lineTo(r,o),e.arcTo(0,o,0,o/2,r),e.arcTo(0,0,r,0,r),n.fill&&(e.fillStyle=n.fillColor,e.fill()),(a=n.border)!=null&&a.width&&(e.strokeStyle=n.border.color,e.lineWidth=n.border.width,e.stroke())}afterPaint(e,n){const i=this.getActiveControl();(this.getIsHovered()||i instanceof K)&&this.linkControls.forEach(o=>{o.paint(e)}),e.restore()}getCategory(){return Xs.CATEGORY}updateControlPosition(e){const n=this.getRect(),{width:i,height:o}=n;switch(e.getTag()){case E.TOP:e.setCenterPosition(i/2,0);break;case E.RIGHT:e.setCenterPosition(i,o/2);break;case E.BOTTOM:e.setCenterPosition(i/2,o);break;case E.LEFT:e.setCenterPosition(0,o/2)}}getControlByTag(e){return this.linkControls.find(n=>n.getTag()===e)||null}};p(Xs,"CATEGORY","terminator");let yi=Xs;const Se=class Se extends Gt{constructor(e){super();p(this,"mousedown",!1);p(this,"selectionRect",null);p(this,"mouseEl",null);p(this,"mouseControl",null);p(this,"handleMouseDown",e=>{this.mousedown=!0,this.selectionRect=null;const n=this.editor.selectionManager,i=this.mouseEl;if(e.shiftKey&&i){n.toggleSelection(i);return}this.mouseControl?(this.mouseControl.emit(O.mouseDown,e),this.mouseControl.handleMousedown(e,this.editor)):i?this.handleMoveElement(e,i):this.handleBoxSelection(e)});p(this,"handleMouseMove",e=>{const n=this.editor.viewportManager.getCursorScenePoint(e),i=this.editor.selectionManager.getControlAt(n),o=this.mouseEl,r=this.mouseControl;if(i)this.mouseControl=i,this.mouseEl=null;else{const l=this.editor.getElementAt(e)||null;this.mouseEl=(l==null?void 0:l.model)||null,this.mouseControl=(l==null?void 0:l.control)||null}this.mouseControl?this.setCursorStyle(this.mouseControl.getCursor()):this.mouseEl&&this.mouseEl.getMovable()?this.setCursorStyle("move"):this.setCursorStyle("default"),this.mouseEl!==o&&(o&&o.emit(gs.mouseOut,e),this.mouseEl&&this.mouseEl.emit(gs.mouseIn,e)),this.mouseControl!==r&&(r&&r.emit(O.mouseOut,e),this.mouseControl&&this.mouseControl.emit(O.mouseIn,e))});p(this,"handleMouseUp",e=>{this.mousedown=!1});p(this,"handleMouseLeave",e=>{this.mousedown=!1});p(this,"handleMouseWheel",e=>{if(e.preventDefault(),e.ctrlKey||e.metaKey){const n={x:e.offsetX,y:e.offsetY};e.deltaY>0?this.editor.viewportManager.zoomIn(n):this.editor.viewportManager.zoomOut(n)}else{const n=this.editor.viewportManager.getZoom();this.editor.viewportManager.move(-e.deltaX/n,-e.deltaY/n)}});this.editor=e,this.setup()}setup(){this.editor.topCanvas.addEventListener("mousedown",this.handleMouseDown),this.editor.topCanvas.addEventListener("mousemove",this.handleMouseMove),this.editor.topCanvas.addEventListener("mouseup",this.handleMouseUp),this.editor.topCanvas.addEventListener("mouseleave",this.handleMouseUp),this.editor.topCanvas.addEventListener("wheel",this.handleMouseWheel)}handleMoveElement(e,n){const i=this.editor.selectionManager,o=this.editor.viewportManager.getZoom();n&&!i.isSelected(n)&&i.setSelection([n]);let r=e.clientX,l=e.clientY,a=r,c=l;const h=i.getSelectionList(),d=h.length>1,f=w=>{const v=w.clientX-a,S=w.clientY-c;a=w.clientX,c=w.clientY,this.selectionRect=null,h.forEach(R=>{R instanceof ce?R.getMovable()&&d&&R.move(v/o,S/o):R.move(v/o,S/o)})},m=w=>{const v=w.clientX-r,S=w.clientY-l;if(v||S){let R={undo:()=>{h.forEach(L=>{L.move(-v/o,-S/o)})},redo:()=>{h.forEach(L=>{L.move(v/o,S/o)})}};this.editor.actionManager.push(R)}window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",m),window.removeEventListener("mouseleave",m)};window.addEventListener("mousemove",f),window.addEventListener("mouseup",m),window.addEventListener("mouseleave",m)}handleBoxSelection(e){const n=this.editor.selectionManager,i=this.editor.viewportManager.getCursorScenePoint(e);let o=e.clientX,r=e.clientY;const l=c=>{const h=this.editor.viewportManager.getCursorScenePoint(c);this.selectionRect=al(i,h),this.emit(O.REPAINT)},a=c=>{const h=c.clientX-o,d=c.clientY-r;if(h||d){const f=this.selectionRect;this.selectionRect=null;const m=[];this.editor.box.each(w=>{const v=w.getRenderRect();oi(f,v)&&m.push(w)}),n.setSelection(m)}else n.clearSelection();this.emit(O.REPAINT),window.removeEventListener("mousemove",l),window.removeEventListener("mouseup",a),window.removeEventListener("mouseleave",a)};window.addEventListener("mousemove",l),window.addEventListener("mouseup",a),window.addEventListener("mouseleave",a)}setCursorStyle(e){this.editor.topCanvas.style.cursor=e}dispose(){this.editor.topCanvas.removeEventListener("mousedown",this.handleMouseDown),this.editor.topCanvas.removeEventListener("mousemove",this.handleMouseMove),this.editor.topCanvas.removeEventListener("mouseup",this.handleMouseUp),this.editor.topCanvas.removeEventListener("mouseleave",this.handleMouseUp),this.editor.topCanvas.removeEventListener("wheel",this.handleMouseWheel)}paintTop(e){this.selectionRect&&(e.beginPath(),e.roundRect(this.selectionRect.x,this.selectionRect.y,this.selectionRect.width,this.selectionRect.height,2),e.fillStyle=Se.SELECTION_FILL_COLOR,e.fill(),e.strokeStyle=Se.SELECTION_STROKE_COLOR,e.lineWidth=2,e.stroke())}paintRoot(e){}isHovered(e){return this.mouseEl===e}};p(Se,"SELECTION_STROKE_COLOR","#0f8eff"),p(Se,"SELECTION_FILL_COLOR","#0f8eff33");let vi=Se;var ps=(t=>(t.ZOOM_CHANGE="zoomChange",t))(ps||{});const Zt=class Zt extends Gt{constructor(e){super();p(this,"x",0);p(this,"y",0);p(this,"zoom",1);p(this,"zoomTextOpaticy",-1);p(this,"animation",null);this.editor=e}getZoom(){return this.zoom}zoomOut(e){const n=this.zoom;let i=n+Zt.ZOOM_STEP;if(i=Math.min(i,Zt.MAX_ZOOM),i!==n){const{x:o,y:r}=e,{x:l,y:a}=this.getScenePoint(e),c=l-o/i,h=a-r/i;this.x=c,this.y=h,this.zoom=i,this.startAnimation(),this.emit("zoomChange",i),this.emit(O.change)}}zoomIn(e){const n=this.zoom;let i=n-Zt.ZOOM_STEP;if(i=Math.max(i,Zt.MIN_ZOOM),i!==n){const{x:o,y:r}=e,{x:l,y:a}=this.getScenePoint(e),c=l-o/i,h=a-r/i;this.x=c,this.y=h,this.zoom=i,this.startAnimation(),this.emit("zoomChange",i),this.emit(O.change)}}move(e,n){this.x-=e,this.y-=n,(e!==0||n!==0)&&this.emit(O.change)}getViewport(){return{x:this.x,y:this.y,width:parseFloat(this.editor.topCanvas.style.width),height:parseFloat(this.editor.topCanvas.style.height)}}getViewRect(){const e=this.getViewport(),n=this.getZoom();return{x:this.x,y:this.y,width:e.width/n,height:e.height/n}}getCursorViewPoint(e){return{x:e.offsetX,y:e.offsetY}}getCursorScenePoint(e){const n=this.getCursorViewPoint(e);return this.getScenePoint(n)}getScenePoint(e,n=this.zoom){const{x:i,y:o}=e,{x:r,y:l}=this.getViewport();return{x:r+i/n,y:l+o/n}}getViewPoint(e,n=this.zoom){const{x:i,y:o}=e,{x:r,y:l}=this;return{x:(i-r)/n,y:(o-l)/n}}getViewCenter(){const e=this.getViewport();return{x:e.width/2,y:e.height/2}}startAnimation(){this.animation?this.animation.stop():this.animation=fl({duration:2e3,startValue:1,endValue:0,onUpdate:e=>{this.zoomTextOpaticy=e,this.emit(O.REPAINT)},onEnd(){this.zoomTextOpaticy=-1}}),this.animation.start()}paintTop(e){if(this.zoomTextOpaticy>=0){const n=this.getZoom();e.save(),e.setTransform(1,0,0,1,0,0),e.font="30px Arial",e.fillStyle="#000",e.globalAlpha=this.zoomTextOpaticy,e.fillText(`ZOOM: ${n.toFixed(1)}`,10,40),e.restore()}}paintRoot(e){}dispose(){var e;this.clear(),(e=this.animation)==null||e.stop()}};p(Zt,"ZOOM_STEP",.1),p(Zt,"MIN_ZOOM",.1),p(Zt,"MAX_ZOOM",5);let ms=Zt;const Gs=class Gs extends Gt{constructor(e=Gs.MAX){super();p(this,"list",[]);p(this,"batch",null);p(this,"cursor",-1);p(this,"isOperating",!1);this.limit=e}push(e){if(!this.isOperating){if(this.batch){this.batch.push(e);return}this.cursor!==this.list.length-1&&this.list.splice(this.cursor+1,this.list.length),this.limit===this.list.length&&this.list.splice(0,1),this.list.push(e),this.cursor=this.list.length-1,this.emit(O.change)}}clear(){this.list=[],this.emit(O.change)}undoable(){return this.cursor>=0}redoable(){return this.cursor<this.list.length-1}undo(){if(!this.undoable())return;const e=this.list[this.cursor--];this.isOperating=!0;try{if(Array.isArray(e))for(let n=e.length-1;n>=0;n--)e[n].undo();else e.undo()}catch(n){console.warn(n)}finally{this.isOperating=!1}this.emit(O.change)}redo(){if(!this.redoable())return;const e=this.list[++this.cursor];this.isOperating=!0;try{Array.isArray(e)?e.forEach(n=>n.redo()):e.redo()}catch(n){console.warn(n)}finally{this.isOperating=!1}this.emit(O.change)}startBatch(){this.batch||(this.batch=[])}endBatch(){const e=this.batch;this.batch=null,e!=null&&e.length&&this.push(e)}dispose(){this.clear()}};p(Gs,"MAX",50);let wi=Gs;const Le=class Le extends Gt{constructor(e){super();p(this,"selection",[]);p(this,"rect",{x:0,y:0,height:0,width:0});p(this,"resizers",[]);p(this,"rotator",new Ns(this));p(this,"pauseUpdateRect",!1);p(this,"rotate",0);p(this,"activeControl",null);p(this,"repaint",()=>{this.emit(O.REPAINT)});p(this,"caculateContainRect",()=>{if(!this.pauseUpdateRect){if(this.selection.length===1)this.rect=this.selection[0].getRect();else if(this.selection.length>1){const e=this.selection.map(n=>n.getBoundingBox());this.rect=ri(bh(e))}else this.rect={x:0,width:0,height:0,y:0};this.emit(O.rectChange),this.repaint()}});this.editor=e,e.box.on(ds.removeModels,n=>{n.forEach(i=>{this.isSelected(i)&&this.removeSelection(i)})}),this.initResizers(),this.rotator.on(O.change,this.repaint),this.on(O.change,this.caculateContainRect)}initResizers(){this.resizers=Object.values(zt).map(e=>new mi(this,e)),this.resizers.forEach(e=>{e.on(O.change,this.repaint)})}_addSelection(e){e.on(O.rectChange,this.caculateContainRect),e.emit(gs.selected),this.selection.push(e)}_removeSelection(e){e.off(O.rectChange,this.caculateContainRect),e.emit(gs.unselected),ul(this.selection,e)}_clearSelection(){for(let e=this.selection.length-1;e>=0;e--)this._removeSelection(this.selection[e])}setSelection(e){this._clearSelection(),e.forEach(n=>this._addSelection(n)),this.emit("setSelection",e),this.emit(O.change)}addSelection(e){this.isSelected(e)||(this._addSelection(e),this.emit("addSelection",e),this.emit(O.change))}removeSelection(e){this.isSelected(e)&&(this._removeSelection(e),this.emit("removeSelection",e),this.emit(O.change))}clearSelection(){this.selection.length&&(this._clearSelection(),this.emit("clearSelection"),this.emit(O.change))}toggleSelection(e){this.isSelected(e)?this.removeSelection(e):this.addSelection(e)}isSelected(e){return this.selection.includes(e)}togglePauseUpdateRect(e){this.pauseUpdateRect=e}getRenderRect(){const e=this.getBoundingRect();return xe(e,Ns.SIZE)}getBoundingRect(){const e=this.getRect();if(this.selection.length===1){const n=cl({...e,transform:this.getWorldTransform()});return ri(n)}else return e}getSelectionList(){return[...this.selection]}isOneLink(){return this.selection.length===1&&this.selection[0]instanceof ce}getRect(){return this.rect}setPosition(e,n){}move(e,n){this.selection.forEach(i=>{i.move(e,n)})}setRotate(e){this.rotate=e,this.repaint()}getWorldTransform(){if(this.selection.length===1)return this.selection[0].getWorldTransform();const{x:e,y:n}=this.rect||{x:0,y:0};return[1,0,0,1,e,n]}paintTop(e){if(this.selection.length>0){e.save();const{width:n,height:i}=this.rect,o=this.getWorldTransform();e.transform(...o),this.selection.length>1&&this.rotate&&(e.translate(n/2,i/2),e.rotate(this.rotate),e.translate(-(n/2),-(i/2))),e.beginPath(),e.roundRect(0,0,n,i,2),e.strokeStyle=Le.SELECTION_STROKE_COLOR,e.lineWidth=2,e.setLineDash(Le.SELECTION_LINE_DASH),e.stroke(),e.translate(0,0),this.isOneLink()||(this.resizers.forEach(r=>{r.updatePosition(),r.paint(e)}),this.rotator.updatePosition(),this.rotator.paint(e)),e.restore()}}paintRoot(e){}getControlAt(e){if(this.selection.length===0)return;const n=this.getRenderRect();if(!ae(e,n))return;const i=this.resizers.find(o=>o.hitTest(e.x,e.y));if(i)return i;if(this.rotator.hitTest(e.x,e.y))return this.rotator}getActiveControl(){return this.activeControl}setActiveControl(e){e!==this.activeControl&&(this.activeControl=e,this.emit(O.change))}dispose(){this.clear(),this.editor.box.off(ds.removeModels,e=>{e.forEach(n=>{this.isSelected(n)&&this.removeSelection(n)})}),this.resizers.forEach(e=>e.dispose()),this.rotator.dispose()}};p(Le,"SELECTION_STROKE_COLOR","#0f8eff"),p(Le,"SELECTION_LINE_DASH",[5,5]);let bi=Le;class lu extends Gt{constructor(e){super();p(this,"gap",20);p(this,"dirty",!0);p(this,"repaint",()=>{this.emit(O.REPAINT)});this.editor=e,e.viewportManager.on(O.change,this.repaint)}paintRoot(e){if(!this.dirty)return;const n=this.gap,{x:i,y:o,width:r,height:l}=this.editor.viewportManager.getViewRect(),a=Math.ceil(i/n)*n;for(let h=a;h<=i+r;h+=n)e.beginPath(),e.moveTo(h,o),e.lineTo(h,o+l),e.lineWidth=1,e.strokeStyle=h%(n*5)===0?"#ddd":"#eee",e.stroke();const c=Math.ceil(o/n)*n;for(let h=c;h<=o+l;h+=n)e.beginPath(),e.moveTo(i,h),e.lineTo(i+r,h),e.lineWidth=1,e.strokeStyle=h%(n*5)===0?"#ddd":"#eee",e.stroke()}paintTop(e){}dispose(){this.clear(),this.editor.viewportManager.off(O.change,this.repaint)}}class au{constructor(s){p(this,"rootCanvas");p(this,"rootCtx");p(this,"mainCanvas");p(this,"mainCtx");p(this,"topCanvas");p(this,"topCtx");p(this,"eventManager");p(this,"viewportManager");p(this,"actionManager");p(this,"selectionManager");p(this,"grid");p(this,"dirtyList",new Set);p(this,"paintAll",!0);p(this,"frameRects",new Map);p(this,"plugins",[]);p(this,"pluginsDirty",!0);p(this,"showPerformance",!0);p(this,"box",new ou);p(this,"resize",()=>{const{width:s,height:e}=this.container.getBoundingClientRect();$n(this.rootCanvas,s,e),$n(this.mainCanvas,s,e),$n(this.topCanvas,s,e),this.paintAll=!0,this.pluginsDirty=!0});p(this,"repaintPlugin",()=>{this.pluginsDirty=!0});p(this,"repaint",()=>{const s=Date.now();this.pluginsDirty&&this.paintTop(),this.paintAll?this.fullRepaint():this.dirtyList.size&&this.partRepaint(),this.pluginsDirty&&this.paintRoot();const e=Date.now()-s;this.showPerformance&&this.paintPerformance(e),this.paintAll=!1,this.dirtyList.clear(),requestAnimationFrame(this.repaint)});this.container=s,s.style.position="relative",[this.rootCanvas,this.rootCtx]=this.createCanvas(),[this.mainCanvas,this.mainCtx]=this.createCanvas(),[this.topCanvas,this.topCtx]=this.createCanvas(),this.resize(),this.actionManager=new wi,this.eventManager=new vi(this),this.installPlugin(this.eventManager),this.selectionManager=new bi(this),this.installPlugin(this.selectionManager),this.viewportManager=new ms(this),this.installPlugin(this.viewportManager),this.viewportManager.on(O.change,()=>{this.paintAll=!0,this.pluginsDirty=!0}),this.grid=new lu(this),this.installPlugin(this.grid),this.box.on(ds.modelsChange,e=>{e.forEach(n=>this.dirtyList.add(n))}),this.box.on(ds.removeModels,e=>{e.forEach(n=>this.frameRects.delete(n.id))}),requestAnimationFrame(this.repaint)}createCanvas(){const s=document.createElement("canvas"),e=s.getContext("2d");return Object.assign(s.style,{position:"absolute",left:"0px",top:"0px",width:"100%",height:"100%"}),this.container.appendChild(s),window.addEventListener("resize",this.resize),[s,e]}installPlugin(s){s.on(O.REPAINT,this.repaintPlugin),this.plugins.push(s)}paintPerformance(s){let e=60;s>17&&(e=1e3/s);const n=`FPS:${parseInt(e+"")}`,i=this.topCtx;i.save(),i.setTransform(1,0,0,1,0,0),i.font="30px Arial",i.fillStyle="#f00";const o=i.measureText(n).width,r=this.topCanvas.width;i.fillText(n,r-10-o,40),i.restore()}getElementsAt(s){const{x:e,y:n}=this.viewportManager.getCursorScenePoint(s),i=[];return this.box.reverseEach(o=>{o.hitTest(e,n)&&i.push(o)}),i}getElementAt(s){const{x:e,y:n}=this.viewportManager.getCursorScenePoint(s);let i=null,o=null;return this.box.reverseEach(r=>{const l=r.hitTest(e,n);if(l)return i=r,typeof l!="boolean"&&(o=l),!0}),i?{model:i,control:o}:null}fullRepaint(){const s=this.mainCtx;s.save(),s.setTransform(1,0,0,1,0,0);const e=this.viewportManager.getViewport();s.clearRect(0,0,this.mainCanvas.width,this.mainCanvas.height);const n=Qe(),i=this.viewportManager.getZoom(),o=-e.x,r=-e.y;s.scale(n*i,n*i),s.translate(o,r),this.box.each(l=>{this.paintModel(l,s)}),s.restore()}findDirtyRect(){if(this.dirtyList.size===0)return{rect:{x:0,y:0,width:0,height:0},models:new Set};const s=this.viewportManager.getViewRect(),e=new Set(this.dirtyList),n=this.box.getModelList(),i=[...e].reduce((r,l)=>{r.push(l.getRenderRect());const a=this.frameRects.get(l.id);return a&&r.push(a),r},[]);let o=jo(...i);for(let r=0;r<n.length;r++){const l=n[r];if(e.has(l))continue;const a=l.getRenderRect();oi(a,s)&&oi(a,o)&&(e.add(l),o=jo(a,o),r=-1)}return{rect:o,models:e}}partRepaint(){const{rect:s,models:e}=this.findDirtyRect();if(!e.size)return;const n=this.mainCtx;n.save(),n.setTransform(1,0,0,1,0,0);const i=this.viewportManager.getViewport(),o=Qe(),r=this.viewportManager.getZoom(),l=-i.x,a=-i.y;n.scale(o*r,o*r),n.translate(l,a),n.clearRect(s.x,s.y,s.width,s.height),this.box.each(c=>{e.has(c)&&this.paintModel(c,n)}),n.restore()}paintModel(s,e){if(this.box.has(s)){const n=s.getRenderRect();this.frameRects.set(s.id,{...n}),Dn(e),s.beforePaint(e,this),s.paint(e),s.afterPaint(e,this)}else this.frameRects.delete(s.id)}paintTop(){const s=this.topCtx;s.save(),s.setTransform(1,0,0,1,0,0);const e=this.viewportManager.getViewport();s.clearRect(0,0,this.mainCanvas.width,this.mainCanvas.height);const n=Qe(),i=this.viewportManager.getZoom(),o=-e.x,r=-e.y;s.scale(n*i,n*i),s.translate(o,r),this.plugins.forEach(l=>{Dn(s),l.paintTop(s)}),s.restore()}paintRoot(){const s=this.rootCtx;s.save(),s.setTransform(1,0,0,1,0,0);const e=this.viewportManager.getViewport();s.clearRect(0,0,this.mainCanvas.width,this.mainCanvas.height);const n=Qe(),i=this.viewportManager.getZoom(),o=-e.x,r=-e.y;s.scale(n*i,n*i),s.translate(o,r),this.plugins.forEach(l=>{Dn(s),l.paintRoot(s)}),s.restore()}addModel(s){this.box.addModel(s);const e={undo:()=>{this.box.removeModel(s)},redo:()=>{this.box.addModel(s),s.reset()}};this.actionManager.push(e)}removeModel(s){const e=new Set;e.add(s),this.box.each(o=>{if(o instanceof ce){const r=o.getStartHost(),l=o.getEndHost();(r===s||l===s)&&e.add(o)}});const n=[...e];this.box.removeModels(n);const i={undo:()=>{this.box.addModels(n),n.forEach(o=>o.reset())},redo:()=>{this.box.removeModels(n)}};this.actionManager.push(i)}removeModels(s){const e=new Set(s);this.box.each(o=>{if(o instanceof ce){const r=o.getStartHost(),l=o.getEndHost();(e.has(r)||l&&e.has(l))&&e.add(o)}});const n=[...e];this.box.removeModels(n);const i={undo:()=>{this.box.addModels(n),n.forEach(o=>o.reset())},redo:()=>{this.box.removeModels(n)}};this.actionManager.push(i)}removeSelection(){const s=this.selectionManager.getSelectionList();s.length>0&&(this.removeModels(s),this.selectionManager.clearSelection())}getShowPerformance(){return this.showPerformance}setShowPerformance(s){this.showPerformance=s}dispose(){this.box.dispose(),this.eventManager.dispose(),this.viewportManager.dispose(),this.actionManager.dispose(),this.selectionManager.dispose(),this.grid.dispose()}getSceneData(){const s=[];this.box.each(o=>{const r=o.toJson();s.push(r)});const e=this.viewportManager.getViewport(),n=e.x,i=e.y;return{models:s,viewport:{x:n,y:i,zoom:this.viewportManager.getZoom()}}}parseSceneData(s,e){this.box.removeAll();const n=[];s.models.forEach(i=>{const o=e.parseJson(i,n);n.push(o)}),this.box.addModels(n)}}var zn;let Ve=(zn=class extends Gt{constructor(e){super();p(this,"statusChange",()=>{this.emit(O.change)});this.editor=e}isActive(){return!1}dispose(){this.clear()}},p(zn,"name"),zn);const qs=class qs extends Ve{constructor(s){super(s),s.actionManager.on(O.change,this.statusChange)}isEnable(){return this.editor.actionManager.undoable()}execute(){this.editor.actionManager.undo()}getName(){return qs.name}dispose(){super.dispose(),this.editor.actionManager.off(O.change,this.statusChange)}getLabel(){return""}};p(qs,"name","undo");let Ci=qs;const Ks=class Ks extends Ve{constructor(s){super(s),s.actionManager.on(O.change,this.statusChange)}isEnable(){return this.editor.actionManager.redoable()}execute(){this.editor.actionManager.redo()}getName(){return Ks.name}dispose(){super.dispose(),this.editor.actionManager.off(O.change,this.statusChange)}getLabel(){return""}};p(Ks,"name","redo");let Ti=Ks;const Zs=class Zs extends Ve{constructor(s){super(s),s.viewportManager.on(ps.ZOOM_CHANGE,this.statusChange)}execute(){const s=this.editor.viewportManager.getViewRect(),e={x:s.x+s.width/2,y:s.y+s.height/2};this.editor.viewportManager.zoomIn(e)}isEnable(){return this.editor.viewportManager.getZoom()>ms.MIN_ZOOM}dispose(){super.dispose(),this.editor.viewportManager.off(ps.ZOOM_CHANGE,this.statusChange)}getLabel(){return""}getName(){return Zs.name}};p(Zs,"name","zoomIn");let Mi=Zs;const js=class js extends Ve{constructor(s){super(s),s.viewportManager.on(ps.ZOOM_CHANGE,this.statusChange)}execute(){const s=this.editor.viewportManager.getViewRect(),e={x:s.x+s.width/2,y:s.y+s.height/2};this.editor.viewportManager.zoomOut(e)}isEnable(){return this.editor.viewportManager.getZoom()<ms.MAX_ZOOM}dispose(){super.dispose(),this.editor.viewportManager.off(ps.ZOOM_CHANGE,this.statusChange)}getLabel(){return""}getName(){return js.name}};p(js,"name","zoomOut");let _i=js;const Js=class Js extends Ve{constructor(s){super(s),s.selectionManager.on(O.change,this.statusChange)}execute(){this.editor.removeSelection()}isEnable(){return this.editor.selectionManager.getSelectionList().length>0}dispose(){super.dispose(),this.editor.selectionManager.off(O.change,this.statusChange)}getName(){return Js.name}getLabel(){return""}};p(Js,"name","delete");let xi=Js;const Qs=class Qs extends Ve{constructor(s){super(s)}isEnable(){return!0}execute(){this.editor.setShowPerformance(!this.editor.getShowPerformance()),this.emit(O.change)}getName(){return Qs.name}isActive(){return this.editor.getShowPerformance()}dispose(){super.dispose(),this.editor.actionManager.off(O.change,this.statusChange)}getLabel(){return""}};p(Qs,"name","performance");let Ei=Qs;var gl=_e({name:"Editor",__name:"Editor",emits:["ready"],setup(t,{expose:s,emit:e}){const n=e,i=We("container"),o=as(),r=as();return Ni(()=>{r.value=an(new au(o.value)),n("ready",r.value)}),s({getEditor:()=>r.value}),(a,c)=>(q(),lt("div",{ref_key:"editorRef",ref:o,class:wt([ct(i).b()])},null,2))}});gl.__file="src/frameworks/vue/editor/Editor.vue";var Ki={name:"Delete"};const cu={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":"3095","xmlns:xlink":"http://www.w3.org/1999/xlink"},hu=et("path",{d:"M847.743 223.953H640.639c-3.132-68.921-60.177-124.029-129.858-124.029s-126.726 55.108-129.858 124.029H173.256c-17.673 0-32 14.327-32 32s14.327 32 32 32h674.487c17.673 0 32-14.327 32-32s-14.327-32-32-32z m-336.962-60.03c34.379 0 62.689 26.426 65.718 60.029H445.064c3.029-33.603 31.338-60.029 65.717-60.029zM767.743 351.79c-17.673 0-32 14.327-32 32v478.173H288.256V383.79c0-17.673-14.327-32-32-32s-32 14.327-32 32v510.173c0 17.673 14.327 32 32 32h511.487c17.673 0 32-14.327 32-32V383.79c0-17.673-14.327-32-32-32z","p-id":"3096"},null,-1),uu=et("path",{d:"M449.306 732.802V448.208c0-17.673-14.327-32-32-32s-32 14.327-32 32v284.593c0 17.673 14.327 32 32 32s32-14.326 32-31.999z m191.534 0V448.208c0-17.673-14.327-32-32-32s-32 14.327-32 32v284.593c0 17.673 14.327 32 32 32s32-14.326 32-31.999z","p-id":"3097"},null,-1),fu=[hu,uu];function du(t,s,e,n,i,o){return q(),lt("svg",cu,[...fu])}Ki.render=du;Ki.__file="src/frameworks/vue/icons/delete.vue";var Zi={name:"Diamond"};const gu={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":"9700","xmlns:xlink":"http://www.w3.org/1999/xlink"},pu=et("path",{d:"M512 0l512 512-512 512-512-512 512-512z m0 80.497778L80.497778 512 512 943.502222 943.502222 512 512 80.497778z",fill:"currentColor"},null,-1),mu=[pu];function yu(t,s,e,n,i,o){return q(),lt("svg",gu,[...mu])}Zi.render=yu;Zi.__file="src/frameworks/vue/icons/diamond.vue";var ji={name:"Ellipse"};const vu={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":"6138","xmlns:xlink":"http://www.w3.org/1999/xlink"},wu=et("path",{d:"M512 998.4C243.776 998.4 25.6 780.224 25.6 512S243.776 25.6 512 25.6s486.4 218.176 486.4 486.4-218.176 486.4-486.4 486.4zM512 76.8C272 76.8 76.8 272 76.8 512s195.2 435.2 435.2 435.2 435.2-195.2 435.2-435.2S752 76.8 512 76.8z","p-id":"6139",fill:"currentColor"},null,-1),bu=[wu];function Cu(t,s,e,n,i,o){return q(),lt("svg",vu,[...bu])}ji.render=Cu;ji.__file="src/frameworks/vue/icons/ellipse.vue";var Ji={name:"Performance"};const Tu={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":"5163","xmlns:xlink":"http://www.w3.org/1999/xlink"},Mu=et("path",{d:"M461.223546 894.876154c-1.062192 0-2.099824-0.048095-3.162016-0.193405-11.732206-1.497097-20.736277-11.103896-21.532409-22.884197l-40.336684-605.249801L287.129486 630.065999c-3.186576 10.670014-14.097066 17.911952-24.260543 17.621333-11.128455-0.2415-20.711717-7.91732-23.390733-18.732643l-38.864146-155.385976-68.000743 68.000743c-4.634554 4.634554-10.911514 7.241938-17.477047 7.241938L65.698305 548.811394l0-49.437969 39.20286 0 91.634-91.634c6.300496-6.300496 15.425318-8.810666 24.067138-6.348592 8.593725 2.38942 15.231913 9.197476 17.380856 17.839297l27.6395 110.48637 122.460076-408.222425c3.451612-11.466146 14.677281-18.732643 26.456558-17.477047 11.876492 1.351787 21.097504 11.007705 21.894659 22.932292l41.061185 616.136755 108.555391-325.68971c3.186576-9.487072 11.732206-16.125259 21.725814-16.825201 10.041704-0.627287 19.408025 4.634554 23.850198 13.59053l76.763314 153.526629 27.326369-54.651714c4.200672-8.376785 12.745279-13.663184 22.1116-13.663184l197.750853 0 0 49.437969L773.08225 548.811394l-42.581818 85.212754c-8.400321 16.70445-35.82288 16.70445-44.223201 0l-72.176856-144.378272L484.638839 877.978299C481.259882 888.165312 471.724715 894.876154 461.223546 894.876154z",fill:"currentColor","p-id":"5164"},null,-1),_u=[Mu];function xu(t,s,e,n,i,o){return q(),lt("svg",Tu,[..._u])}Ji.render=xu;Ji.__file="src/frameworks/vue/icons/performance.vue";var Qi={name:"Rect"};const Eu={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Pu=et("path",{d:"M898.8 199.6v624.8H125.2V199.6h773.6m59.5-59.5H65.7v743.8h892.5V140.1h0.1z","p-id":"905"},null,-1),Ou=[Pu];function Ru(t,s,e,n,i,o){return q(),lt("svg",Eu,[...Ou])}Qi.render=Ru;Qi.__file="src/frameworks/vue/icons/rect.vue";var to={name:"Redo"};const Iu={style:{transform:"rotateY(180deg)"},viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Su=et("path",{d:"M596.16 284.064H258.56l101.376-101.44a31.968 31.968 0 1 0-45.248-45.216L178.56 273.504c-11.904 11.872-18.496 27.84-18.56 44.8a63.04 63.04 0 0 0 18.56 45.28l136.128 136.16a31.904 31.904 0 0 0 45.248 0 31.968 31.968 0 0 0 0-45.248l-106.752-106.496H596.16c114.88 0 208.32 93.312 208.32 208s-93.44 208-208.32 208h-223.36a32 32 0 0 0 0 64h223.36c150.144 0 272.32-122.016 272.32-272 0-149.984-122.176-272-272.32-272",fill:"currentColor","p-id":"1124"},null,-1),Lu=[Su];function Au(t,s,e,n,i,o){return q(),lt("svg",Iu,[...Lu])}to.render=Au;to.__file="src/frameworks/vue/icons/redo.vue";var eo={name:"Save"};const Hu={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":"8002","xmlns:xlink":"http://www.w3.org/1999/xlink"},$u=et("path",{d:"M814.805 128a51.179 51.179 0 0 1 51.179 51.179V844.01a51.179 51.179 0 0 1-51.179 51.157H201.173a51.179 51.179 0 0 1-51.178-51.157V179.179A51.179 51.179 0 0 1 201.173 128h613.654zM329.024 434.837a51.093 51.093 0 0 1-51.179-51.093V179.157h-76.672v664.854h613.76V179.179H738.22v204.48a51.179 51.179 0 0 1-51.179 51.178H329.024z m0-51.093h357.995V179.157H329.024v204.587z m357.91 204.501a25.557 25.557 0 1 1 0.085 51.072H329.024a25.536 25.536 0 1 1 0-51.072h357.91z",fill:"currentColor","p-id":"8003"},null,-1),Du=[$u];function Fu(t,s,e,n,i,o){return q(),lt("svg",Hu,[...Du])}eo.render=Fu;eo.__file="src/frameworks/vue/icons/save.vue";var so={name:"Terminator"};const Bu={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},ku=et("path",{d:"M717 256q52.5 0 99.5 20.5 46.5 20 81.5 55 34.5 34.5 55 81 20 46.5 20 99.5t-20 99.5q-20.5 46.5-55 81.5-35 34.5-81.5 55-47 20-99.5 20H307q-52.5 0-99-20-47-20.5-81.5-55-35-35-55-81.5-20.5-46.5-20.5-99.5t20.5-99.5q20-46.5 55-81 34.5-35 81.5-55 46.5-20.5 99-20.5m410 461q42 0 79.5-16 37-16.5 65-44 27.5-28 44-65 16-37.5 16-80t-16-79.5q-16.5-37.5-44-65-28-28-65-44-37.5-16.5-79.5-16.5H307q-42 0-79 16.5-37.5 16-65 44-28 27.5-44 65-16.5 37-16.5 79.5t16.5 80q16 37 44 65 27.5 27.5 65 44 37 16 79 16z",fill:"currentColor","p-id":"5170"},null,-1),zu=et("path",{d:"M307 742.5q-47.5 0-89.5-18-42-18.5-73-49.5-31.5-31.5-49.5-73.5t-18-89.5q0-47.5 18-89.5t49.5-73q31-31.5 73-49.5 42-18.5 89.5-18.5h410q47.5 0 89.5 18.5 42 18 73.5 49.5 31 31 49 73t18 89.5q0 47.5-18 89.5t-49 73.5q-31.5 31-73.5 49.5-42 18-89.5 18z",fill:"#FAFAFA","p-id":"5171"},null,-1),Nu=et("path",{d:"M717 256q52.5 0 99.5 20.5 46.5 20 81.5 55 34.5 34.5 55 81 20 46.5 20 99.5t-20 99.5q-20.5 46.5-55 81.5-35 34.5-81.5 55-47 20-99.5 20H307q-52.5 0-99-20-47-20.5-81.5-55-35-35-55-81.5-20.5-46.5-20.5-99.5t20.5-99.5q20-46.5 55-81 34.5-35 81.5-55 46.5-20.5 99-20.5m410 461q42 0 79.5-16 37-16.5 65-44 27.5-28 44-65 16-37.5 16-80t-16-79.5q-16.5-37.5-44-65-28-28-65-44-37.5-16.5-79.5-16.5H307q-42 0-79 16.5-37.5 16-65 44-28 27.5-44 65-16.5 37-16.5 79.5t16.5 80q16 37 44 65 27.5 27.5 65 44 37 16 79 16z",fill:"currentColor","p-id":"5172"},null,-1),Wu=[ku,zu,Nu];function Uu(t,s,e,n,i,o){return q(),lt("svg",Bu,[...Wu])}so.render=Uu;so.__file="src/frameworks/vue/icons/terminator.vue";var no={name:"Undo"};const Yu={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":"1123","xmlns:xlink":"http://www.w3.org/1999/xlink"},Vu=et("path",{d:"M596.16 284.064H258.56l101.376-101.44a31.968 31.968 0 1 0-45.248-45.216L178.56 273.504c-11.904 11.872-18.496 27.84-18.56 44.8a63.04 63.04 0 0 0 18.56 45.28l136.128 136.16a31.904 31.904 0 0 0 45.248 0 31.968 31.968 0 0 0 0-45.248l-106.752-106.496H596.16c114.88 0 208.32 93.312 208.32 208s-93.44 208-208.32 208h-223.36a32 32 0 0 0 0 64h223.36c150.144 0 272.32-122.016 272.32-272 0-149.984-122.176-272-272.32-272",fill:"currentColor","p-id":"1124"},null,-1),Xu=[Vu];function Gu(t,s,e,n,i,o){return q(),lt("svg",Yu,[...Xu])}no.render=Gu;no.__file="src/frameworks/vue/icons/undo.vue";var io={name:"ZoomIn"};const qu={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Ku=et("path",{d:"M598.646154 401.723077H279.630769c-15.753846 0-27.569231 11.815385-27.569231 31.507692 0 15.753846 11.815385 27.569231 31.507693 27.569231h319.015384c15.753846 0 27.569231-11.815385 27.569231-31.507692 0-15.753846-15.753846-27.569231-31.507692-27.569231z",fill:"currentColor","p-id":"967"},null,-1),Zu=et("path",{d:"M921.6 850.707692l-204.8-196.923077c47.261538-59.076923 78.769231-137.846154 78.769231-220.553846 0-196.923077-157.538462-354.461538-354.461539-354.461538s-354.461538 157.538462-354.461538 354.461538 157.538462 354.461538 354.461538 354.461539c90.584615 0 173.292308-35.446154 236.307693-90.584616l204.8 196.923077c3.938462 3.938462 11.815385 7.876923 19.692307 7.876923s15.753846-3.938462 19.692308-7.876923c11.815385-15.753846 11.815385-35.446154 0-43.323077z m-484.430769-126.030769c-161.476923 0-295.384615-133.907692-295.384616-295.384615S275.692308 133.907692 437.169231 133.907692s295.384615 133.907692 295.384615 295.384616-129.969231 295.384615-295.384615 295.384615z",fill:"currentColor"},null,-1),ju=[Ku,Zu];function Ju(t,s,e,n,i,o){return q(),lt("svg",qu,[...ju])}io.render=Ju;io.__file="src/frameworks/vue/icons/zoom-in.vue";var oo={name:"ZoomOut"};const Qu={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},tf=et("path",{d:"M970.837333 919.850667l-205.696-205.653334A382.421333 382.421333 0 0 0 853.333333 469.333333a384 384 0 0 0-384-384 384 384 0 0 0-384 384 384 384 0 0 0 384 384 382.421333 382.421333 0 0 0 244.906667-88.192l205.653333 205.653334a36.053333 36.053333 0 0 0 50.986667 0 36.266667 36.266667 0 0 0-0.042667-50.944z m-380.117333-162.986667c-38.4 16.256-79.189333 24.448-121.386667 24.448a311.296 311.296 0 0 1-220.586666-91.392A311.296 311.296 0 0 1 157.312 469.333333 311.296 311.296 0 0 1 248.746667 248.746667 311.296 311.296 0 0 1 469.333333 157.354667a311.296 311.296 0 0 1 220.586667 91.392A311.296 311.296 0 0 1 781.354667 469.333333a311.296 311.296 0 0 1-91.392 220.586667 310.186667 310.186667 0 0 1-99.242667 66.901333z",fill:"currentColor","p-id":"1129"},null,-1),ef=et("path",{d:"M652.672 431.829333h-147.84V292.010667a35.968 35.968 0 1 0-71.978667 0v139.818666H292.010667a35.968 35.968 0 1 0 0 72.021334h140.8v140.8a35.968 35.968 0 1 0 72.021333 0v-140.8h147.84a35.968 35.968 0 1 0 0-72.021334z",fill:"currentColor"},null,-1),sf=[tf,ef];function nf(t,s,e,n,i,o){return q(),lt("svg",Qu,[...sf])}oo.render=nf;oo.__file="src/frameworks/vue/icons/zoom-out.vue";var pl=_e({__name:"Icon",setup(t){const s=We("icon");return(e,n)=>(q(),lt("div",{class:wt([ct(s).b()])},[Vr(e.$slots,"default")],2))}});pl.__file="src/frameworks/vue/components/icon/Icon.vue";const of=["title"];var ml=_e({__name:"ToolbarButton",props:{command:{type:Object,required:!0},getIcon:{type:Function}},setup(t){var h;const s=We("toolbar"),e=t,n={undo:no,redo:to,zoomOut:oo,zoomIn:io,delete:Ki,performance:Ji,save:eo},i=((h=e.getIcon)==null?void 0:h.call(e,e.command.getName()))||n[e.command.getName()],o=as(e.command.isEnable()),r=as(e.command.isActive()),l=e.command.getLabel(),a=()=>{o.value&&e.command.execute()},c=()=>{o.value=e.command.isEnable(),r.value=e.command.isActive()};return e.command.on(O.change,c),Wi(()=>{e.command.off(O.change,c)}),(d,f)=>(q(),lt("div",{title:ct(l),class:wt([ct(s).e("button"),ct(s).is("disabled",!o.value),ct(s).is("active",r.value)]),onClick:a},[gt(pl,null,{default:un(()=>[(q(),ne(Kn(ct(i))))]),_:1})],10,of))}});ml.__file="src/frameworks/vue/toolbar/ToolbarButton.vue";var yl=_e({name:"Toolbar",__name:"Toolbar",props:{commands:{type:Array,required:!0},getIcon:{type:Function}},setup(t){const s=We("toolbar");return(e,n)=>(q(),lt("div",{class:wt([ct(s).b()])},[(q(!0),lt(Mt,null,Zn(t.commands,i=>(q(),ne(ml,{"get-icon":t.getIcon,command:i,key:i.getName()},null,8,["get-icon","command"]))),128))],2))}});yl.__file="src/frameworks/vue/toolbar/Toolbar.vue";function rf(t){return[new Ci(t),new Ti(t),new _i(t),new Mi(t),new xi(t),new Ei(t)]}var vl=_e({__name:"LibraryCollapse",props:{title:{type:String,required:!0}},setup(t){const s=We("library-collapse"),e={beforeEnter(o){o.style.maxHeight=0},enter(o){o.style.maxHeight=`${o.scrollHeight}px`},afterEnter(o){o.style.maxHeight=""},beforeLeave(o){o.style.maxHeight=`${o.scrollHeight}px`},leave(o){o.style.maxHeight=0},afterLeave(o){o.style.maxHeight=""}},n=as(!1),i=()=>{n.value=!n.value};return(o,r)=>(q(),lt("div",{class:wt([ct(s).b(),ct(s).is("collapsed",n.value)])},[et("div",{onClick:i,class:wt(ct(s).e("header"))},[et("div",{class:wt(ct(s).e("arrow"))},null,2),et("div",{class:wt(ct(s).e("title"))},zl(t.title),3)],2),gt(qi,il(Za(e),{persisted:""}),{default:un(()=>[$a(et("div",{class:wt(ct(s).e("content"))},[Vr(o.$slots,"default")],2),[[oh,!n.value]])]),_:3},16)],2))}});vl.__file="src/frameworks/vue/library/LibraryCollapse.vue";var lf=[];for(var Bn=0;Bn<256;++Bn)lf.push((Bn+256).toString(16).slice(1));typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const af=(t,s)=>{let e=!1,n=s.pageX,i=s.pageY;const o=l=>{var h,d;const a=l.pageX-n,c=l.pageY-i;e||(e=!0,(h=t.onDragStart)==null||h.call(t,l)),(d=t.onDragMove)==null||d.call(t,l,[a,c])},r=l=>{var a;e&&((a=t.onDragEnd)==null||a.call(t,l)),window.removeEventListener("mousemove",o),window.removeEventListener("mouseup",r),window.removeEventListener("mouseleave",r)};window.addEventListener("mousemove",o),window.addEventListener("mouseup",r),window.addEventListener("mouseleave",r)},wl=Symbol();function cf(){const t=[],s={editor:null,modelManager:new ru},e={setEditor(n){s.editor=n,t.forEach(i=>{i(n)}),t.length=0},getEditor(){if(!s.editor)throw new Error("editor is not init");return s.editor},getModelManager(){return s.modelManager},register(n){n.forEach(i=>{i.models.forEach(o=>{s.modelManager.register(o)})})},ready(){return new Promise(n=>{s.editor?n(s.editor):t.push(n)})}};return Kr(wl,e),e}function hf(){const t=ss(wl,void 0);if(!t)throw new Error("store is not init");return t}const uf=["onMousedown"],Os=20;var bl=_e({name:"Library",__name:"Library",props:{groupList:{type:Array,required:!0}},setup(t){const s=hf(),e=We("library"),n={rect:Qi,terminator:so,diamond:Zi,ellipse:ji},i=l=>{if(l in n)return n[l]},o=ln({visible:!1,currentCategory:"",left:0,top:0}),r=async(l,a)=>{o.visible=!0,o.currentCategory=a,o.left=l.pageX-Os,o.top=l.pageY-Os,af({onDragMove(c){o.left=c.pageX-Os,o.top=c.pageY-Os},onDragEnd(c){o.visible=!1;const h=s.getEditor(),{x:d,y:f,width:m,height:w}=h.container.getBoundingClientRect();if(c.pageX>=d&&c.pageY>=f&&c.pageX<=d+m&&c.pageY<=f+w){const v=s.getModelManager().getInstance(a),S=h.viewportManager.getScenePoint({x:c.pageX-d,y:c.pageY-f});v.setCenterPosition(S.x,S.y),h.addModel(v)}}},l)};return(l,a)=>(q(),lt("div",{class:wt([ct(e).b()])},[(q(!0),lt(Mt,null,Zn(t.groupList,c=>(q(),ne(vl,{title:c.groupName},{default:un(()=>[et("div",{class:wt(ct(e).e("list"))},[(q(!0),lt(Mt,null,Zn(c.models,h=>(q(),lt("div",{onMousedown:d=>r(d,h.CATEGORY),class:wt([ct(e).e("item")])},[(q(),ne(Kn(i(h.CATEGORY))))],42,uf))),256))],2)]),_:2},1032,["title"]))),256)),(q(),ne(mc,{to:"body"},[o.visible?(q(),lt("div",{key:0,class:wt([ct(e).e("move")]),style:on({left:`${o.left}px`,top:`${o.top}px`})},[(q(),ne(Kn(i(o.currentCategory))))],6)):Cc("v-if",!0)]))],2))}});bl.__file="src/frameworks/vue/library/Library.vue";const ff=()=>[{groupId:"base",groupName:"",models:[pi,yi,di,gi]}];var Ot=(t=>(t.TOP="top",t.LEFT="left",t.RIGHT="right",t.BOTTOM="bottom",t))(Ot||{});Ot.LEFT+"",Ot.RIGHT+"",Ot.TOP+"",Ot.BOTTOM+"";Ot.LEFT+"",Ot.RIGHT,Ot.TOP+"",Ot.BOTTOM,Ot.BOTTOM+"",Ot.TOP,Ot.RIGHT+"",Ot.LEFT;class df{constructor(){p(this,"eventMap",new Map);p(this,"eventMapCache",new Map)}on(s,e){return this.eventMap.has(s)||this.eventMap.set(s,[]),this.eventMap.get(s).push(e),this}emit(s,...e){const n=this.eventMap.get(s);return!n||n.length===0?!1:(n.forEach(i=>{i(...e)}),!0)}off(s,e){if(this.eventMap.has(s)){const n=this.eventMap.get(s).filter(i=>i!==e);n.length?this.eventMap.set(s,n):this.eventMap.delete(s)}return this}clear(){this.eventMapCache.clear();const s=this.eventMap.entries();for(const[e,n]of s)this.eventMapCache.set(e,n);this.eventMap.clear()}reset(){this.eventMap.clear();const s=this.eventMapCache.entries();for(const[e,n]of s)this.eventMap.set(e,n)}}var gf=[];for(var kn=0;kn<256;++kn)gf.push((kn+256).toString(16).slice(1));typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var Ws=(t=>(t.rectChange="rectChange",t.change="change",t.mouseIn="mouseIn",t.mouseOut="mouseOut",t.mouseDown="mouseDown",t.mouseUp="mouseUp",t.REPAINT="repaint",t))(Ws||{});class Cl extends df{constructor(e){super();p(this,"statusChange",()=>{this.emit(Ws.change)});this.editor=e}isActive(){return!1}dispose(){this.clear()}}p(Cl,"name");function pf(t){localStorage.setItem("scene-json",JSON.stringify(t))}function mf(){const t=localStorage.getItem("scene-json");return t?JSON.parse(t):null}class yf extends Cl{constructor(e,n){super(e);p(this,"lastSaveCursor",-1);this.modelManager=n,e.actionManager.on(Ws.change,this.statusChange)}isEnable(){return this.editor.actionManager.cursor!==this.lastSaveCursor}execute(){const e=this.editor.getSceneData();pf(e),this.lastSaveCursor=this.editor.actionManager.cursor,this.statusChange()}dispose(){super.dispose(),this.editor.actionManager.off(Ws.change,this.statusChange)}getName(){return"save"}getLabel(){return""}}const vf={class:"editor-page"},wf={class:"editor-header"},bf={class:"editor-content"},Cf={class:"editor-box"},Tf=_e({__name:"App",setup(t){const s=bo([]),e=cf(),n=bo(ff());e.register(n.value);const i=o=>{e.setEditor(o);const r=e.getModelManager(),l=mf();l&&o.parseSceneData(l,r);const a=rf(o);a.push(new yf(o,r)),s.value=an(a)};return(o,r)=>(q(),lt("div",vf,[et("div",wf,[gt(ct(yl),{commands:s.value},null,8,["commands"])]),et("div",bf,[gt(ct(bl),{"group-list":n.value},null,8,["group-list"]),et("div",Cf,[gt(ct(gl),{onReady:i})])])]))}});ah(Tf).mount("#app");
