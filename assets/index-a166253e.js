var Oc=Object.defineProperty;var Ac=(t,e,i)=>e in t?Oc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var m=(t,e,i)=>(Ac(t,typeof e!="symbol"?e+"":e,i),i);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function i(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=i(r);fetch(r.href,s)}})();function ds(t,e){const i=Object.create(null),n=t.split(",");for(let r=0;r<n.length;r++)i[n[r]]=!0;return e?r=>!!i[r.toLowerCase()]:r=>!!i[r]}const ce={},hi=[],nt=()=>{},Rc=()=>!1,Lc=/^on[^a-z]/,tr=t=>Lc.test(t),ps=t=>t.startsWith("onUpdate:"),me=Object.assign,gs=(t,e)=>{const i=t.indexOf(e);i>-1&&t.splice(i,1)},kc=Object.prototype.hasOwnProperty,ee=(t,e)=>kc.call(t,e),q=Array.isArray,fi=t=>ir(t)==="[object Map]",tl=t=>ir(t)==="[object Set]",Z=t=>typeof t=="function",fe=t=>typeof t=="string",ms=t=>typeof t=="symbol",ue=t=>t!==null&&typeof t=="object",il=t=>ue(t)&&Z(t.then)&&Z(t.catch),nl=Object.prototype.toString,ir=t=>nl.call(t),Ic=t=>ir(t).slice(8,-1),rl=t=>ir(t)==="[object Object]",vs=t=>fe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,zn=ds(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),nr=t=>{const e=Object.create(null);return i=>e[i]||(e[i]=t(i))},Dc=/-(\w)/g,dt=nr(t=>t.replace(Dc,(e,i)=>i?i.toUpperCase():"")),Bc=/\B([A-Z])/g,$i=nr(t=>t.replace(Bc,"-$1").toLowerCase()),rr=nr(t=>t.charAt(0).toUpperCase()+t.slice(1)),Fn=nr(t=>t?`on${rr(t)}`:""),cn=(t,e)=>!Object.is(t,e),xr=(t,e)=>{for(let i=0;i<t.length;i++)t[i](e)},Wn=(t,e,i)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:i})},Hc=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Vc=t=>{const e=fe(t)?Number(t):NaN;return isNaN(e)?t:e};let Vo;const Vr=()=>Vo||(Vo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ve(t){if(q(t)){const e={};for(let i=0;i<t.length;i++){const n=t[i],r=fe(n)?Nc(n):Ve(n);if(r)for(const s in r)e[s]=r[s]}return e}else{if(fe(t))return t;if(ue(t))return t}}const zc=/;(?![^(]*\))/g,Fc=/:([^]+)/,$c=/\/\*[^]*?\*\//g;function Nc(t){const e={};return t.replace($c,"").split(zc).forEach(i=>{if(i){const n=i.split(Fc);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function V(t){let e="";if(fe(t))e=t;else if(q(t))for(let i=0;i<t.length;i++){const n=V(t[i]);n&&(e+=n+" ")}else if(ue(t))for(const i in t)t[i]&&(e+=i+" ");return e.trim()}const jc="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Wc=ds(jc);function sl(t){return!!t||t===""}const Li=t=>fe(t)?t:t==null?"":q(t)||ue(t)&&(t.toString===nl||!Z(t.toString))?JSON.stringify(t,ol,2):String(t),ol=(t,e)=>e&&e.__v_isRef?ol(t,e.value):fi(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((i,[n,r])=>(i[`${n} =>`]=r,i),{})}:tl(e)?{[`Set(${e.size})`]:[...e.values()]}:ue(e)&&!q(e)&&!rl(e)?String(e):e;let He;class Uc{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=He,!e&&He&&(this.index=(He.scopes||(He.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const i=He;try{return He=this,e()}finally{He=i}}}on(){He=this}off(){He=this.parent}stop(e){if(this._active){let i,n;for(i=0,n=this.effects.length;i<n;i++)this.effects[i].stop();for(i=0,n=this.cleanups.length;i<n;i++)this.cleanups[i]();if(this.scopes)for(i=0,n=this.scopes.length;i<n;i++)this.scopes[i].stop(!0);if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function Yc(t,e=He){e&&e.active&&e.effects.push(t)}function al(){return He}function qc(t){He&&He.cleanups.push(t)}const ys=t=>{const e=new Set(t);return e.w=0,e.n=0,e},ll=t=>(t.w&It)>0,cl=t=>(t.n&It)>0,Kc=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=It},Xc=t=>{const{deps:e}=t;if(e.length){let i=0;for(let n=0;n<e.length;n++){const r=e[n];ll(r)&&!cl(r)?r.delete(t):e[i++]=r,r.w&=~It,r.n&=~It}e.length=i}},zr=new WeakMap;let Qi=0,It=1;const Fr=30;let Qe;const Jt=Symbol(""),$r=Symbol("");class bs{constructor(e,i=null,n){this.fn=e,this.scheduler=i,this.active=!0,this.deps=[],this.parent=void 0,Yc(this,n)}run(){if(!this.active)return this.fn();let e=Qe,i=At;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Qe,Qe=this,At=!0,It=1<<++Qi,Qi<=Fr?Kc(this):zo(this),this.fn()}finally{Qi<=Fr&&Xc(this),It=1<<--Qi,Qe=this.parent,At=i,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Qe===this?this.deferStop=!0:this.active&&(zo(this),this.onStop&&this.onStop(),this.active=!1)}}function zo(t){const{deps:e}=t;if(e.length){for(let i=0;i<e.length;i++)e[i].delete(t);e.length=0}}let At=!0;const ul=[];function Ni(){ul.push(At),At=!1}function ji(){const t=ul.pop();At=t===void 0?!0:t}function Ie(t,e,i){if(At&&Qe){let n=zr.get(t);n||zr.set(t,n=new Map);let r=n.get(i);r||n.set(i,r=ys()),hl(r)}}function hl(t,e){let i=!1;Qi<=Fr?cl(t)||(t.n|=It,i=!ll(t)):i=!t.has(Qe),i&&(t.add(Qe),Qe.deps.push(t))}function xt(t,e,i,n,r,s){const o=zr.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(i==="length"&&q(t)){const l=Number(n);o.forEach((c,u)=>{(u==="length"||u>=l)&&a.push(c)})}else switch(i!==void 0&&a.push(o.get(i)),e){case"add":q(t)?vs(i)&&a.push(o.get("length")):(a.push(o.get(Jt)),fi(t)&&a.push(o.get($r)));break;case"delete":q(t)||(a.push(o.get(Jt)),fi(t)&&a.push(o.get($r)));break;case"set":fi(t)&&a.push(o.get(Jt));break}if(a.length===1)a[0]&&Nr(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);Nr(ys(l))}}function Nr(t,e){const i=q(t)?t:[...t];for(const n of i)n.computed&&Fo(n);for(const n of i)n.computed||Fo(n)}function Fo(t,e){(t!==Qe||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const Zc=ds("__proto__,__v_isRef,__isVue"),fl=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ms)),Gc=xs(),Jc=xs(!1,!0),Qc=xs(!0),$o=eu();function eu(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...i){const n=ie(this);for(let s=0,o=this.length;s<o;s++)Ie(n,"get",s+"");const r=n[e](...i);return r===-1||r===!1?n[e](...i.map(ie)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...i){Ni();const n=ie(this)[e].apply(this,i);return ji(),n}}),t}function tu(t){const e=ie(this);return Ie(e,"has",t),e.hasOwnProperty(t)}function xs(t=!1,e=!1){return function(n,r,s){if(r==="__v_isReactive")return!t;if(r==="__v_isReadonly")return t;if(r==="__v_isShallow")return e;if(r==="__v_raw"&&s===(t?e?vu:vl:e?ml:gl).get(n))return n;const o=q(n);if(!t){if(o&&ee($o,r))return Reflect.get($o,r,s);if(r==="hasOwnProperty")return tu}const a=Reflect.get(n,r,s);return(ms(r)?fl.has(r):Zc(r))||(t||Ie(n,"get",r),e)?a:Ee(a)?o&&vs(r)?a:a.value:ue(a)?t?Ms(a):bn(a):a}}const iu=dl(),nu=dl(!0);function dl(t=!1){return function(i,n,r,s){let o=i[n];if(ki(o)&&Ee(o)&&!Ee(r))return!1;if(!t&&(!Un(r)&&!ki(r)&&(o=ie(o),r=ie(r)),!q(i)&&Ee(o)&&!Ee(r)))return o.value=r,!0;const a=q(i)&&vs(n)?Number(n)<i.length:ee(i,n),l=Reflect.set(i,n,r,s);return i===ie(s)&&(a?cn(r,o)&&xt(i,"set",n,r):xt(i,"add",n,r)),l}}function ru(t,e){const i=ee(t,e);t[e];const n=Reflect.deleteProperty(t,e);return n&&i&&xt(t,"delete",e,void 0),n}function su(t,e){const i=Reflect.has(t,e);return(!ms(e)||!fl.has(e))&&Ie(t,"has",e),i}function ou(t){return Ie(t,"iterate",q(t)?"length":Jt),Reflect.ownKeys(t)}const pl={get:Gc,set:iu,deleteProperty:ru,has:su,ownKeys:ou},au={get:Qc,set(t,e){return!0},deleteProperty(t,e){return!0}},lu=me({},pl,{get:Jc,set:nu}),ws=t=>t,sr=t=>Reflect.getPrototypeOf(t);function _n(t,e,i=!1,n=!1){t=t.__v_raw;const r=ie(t),s=ie(e);i||(e!==s&&Ie(r,"get",e),Ie(r,"get",s));const{has:o}=sr(r),a=n?ws:i?Ss:un;if(o.call(r,e))return a(t.get(e));if(o.call(r,s))return a(t.get(s));t!==r&&t.get(e)}function Pn(t,e=!1){const i=this.__v_raw,n=ie(i),r=ie(t);return e||(t!==r&&Ie(n,"has",t),Ie(n,"has",r)),t===r?i.has(t):i.has(t)||i.has(r)}function Tn(t,e=!1){return t=t.__v_raw,!e&&Ie(ie(t),"iterate",Jt),Reflect.get(t,"size",t)}function No(t){t=ie(t);const e=ie(this);return sr(e).has.call(e,t)||(e.add(t),xt(e,"add",t,t)),this}function jo(t,e){e=ie(e);const i=ie(this),{has:n,get:r}=sr(i);let s=n.call(i,t);s||(t=ie(t),s=n.call(i,t));const o=r.call(i,t);return i.set(t,e),s?cn(e,o)&&xt(i,"set",t,e):xt(i,"add",t,e),this}function Wo(t){const e=ie(this),{has:i,get:n}=sr(e);let r=i.call(e,t);r||(t=ie(t),r=i.call(e,t)),n&&n.call(e,t);const s=e.delete(t);return r&&xt(e,"delete",t,void 0),s}function Uo(){const t=ie(this),e=t.size!==0,i=t.clear();return e&&xt(t,"clear",void 0,void 0),i}function On(t,e){return function(n,r){const s=this,o=s.__v_raw,a=ie(o),l=e?ws:t?Ss:un;return!t&&Ie(a,"iterate",Jt),o.forEach((c,u)=>n.call(r,l(c),l(u),s))}}function An(t,e,i){return function(...n){const r=this.__v_raw,s=ie(r),o=fi(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=r[t](...n),u=i?ws:e?Ss:un;return!e&&Ie(s,"iterate",l?$r:Jt),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function Et(t){return function(...e){return t==="delete"?!1:this}}function cu(){const t={get(s){return _n(this,s)},get size(){return Tn(this)},has:Pn,add:No,set:jo,delete:Wo,clear:Uo,forEach:On(!1,!1)},e={get(s){return _n(this,s,!1,!0)},get size(){return Tn(this)},has:Pn,add:No,set:jo,delete:Wo,clear:Uo,forEach:On(!1,!0)},i={get(s){return _n(this,s,!0)},get size(){return Tn(this,!0)},has(s){return Pn.call(this,s,!0)},add:Et("add"),set:Et("set"),delete:Et("delete"),clear:Et("clear"),forEach:On(!0,!1)},n={get(s){return _n(this,s,!0,!0)},get size(){return Tn(this,!0)},has(s){return Pn.call(this,s,!0)},add:Et("add"),set:Et("set"),delete:Et("delete"),clear:Et("clear"),forEach:On(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=An(s,!1,!1),i[s]=An(s,!0,!1),e[s]=An(s,!1,!0),n[s]=An(s,!0,!0)}),[t,i,e,n]}const[uu,hu,fu,du]=cu();function Cs(t,e){const i=e?t?du:fu:t?hu:uu;return(n,r,s)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?n:Reflect.get(ee(i,r)&&r in n?i:n,r,s)}const pu={get:Cs(!1,!1)},gu={get:Cs(!1,!0)},mu={get:Cs(!0,!1)},gl=new WeakMap,ml=new WeakMap,vl=new WeakMap,vu=new WeakMap;function yu(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function bu(t){return t.__v_skip||!Object.isExtensible(t)?0:yu(Ic(t))}function bn(t){return ki(t)?t:Es(t,!1,pl,pu,gl)}function xu(t){return Es(t,!1,lu,gu,ml)}function Ms(t){return Es(t,!0,au,mu,vl)}function Es(t,e,i,n,r){if(!ue(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=r.get(t);if(s)return s;const o=bu(t);if(o===0)return t;const a=new Proxy(t,o===2?n:i);return r.set(t,a),a}function di(t){return ki(t)?di(t.__v_raw):!!(t&&t.__v_isReactive)}function ki(t){return!!(t&&t.__v_isReadonly)}function Un(t){return!!(t&&t.__v_isShallow)}function yl(t){return di(t)||ki(t)}function ie(t){const e=t&&t.__v_raw;return e?ie(e):t}function Ii(t){return Wn(t,"__v_skip",!0),t}const un=t=>ue(t)?bn(t):t,Ss=t=>ue(t)?Ms(t):t;function bl(t){At&&Qe&&(t=ie(t),hl(t.dep||(t.dep=ys())))}function xl(t,e){t=ie(t);const i=t.dep;i&&Nr(i)}function Ee(t){return!!(t&&t.__v_isRef===!0)}function se(t){return wl(t,!1)}function Yo(t){return wl(t,!0)}function wl(t,e){return Ee(t)?t:new wu(t,e)}class wu{constructor(e,i){this.__v_isShallow=i,this.dep=void 0,this.__v_isRef=!0,this._rawValue=i?e:ie(e),this._value=i?e:un(e)}get value(){return bl(this),this._value}set value(e){const i=this.__v_isShallow||Un(e)||ki(e);e=i?e:ie(e),cn(e,this._rawValue)&&(this._rawValue=e,this._value=i?e:un(e),xl(this))}}function yt(t){return Ee(t)?t.value:t}const Cu={get:(t,e,i)=>yt(Reflect.get(t,e,i)),set:(t,e,i,n)=>{const r=t[e];return Ee(r)&&!Ee(i)?(r.value=i,!0):Reflect.set(t,e,i,n)}};function Cl(t){return di(t)?t:new Proxy(t,Cu)}class Mu{constructor(e,i,n,r){this._setter=i,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new bs(e,()=>{this._dirty||(this._dirty=!0,xl(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=n}get value(){const e=ie(this);return bl(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Eu(t,e,i=!1){let n,r;const s=Z(t);return s?(n=t,r=nt):(n=t.get,r=t.set),new Mu(n,r,s||!r,i)}function Rt(t,e,i,n){let r;try{r=n?t(...n):t()}catch(s){or(s,e,i)}return r}function Ue(t,e,i,n){if(Z(t)){const s=Rt(t,e,i,n);return s&&il(s)&&s.catch(o=>{or(o,e,i)}),s}const r=[];for(let s=0;s<t.length;s++)r.push(Ue(t[s],e,i,n));return r}function or(t,e,i,n=!0){const r=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,a=i;for(;s;){const c=s.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,o,a)===!1)return}s=s.parent}const l=e.appContext.config.errorHandler;if(l){Rt(l,null,10,[t,o,a]);return}}Su(t,i,r,n)}function Su(t,e,i,n=!0){console.error(t)}let hn=!1,jr=!1;const Me=[];let ht=0;const pi=[];let vt=null,Kt=0;const Ml=Promise.resolve();let _s=null;function El(t){const e=_s||Ml;return t?e.then(this?t.bind(this):t):e}function _u(t){let e=ht+1,i=Me.length;for(;e<i;){const n=e+i>>>1;fn(Me[n])<t?e=n+1:i=n}return e}function Ps(t){(!Me.length||!Me.includes(t,hn&&t.allowRecurse?ht+1:ht))&&(t.id==null?Me.push(t):Me.splice(_u(t.id),0,t),Sl())}function Sl(){!hn&&!jr&&(jr=!0,_s=Ml.then(Pl))}function Pu(t){const e=Me.indexOf(t);e>ht&&Me.splice(e,1)}function Tu(t){q(t)?pi.push(...t):(!vt||!vt.includes(t,t.allowRecurse?Kt+1:Kt))&&pi.push(t),Sl()}function qo(t,e=hn?ht+1:0){for(;e<Me.length;e++){const i=Me[e];i&&i.pre&&(Me.splice(e,1),e--,i())}}function _l(t){if(pi.length){const e=[...new Set(pi)];if(pi.length=0,vt){vt.push(...e);return}for(vt=e,vt.sort((i,n)=>fn(i)-fn(n)),Kt=0;Kt<vt.length;Kt++)vt[Kt]();vt=null,Kt=0}}const fn=t=>t.id==null?1/0:t.id,Ou=(t,e)=>{const i=fn(t)-fn(e);if(i===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return i};function Pl(t){jr=!1,hn=!0,Me.sort(Ou);const e=nt;try{for(ht=0;ht<Me.length;ht++){const i=Me[ht];i&&i.active!==!1&&Rt(i,null,14)}}finally{ht=0,Me.length=0,_l(),hn=!1,_s=null,(Me.length||pi.length)&&Pl()}}function Au(t,e,...i){if(t.isUnmounted)return;const n=t.vnode.props||ce;let r=i;const s=e.startsWith("update:"),o=s&&e.slice(7);if(o&&o in n){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=n[u]||ce;f&&(r=i.map(d=>fe(d)?d.trim():d)),h&&(r=i.map(Hc))}let a,l=n[a=Fn(e)]||n[a=Fn(dt(e))];!l&&s&&(l=n[a=Fn($i(e))]),l&&Ue(l,t,6,r);const c=n[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ue(c,t,6,r)}}function Tl(t,e,i=!1){const n=e.emitsCache,r=n.get(t);if(r!==void 0)return r;const s=t.emits;let o={},a=!1;if(!Z(t)){const l=c=>{const u=Tl(c,e,!0);u&&(a=!0,me(o,u))};!i&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(ue(t)&&n.set(t,null),null):(q(s)?s.forEach(l=>o[l]=null):me(o,s),ue(t)&&n.set(t,o),o)}function ar(t,e){return!t||!tr(e)?!1:(e=e.slice(2).replace(/Once$/,""),ee(t,e[0].toLowerCase()+e.slice(1))||ee(t,$i(e))||ee(t,e))}let xe=null,Ol=null;function Yn(t){const e=xe;return xe=t,Ol=t&&t.type.__scopeId||null,e}function tt(t,e=xe,i){if(!e||t._n)return t;const n=(...r)=>{n._d&&oa(-1);const s=Yn(e);let o;try{o=t(...r)}finally{Yn(s),n._d&&oa(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function wr(t){const{type:e,vnode:i,proxy:n,withProxy:r,props:s,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:h,data:f,setupState:d,ctx:y,inheritAttrs:g}=t;let b,w;const C=Yn(t);try{if(i.shapeFlag&4){const x=r||n;b=ut(u.call(x,x,h,s,d,f,y)),w=l}else{const x=e;b=ut(x.length>1?x(s,{attrs:l,slots:a,emit:c}):x(s,null)),w=e.props?l:Ru(l)}}catch(x){on.length=0,or(x,t,1),b=J(Ye)}let P=b;if(w&&g!==!1){const x=Object.keys(w),{shapeFlag:O}=P;x.length&&O&7&&(o&&x.some(ps)&&(w=Lu(w,o)),P=Dt(P,w))}return i.dirs&&(P=Dt(P),P.dirs=P.dirs?P.dirs.concat(i.dirs):i.dirs),i.transition&&(P.transition=i.transition),b=P,Yn(C),b}const Ru=t=>{let e;for(const i in t)(i==="class"||i==="style"||tr(i))&&((e||(e={}))[i]=t[i]);return e},Lu=(t,e)=>{const i={};for(const n in t)(!ps(n)||!(n.slice(9)in e))&&(i[n]=t[n]);return i};function ku(t,e,i){const{props:n,children:r,component:s}=t,{props:o,children:a,patchFlag:l}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(i&&l>=0){if(l&1024)return!0;if(l&16)return n?Ko(n,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==n[f]&&!ar(c,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?Ko(n,o,c):!0:!!o;return!1}function Ko(t,e,i){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let r=0;r<n.length;r++){const s=n[r];if(e[s]!==t[s]&&!ar(i,s))return!0}return!1}function Iu({vnode:t,parent:e},i){for(;e&&e.subTree===t;)(t=e.vnode).el=i,e=e.parent}const Du=t=>t.__isSuspense;function Bu(t,e){e&&e.pendingBranch?q(t)?e.effects.push(...t):e.effects.push(t):Tu(t)}const Rn={};function ze(t,e,i){return Al(t,e,i)}function Al(t,e,{immediate:i,deep:n,flush:r,onTrack:s,onTrigger:o}=ce){var a;const l=al()===((a=ye)==null?void 0:a.scope)?ye:null;let c,u=!1,h=!1;if(Ee(t)?(c=()=>t.value,u=Un(t)):di(t)?(c=()=>t,n=!0):q(t)?(h=!0,u=t.some(x=>di(x)||Un(x)),c=()=>t.map(x=>{if(Ee(x))return x.value;if(di(x))return Gt(x);if(Z(x))return Rt(x,l,2)})):Z(t)?e?c=()=>Rt(t,l,2):c=()=>{if(!(l&&l.isUnmounted))return f&&f(),Ue(t,l,3,[d])}:c=nt,e&&n){const x=c;c=()=>Gt(x())}let f,d=x=>{f=C.onStop=()=>{Rt(x,l,4)}},y;if(pn)if(d=nt,e?i&&Ue(e,l,3,[c(),h?[]:void 0,d]):c(),r==="sync"){const x=Ih();y=x.__watcherHandles||(x.__watcherHandles=[])}else return nt;let g=h?new Array(t.length).fill(Rn):Rn;const b=()=>{if(C.active)if(e){const x=C.run();(n||u||(h?x.some((O,F)=>cn(O,g[F])):cn(x,g)))&&(f&&f(),Ue(e,l,3,[x,g===Rn?void 0:h&&g[0]===Rn?[]:g,d]),g=x)}else C.run()};b.allowRecurse=!!e;let w;r==="sync"?w=b:r==="post"?w=()=>Ae(b,l&&l.suspense):(b.pre=!0,l&&(b.id=l.uid),w=()=>Ps(b));const C=new bs(c,w);e?i?b():g=C.run():r==="post"?Ae(C.run.bind(C),l&&l.suspense):C.run();const P=()=>{C.stop(),l&&l.scope&&gs(l.scope.effects,C)};return y&&y.push(P),P}function Hu(t,e,i){const n=this.proxy,r=fe(t)?t.includes(".")?Rl(n,t):()=>n[t]:t.bind(n,n);let s;Z(e)?s=e:(s=e.handler,i=e);const o=ye;Bi(this);const a=Al(r,s.bind(n),i);return o?Bi(o):ei(),a}function Rl(t,e){const i=e.split(".");return()=>{let n=t;for(let r=0;r<i.length&&n;r++)n=n[i[r]];return n}}function Gt(t,e){if(!ue(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Ee(t))Gt(t.value,e);else if(q(t))for(let i=0;i<t.length;i++)Gt(t[i],e);else if(tl(t)||fi(t))t.forEach(i=>{Gt(i,e)});else if(rl(t))for(const i in t)Gt(t[i],e);return t}function Vu(t,e){const i=xe;if(i===null)return t;const n=dr(i)||i.proxy,r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[o,a,l,c=ce]=e[s];o&&(Z(o)&&(o={mounted:o,updated:o}),o.deep&&Gt(a),r.push({dir:o,instance:n,value:a,oldValue:void 0,arg:l,modifiers:c}))}return t}function $t(t,e,i,n){const r=t.dirs,s=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];s&&(a.oldValue=s[o].value);let l=a.dir[n];l&&(Ni(),Ue(l,i,8,[t.el,a,t,e]),ji())}}function zu(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ts(()=>{t.isMounted=!0}),Wi(()=>{t.isUnmounting=!0}),t}const $e=[Function,Array],Ll={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:$e,onEnter:$e,onAfterEnter:$e,onEnterCancelled:$e,onBeforeLeave:$e,onLeave:$e,onAfterLeave:$e,onLeaveCancelled:$e,onBeforeAppear:$e,onAppear:$e,onAfterAppear:$e,onAppearCancelled:$e},Fu={name:"BaseTransition",props:Ll,setup(t,{slots:e}){const i=xn(),n=zu();let r;return()=>{const s=e.default&&Il(e.default(),!0);if(!s||!s.length)return;let o=s[0];if(s.length>1){for(const g of s)if(g.type!==Ye){o=g;break}}const a=ie(t),{mode:l}=a;if(n.isLeaving)return Cr(o);const c=Xo(o);if(!c)return Cr(o);const u=Wr(c,a,n,i);Ur(c,u);const h=i.subTree,f=h&&Xo(h);let d=!1;const{getTransitionKey:y}=c.type;if(y){const g=y();r===void 0?r=g:g!==r&&(r=g,d=!0)}if(f&&f.type!==Ye&&(!Xt(c,f)||d)){const g=Wr(f,a,n,i);if(Ur(f,g),l==="out-in")return n.isLeaving=!0,g.afterLeave=()=>{n.isLeaving=!1,i.update.active!==!1&&i.update()},Cr(o);l==="in-out"&&c.type!==Ye&&(g.delayLeave=(b,w,C)=>{const P=kl(n,f);P[String(f.key)]=f,b._leaveCb=()=>{w(),b._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=C})}return o}}},$u=Fu;function kl(t,e){const{leavingVNodes:i}=t;let n=i.get(e.type);return n||(n=Object.create(null),i.set(e.type,n)),n}function Wr(t,e,i,n){const{appear:r,mode:s,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:h,onLeave:f,onAfterLeave:d,onLeaveCancelled:y,onBeforeAppear:g,onAppear:b,onAfterAppear:w,onAppearCancelled:C}=e,P=String(t.key),x=kl(i,t),O=(L,j)=>{L&&Ue(L,n,9,j)},F=(L,j)=>{const z=j[1];O(L,j),q(L)?L.every(X=>X.length<=1)&&z():L.length<=1&&z()},U={mode:s,persisted:o,beforeEnter(L){let j=a;if(!i.isMounted)if(r)j=g||a;else return;L._leaveCb&&L._leaveCb(!0);const z=x[P];z&&Xt(t,z)&&z.el._leaveCb&&z.el._leaveCb(),O(j,[L])},enter(L){let j=l,z=c,X=u;if(!i.isMounted)if(r)j=b||l,z=w||c,X=C||u;else return;let I=!1;const Y=L._enterCb=pe=>{I||(I=!0,pe?O(X,[L]):O(z,[L]),U.delayedLeave&&U.delayedLeave(),L._enterCb=void 0)};j?F(j,[L,Y]):Y()},leave(L,j){const z=String(t.key);if(L._enterCb&&L._enterCb(!0),i.isUnmounting)return j();O(h,[L]);let X=!1;const I=L._leaveCb=Y=>{X||(X=!0,j(),Y?O(y,[L]):O(d,[L]),L._leaveCb=void 0,x[z]===t&&delete x[z])};x[z]=t,f?F(f,[L,I]):I()},clone(L){return Wr(L,e,i,n)}};return U}function Cr(t){if(lr(t))return t=Dt(t),t.children=null,t}function Xo(t){return lr(t)?t.children?t.children[0]:void 0:t}function Ur(t,e){t.shapeFlag&6&&t.component?Ur(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Il(t,e=!1,i){let n=[],r=0;for(let s=0;s<t.length;s++){let o=t[s];const a=i==null?o.key:String(i)+String(o.key!=null?o.key:s);o.type===ve?(o.patchFlag&128&&r++,n=n.concat(Il(o.children,e,a))):(e||o.type!==Ye)&&n.push(a!=null?Dt(o,{key:a}):o)}if(r>1)for(let s=0;s<n.length;s++)n[s].patchFlag=-2;return n}function he(t,e){return Z(t)?(()=>me({name:t.name},e,{setup:t}))():t}const nn=t=>!!t.type.__asyncLoader,lr=t=>t.type.__isKeepAlive;function Nu(t,e){Dl(t,"a",e)}function ju(t,e){Dl(t,"da",e)}function Dl(t,e,i=ye){const n=t.__wdc||(t.__wdc=()=>{let r=i;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(cr(e,n,i),i){let r=i.parent;for(;r&&r.parent;)lr(r.parent.vnode)&&Wu(n,e,i,r),r=r.parent}}function Wu(t,e,i,n){const r=cr(e,t,n,!0);Bl(()=>{gs(n[e],r)},i)}function cr(t,e,i=ye,n=!1){if(i){const r=i[t]||(i[t]=[]),s=e.__weh||(e.__weh=(...o)=>{if(i.isUnmounted)return;Ni(),Bi(i);const a=Ue(e,i,t,o);return ei(),ji(),a});return n?r.unshift(s):r.push(s),s}}const Ct=t=>(e,i=ye)=>(!pn||t==="sp")&&cr(t,(...n)=>e(...n),i),Uu=Ct("bm"),Ts=Ct("m"),Yu=Ct("bu"),qu=Ct("u"),Wi=Ct("bum"),Bl=Ct("um"),Ku=Ct("sp"),Xu=Ct("rtg"),Zu=Ct("rtc");function Gu(t,e=ye){cr("ec",t,e)}const Hl="components",Vl=Symbol.for("v-ndc");function qn(t){return fe(t)?Ju(Hl,t,!1)||t:t||Vl}function Ju(t,e,i=!0,n=!1){const r=xe||ye;if(r){const s=r.type;if(t===Hl){const a=Ah(s,!1);if(a&&(a===e||a===dt(e)||a===rr(dt(e))))return s}const o=Zo(r[t]||s[t],e)||Zo(r.appContext[t],e);return!o&&n?s:o}}function Zo(t,e){return t&&(t[e]||t[dt(e)]||t[rr(dt(e))])}function Di(t,e,i,n){let r;const s=i&&i[n];if(q(t)||fe(t)){r=new Array(t.length);for(let o=0,a=t.length;o<a;o++)r[o]=e(t[o],o,void 0,s&&s[o])}else if(typeof t=="number"){r=new Array(t);for(let o=0;o<t;o++)r[o]=e(o+1,o,void 0,s&&s[o])}else if(ue(t))if(t[Symbol.iterator])r=Array.from(t,(o,a)=>e(o,a,void 0,s&&s[a]));else{const o=Object.keys(t);r=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];r[a]=e(t[c],c,a,s&&s[a])}}else r=[];return i&&(i[n]=r),r}function bt(t,e,i={},n,r){if(xe.isCE||xe.parent&&nn(xe.parent)&&xe.parent.isCE)return e!=="default"&&(i.name=e),J("slot",i,n&&n());let s=t[e];s&&s._c&&(s._d=!1),D();const o=s&&zl(s(i)),a=Te(ve,{key:i.key||o&&o.key||`_${e}`},o||(n?n():[]),o&&t._===1?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function zl(t){return t.some(e=>Zn(e)?!(e.type===Ye||e.type===ve&&!zl(e.children)):!0)?t:null}function Qu(t,e){const i={};for(const n in t)i[e&&/[A-Z]/.test(n)?`on:${n}`:Fn(n)]=t[n];return i}const Yr=t=>t?Gl(t)?dr(t)||t.proxy:Yr(t.parent):null,rn=me(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Yr(t.parent),$root:t=>Yr(t.root),$emit:t=>t.emit,$options:t=>Os(t),$forceUpdate:t=>t.f||(t.f=()=>Ps(t.update)),$nextTick:t=>t.n||(t.n=El.bind(t.proxy)),$watch:t=>Hu.bind(t)}),Mr=(t,e)=>t!==ce&&!t.__isScriptSetup&&ee(t,e),eh={get({_:t},e){const{ctx:i,setupState:n,data:r,props:s,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const d=o[e];if(d!==void 0)switch(d){case 1:return n[e];case 2:return r[e];case 4:return i[e];case 3:return s[e]}else{if(Mr(n,e))return o[e]=1,n[e];if(r!==ce&&ee(r,e))return o[e]=2,r[e];if((c=t.propsOptions[0])&&ee(c,e))return o[e]=3,s[e];if(i!==ce&&ee(i,e))return o[e]=4,i[e];qr&&(o[e]=0)}}const u=rn[e];let h,f;if(u)return e==="$attrs"&&Ie(t,"get",e),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(i!==ce&&ee(i,e))return o[e]=4,i[e];if(f=l.config.globalProperties,ee(f,e))return f[e]},set({_:t},e,i){const{data:n,setupState:r,ctx:s}=t;return Mr(r,e)?(r[e]=i,!0):n!==ce&&ee(n,e)?(n[e]=i,!0):ee(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=i,!0)},has({_:{data:t,setupState:e,accessCache:i,ctx:n,appContext:r,propsOptions:s}},o){let a;return!!i[o]||t!==ce&&ee(t,o)||Mr(e,o)||(a=s[0])&&ee(a,o)||ee(n,o)||ee(rn,o)||ee(r.config.globalProperties,o)},defineProperty(t,e,i){return i.get!=null?t._.accessCache[e]=0:ee(i,"value")&&this.set(t,e,i.value,null),Reflect.defineProperty(t,e,i)}};function th(){return ih().slots}function ih(){const t=xn();return t.setupContext||(t.setupContext=Ql(t))}function Go(t){return q(t)?t.reduce((e,i)=>(e[i]=null,e),{}):t}let qr=!0;function nh(t){const e=Os(t),i=t.proxy,n=t.ctx;qr=!1,e.beforeCreate&&Jo(e.beforeCreate,t,"bc");const{data:r,computed:s,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:f,beforeUpdate:d,updated:y,activated:g,deactivated:b,beforeDestroy:w,beforeUnmount:C,destroyed:P,unmounted:x,render:O,renderTracked:F,renderTriggered:U,errorCaptured:L,serverPrefetch:j,expose:z,inheritAttrs:X,components:I,directives:Y,filters:pe}=e;if(c&&rh(c,n,null),o)for(const Q in o){const ne=o[Q];Z(ne)&&(n[Q]=ne.bind(i))}if(r){const Q=r.call(i,i);ue(Q)&&(t.data=bn(Q))}if(qr=!0,s)for(const Q in s){const ne=s[Q],Se=Z(ne)?ne.bind(i,i):Z(ne.get)?ne.get.bind(i,i):nt,gt=!Z(ne)&&Z(ne.set)?ne.set.bind(i):nt,Ge=Oe({get:Se,set:gt});Object.defineProperty(n,Q,{enumerable:!0,configurable:!0,get:()=>Ge.value,set:we=>Ge.value=we})}if(a)for(const Q in a)Fl(a[Q],n,i,Q);if(l){const Q=Z(l)?l.call(i):l;Reflect.ownKeys(Q).forEach(ne=>{ur(ne,Q[ne])})}u&&Jo(u,t,"c");function te(Q,ne){q(ne)?ne.forEach(Se=>Q(Se.bind(i))):ne&&Q(ne.bind(i))}if(te(Uu,h),te(Ts,f),te(Yu,d),te(qu,y),te(Nu,g),te(ju,b),te(Gu,L),te(Zu,F),te(Xu,U),te(Wi,C),te(Bl,x),te(Ku,j),q(z))if(z.length){const Q=t.exposed||(t.exposed={});z.forEach(ne=>{Object.defineProperty(Q,ne,{get:()=>i[ne],set:Se=>i[ne]=Se})})}else t.exposed||(t.exposed={});O&&t.render===nt&&(t.render=O),X!=null&&(t.inheritAttrs=X),I&&(t.components=I),Y&&(t.directives=Y)}function rh(t,e,i=nt){q(t)&&(t=Kr(t));for(const n in t){const r=t[n];let s;ue(r)?"default"in r?s=Qt(r.from||n,r.default,!0):s=Qt(r.from||n):s=Qt(r),Ee(s)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[n]=s}}function Jo(t,e,i){Ue(q(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,i)}function Fl(t,e,i,n){const r=n.includes(".")?Rl(i,n):()=>i[n];if(fe(t)){const s=e[t];Z(s)&&ze(r,s)}else if(Z(t))ze(r,t.bind(i));else if(ue(t))if(q(t))t.forEach(s=>Fl(s,e,i,n));else{const s=Z(t.handler)?t.handler.bind(i):e[t.handler];Z(s)&&ze(r,s,t)}}function Os(t){const e=t.type,{mixins:i,extends:n}=e,{mixins:r,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!r.length&&!i&&!n?l=e:(l={},r.length&&r.forEach(c=>Kn(l,c,o,!0)),Kn(l,e,o)),ue(e)&&s.set(e,l),l}function Kn(t,e,i,n=!1){const{mixins:r,extends:s}=e;s&&Kn(t,s,i,!0),r&&r.forEach(o=>Kn(t,o,i,!0));for(const o in e)if(!(n&&o==="expose")){const a=sh[o]||i&&i[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const sh={data:Qo,props:ea,emits:ea,methods:en,computed:en,beforeCreate:Pe,created:Pe,beforeMount:Pe,mounted:Pe,beforeUpdate:Pe,updated:Pe,beforeDestroy:Pe,beforeUnmount:Pe,destroyed:Pe,unmounted:Pe,activated:Pe,deactivated:Pe,errorCaptured:Pe,serverPrefetch:Pe,components:en,directives:en,watch:ah,provide:Qo,inject:oh};function Qo(t,e){return e?t?function(){return me(Z(t)?t.call(this,this):t,Z(e)?e.call(this,this):e)}:e:t}function oh(t,e){return en(Kr(t),Kr(e))}function Kr(t){if(q(t)){const e={};for(let i=0;i<t.length;i++)e[t[i]]=t[i];return e}return t}function Pe(t,e){return t?[...new Set([].concat(t,e))]:e}function en(t,e){return t?me(Object.create(null),t,e):e}function ea(t,e){return t?q(t)&&q(e)?[...new Set([...t,...e])]:me(Object.create(null),Go(t),Go(e??{})):e}function ah(t,e){if(!t)return e;if(!e)return t;const i=me(Object.create(null),t);for(const n in e)i[n]=Pe(t[n],e[n]);return i}function $l(){return{app:null,config:{isNativeTag:Rc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let lh=0;function ch(t,e){return function(n,r=null){Z(n)||(n=me({},n)),r!=null&&!ue(r)&&(r=null);const s=$l(),o=new Set;let a=!1;const l=s.app={_uid:lh++,_component:n,_props:r,_container:null,_context:s,_instance:null,version:Dh,get config(){return s.config},set config(c){},use(c,...u){return o.has(c)||(c&&Z(c.install)?(o.add(c),c.install(l,...u)):Z(c)&&(o.add(c),c(l,...u))),l},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),l},component(c,u){return u?(s.components[c]=u,l):s.components[c]},directive(c,u){return u?(s.directives[c]=u,l):s.directives[c]},mount(c,u,h){if(!a){const f=J(n,r);return f.appContext=s,u&&e?e(f,c):t(f,c,h),a=!0,l._container=c,c.__vue_app__=l,dr(f.component)||f.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,u){return s.provides[c]=u,l},runWithContext(c){Xn=l;try{return c()}finally{Xn=null}}};return l}}let Xn=null;function ur(t,e){if(ye){let i=ye.provides;const n=ye.parent&&ye.parent.provides;n===i&&(i=ye.provides=Object.create(n)),i[t]=e}}function Qt(t,e,i=!1){const n=ye||xe;if(n||Xn){const r=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:Xn._context.provides;if(r&&t in r)return r[t];if(arguments.length>1)return i&&Z(e)?e.call(n&&n.proxy):e}}function uh(t,e,i,n=!1){const r={},s={};Wn(s,fr,1),t.propsDefaults=Object.create(null),Nl(t,e,r,s);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);i?t.props=n?r:xu(r):t.type.props?t.props=r:t.props=s,t.attrs=s}function hh(t,e,i,n){const{props:r,attrs:s,vnode:{patchFlag:o}}=t,a=ie(r),[l]=t.propsOptions;let c=!1;if((n||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(ar(t.emitsOptions,f))continue;const d=e[f];if(l)if(ee(s,f))d!==s[f]&&(s[f]=d,c=!0);else{const y=dt(f);r[y]=Xr(l,a,y,d,t,!1)}else d!==s[f]&&(s[f]=d,c=!0)}}}else{Nl(t,e,r,s)&&(c=!0);let u;for(const h in a)(!e||!ee(e,h)&&((u=$i(h))===h||!ee(e,u)))&&(l?i&&(i[h]!==void 0||i[u]!==void 0)&&(r[h]=Xr(l,a,h,void 0,t,!0)):delete r[h]);if(s!==a)for(const h in s)(!e||!ee(e,h))&&(delete s[h],c=!0)}c&&xt(t,"set","$attrs")}function Nl(t,e,i,n){const[r,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(zn(l))continue;const c=e[l];let u;r&&ee(r,u=dt(l))?!s||!s.includes(u)?i[u]=c:(a||(a={}))[u]=c:ar(t.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,o=!0)}if(s){const l=ie(i),c=a||ce;for(let u=0;u<s.length;u++){const h=s[u];i[h]=Xr(r,l,h,c[h],t,!ee(c,h))}}return o}function Xr(t,e,i,n,r,s){const o=t[i];if(o!=null){const a=ee(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Z(l)){const{propsDefaults:c}=r;i in c?n=c[i]:(Bi(r),n=c[i]=l.call(null,e),ei())}else n=l}o[0]&&(s&&!a?n=!1:o[1]&&(n===""||n===$i(i))&&(n=!0))}return n}function jl(t,e,i=!1){const n=e.propsCache,r=n.get(t);if(r)return r;const s=t.props,o={},a=[];let l=!1;if(!Z(t)){const u=h=>{l=!0;const[f,d]=jl(h,e,!0);me(o,f),d&&a.push(...d)};!i&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!s&&!l)return ue(t)&&n.set(t,hi),hi;if(q(s))for(let u=0;u<s.length;u++){const h=dt(s[u]);ta(h)&&(o[h]=ce)}else if(s)for(const u in s){const h=dt(u);if(ta(h)){const f=s[u],d=o[h]=q(f)||Z(f)?{type:f}:me({},f);if(d){const y=ra(Boolean,d.type),g=ra(String,d.type);d[0]=y>-1,d[1]=g<0||y<g,(y>-1||ee(d,"default"))&&a.push(h)}}}const c=[o,a];return ue(t)&&n.set(t,c),c}function ta(t){return t[0]!=="$"}function ia(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function na(t,e){return ia(t)===ia(e)}function ra(t,e){return q(e)?e.findIndex(i=>na(i,t)):Z(e)&&na(e,t)?0:-1}const Wl=t=>t[0]==="_"||t==="$stable",As=t=>q(t)?t.map(ut):[ut(t)],fh=(t,e,i)=>{if(e._n)return e;const n=tt((...r)=>As(e(...r)),i);return n._c=!1,n},Ul=(t,e,i)=>{const n=t._ctx;for(const r in t){if(Wl(r))continue;const s=t[r];if(Z(s))e[r]=fh(r,s,n);else if(s!=null){const o=As(s);e[r]=()=>o}}},Yl=(t,e)=>{const i=As(e);t.slots.default=()=>i},dh=(t,e)=>{if(t.vnode.shapeFlag&32){const i=e._;i?(t.slots=ie(e),Wn(e,"_",i)):Ul(e,t.slots={})}else t.slots={},e&&Yl(t,e);Wn(t.slots,fr,1)},ph=(t,e,i)=>{const{vnode:n,slots:r}=t;let s=!0,o=ce;if(n.shapeFlag&32){const a=e._;a?i&&a===1?s=!1:(me(r,e),!i&&a===1&&delete r._):(s=!e.$stable,Ul(e,r)),o=e}else e&&(Yl(t,e),o={default:1});if(s)for(const a in r)!Wl(a)&&!(a in o)&&delete r[a]};function Zr(t,e,i,n,r=!1){if(q(t)){t.forEach((f,d)=>Zr(f,e&&(q(e)?e[d]:e),i,n,r));return}if(nn(n)&&!r)return;const s=n.shapeFlag&4?dr(n.component)||n.component.proxy:n.el,o=r?null:s,{i:a,r:l}=t,c=e&&e.r,u=a.refs===ce?a.refs={}:a.refs,h=a.setupState;if(c!=null&&c!==l&&(fe(c)?(u[c]=null,ee(h,c)&&(h[c]=null)):Ee(c)&&(c.value=null)),Z(l))Rt(l,a,12,[o,u]);else{const f=fe(l),d=Ee(l);if(f||d){const y=()=>{if(t.f){const g=f?ee(h,l)?h[l]:u[l]:l.value;r?q(g)&&gs(g,s):q(g)?g.includes(s)||g.push(s):f?(u[l]=[s],ee(h,l)&&(h[l]=u[l])):(l.value=[s],t.k&&(u[t.k]=l.value))}else f?(u[l]=o,ee(h,l)&&(h[l]=o)):d&&(l.value=o,t.k&&(u[t.k]=o))};o?(y.id=-1,Ae(y,i)):y()}}}const Ae=Bu;function gh(t){return mh(t)}function mh(t,e){const i=Vr();i.__VUE__=!0;const{insert:n,remove:r,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:f,setScopeId:d=nt,insertStaticContent:y}=t,g=(p,v,M,S=null,E=null,A=null,k=!1,T=null,R=!!v.dynamicChildren)=>{if(p===v)return;p&&!Xt(p,v)&&(S=mt(p),we(p,E,A,!0),p=null),v.patchFlag===-2&&(R=!1,v.dynamicChildren=null);const{type:_,ref:N,shapeFlag:B}=v;switch(_){case hr:b(p,v,M,S);break;case Ye:w(p,v,M,S);break;case Er:p==null&&C(v,M,S,k);break;case ve:I(p,v,M,S,E,A,k,T,R);break;default:B&1?O(p,v,M,S,E,A,k,T,R):B&6?Y(p,v,M,S,E,A,k,T,R):(B&64||B&128)&&_.process(p,v,M,S,E,A,k,T,R,at)}N!=null&&E&&Zr(N,p&&p.ref,A,v||p,!v)},b=(p,v,M,S)=>{if(p==null)n(v.el=a(v.children),M,S);else{const E=v.el=p.el;v.children!==p.children&&c(E,v.children)}},w=(p,v,M,S)=>{p==null?n(v.el=l(v.children||""),M,S):v.el=p.el},C=(p,v,M,S)=>{[p.el,p.anchor]=y(p.children,v,M,S,p.el,p.anchor)},P=({el:p,anchor:v},M,S)=>{let E;for(;p&&p!==v;)E=f(p),n(p,M,S),p=E;n(v,M,S)},x=({el:p,anchor:v})=>{let M;for(;p&&p!==v;)M=f(p),r(p),p=M;r(v)},O=(p,v,M,S,E,A,k,T,R)=>{k=k||v.type==="svg",p==null?F(v,M,S,E,A,k,T,R):j(p,v,E,A,k,T,R)},F=(p,v,M,S,E,A,k,T)=>{let R,_;const{type:N,props:B,shapeFlag:$,transition:K,dirs:G}=p;if(R=p.el=o(p.type,A,B&&B.is,B),$&8?u(R,p.children):$&16&&L(p.children,R,null,S,E,A&&N!=="foreignObject",k,T),G&&$t(p,null,S,"created"),U(R,p,p.scopeId,k,S),B){for(const re in B)re!=="value"&&!zn(re)&&s(R,re,null,B[re],A,p.children,S,E,_e);"value"in B&&s(R,"value",null,B.value),(_=B.onVnodeBeforeMount)&&ct(_,S,p)}G&&$t(p,null,S,"beforeMount");const oe=(!E||E&&!E.pendingBranch)&&K&&!K.persisted;oe&&K.beforeEnter(R),n(R,v,M),((_=B&&B.onVnodeMounted)||oe||G)&&Ae(()=>{_&&ct(_,S,p),oe&&K.enter(R),G&&$t(p,null,S,"mounted")},E)},U=(p,v,M,S,E)=>{if(M&&d(p,M),S)for(let A=0;A<S.length;A++)d(p,S[A]);if(E){let A=E.subTree;if(v===A){const k=E.vnode;U(p,k,k.scopeId,k.slotScopeIds,E.parent)}}},L=(p,v,M,S,E,A,k,T,R=0)=>{for(let _=R;_<p.length;_++){const N=p[_]=T?Pt(p[_]):ut(p[_]);g(null,N,v,M,S,E,A,k,T)}},j=(p,v,M,S,E,A,k)=>{const T=v.el=p.el;let{patchFlag:R,dynamicChildren:_,dirs:N}=v;R|=p.patchFlag&16;const B=p.props||ce,$=v.props||ce;let K;M&&Nt(M,!1),(K=$.onVnodeBeforeUpdate)&&ct(K,M,v,p),N&&$t(v,p,M,"beforeUpdate"),M&&Nt(M,!0);const G=E&&v.type!=="foreignObject";if(_?z(p.dynamicChildren,_,T,M,S,G,A):k||ne(p,v,T,null,M,S,G,A,!1),R>0){if(R&16)X(T,v,B,$,M,S,E);else if(R&2&&B.class!==$.class&&s(T,"class",null,$.class,E),R&4&&s(T,"style",B.style,$.style,E),R&8){const oe=v.dynamicProps;for(let re=0;re<oe.length;re++){const ge=oe[re],Je=B[ge],oi=$[ge];(oi!==Je||ge==="value")&&s(T,ge,Je,oi,E,p.children,M,S,_e)}}R&1&&p.children!==v.children&&u(T,v.children)}else!k&&_==null&&X(T,v,B,$,M,S,E);((K=$.onVnodeUpdated)||N)&&Ae(()=>{K&&ct(K,M,v,p),N&&$t(v,p,M,"updated")},S)},z=(p,v,M,S,E,A,k)=>{for(let T=0;T<v.length;T++){const R=p[T],_=v[T],N=R.el&&(R.type===ve||!Xt(R,_)||R.shapeFlag&70)?h(R.el):M;g(R,_,N,null,S,E,A,k,!0)}},X=(p,v,M,S,E,A,k)=>{if(M!==S){if(M!==ce)for(const T in M)!zn(T)&&!(T in S)&&s(p,T,M[T],null,k,v.children,E,A,_e);for(const T in S){if(zn(T))continue;const R=S[T],_=M[T];R!==_&&T!=="value"&&s(p,T,_,R,k,v.children,E,A,_e)}"value"in S&&s(p,"value",M.value,S.value)}},I=(p,v,M,S,E,A,k,T,R)=>{const _=v.el=p?p.el:a(""),N=v.anchor=p?p.anchor:a("");let{patchFlag:B,dynamicChildren:$,slotScopeIds:K}=v;K&&(T=T?T.concat(K):K),p==null?(n(_,M,S),n(N,M,S),L(v.children,M,N,E,A,k,T,R)):B>0&&B&64&&$&&p.dynamicChildren?(z(p.dynamicChildren,$,M,E,A,k,T),(v.key!=null||E&&v===E.subTree)&&Rs(p,v,!0)):ne(p,v,M,N,E,A,k,T,R)},Y=(p,v,M,S,E,A,k,T,R)=>{v.slotScopeIds=T,p==null?v.shapeFlag&512?E.ctx.activate(v,M,S,k,R):pe(v,M,S,E,A,k,R):De(p,v,R)},pe=(p,v,M,S,E,A,k)=>{const T=p.component=_h(p,S,E);if(lr(p)&&(T.ctx.renderer=at),Ph(T),T.asyncDep){if(E&&E.registerDep(T,te),!p.el){const R=T.subTree=J(Ye);w(null,R,v,M)}return}te(T,p,v,M,E,A,k)},De=(p,v,M)=>{const S=v.component=p.component;if(ku(p,v,M))if(S.asyncDep&&!S.asyncResolved){Q(S,v,M);return}else S.next=v,Pu(S.update),S.update();else v.el=p.el,S.vnode=v},te=(p,v,M,S,E,A,k)=>{const T=()=>{if(p.isMounted){let{next:N,bu:B,u:$,parent:K,vnode:G}=p,oe=N,re;Nt(p,!1),N?(N.el=G.el,Q(p,N,k)):N=G,B&&xr(B),(re=N.props&&N.props.onVnodeBeforeUpdate)&&ct(re,K,N,G),Nt(p,!0);const ge=wr(p),Je=p.subTree;p.subTree=ge,g(Je,ge,h(Je.el),mt(Je),p,E,A),N.el=ge.el,oe===null&&Iu(p,ge.el),$&&Ae($,E),(re=N.props&&N.props.onVnodeUpdated)&&Ae(()=>ct(re,K,N,G),E)}else{let N;const{el:B,props:$}=v,{bm:K,m:G,parent:oe}=p,re=nn(v);if(Nt(p,!1),K&&xr(K),!re&&(N=$&&$.onVnodeBeforeMount)&&ct(N,oe,v),Nt(p,!0),B&&Ft){const ge=()=>{p.subTree=wr(p),Ft(B,p.subTree,p,E,null)};re?v.type.__asyncLoader().then(()=>!p.isUnmounted&&ge()):ge()}else{const ge=p.subTree=wr(p);g(null,ge,M,S,p,E,A),v.el=ge.el}if(G&&Ae(G,E),!re&&(N=$&&$.onVnodeMounted)){const ge=v;Ae(()=>ct(N,oe,ge),E)}(v.shapeFlag&256||oe&&nn(oe.vnode)&&oe.vnode.shapeFlag&256)&&p.a&&Ae(p.a,E),p.isMounted=!0,v=M=S=null}},R=p.effect=new bs(T,()=>Ps(_),p.scope),_=p.update=()=>R.run();_.id=p.uid,Nt(p,!0),_()},Q=(p,v,M)=>{v.component=p;const S=p.vnode.props;p.vnode=v,p.next=null,hh(p,v.props,S,M),ph(p,v.children,M),Ni(),qo(),ji()},ne=(p,v,M,S,E,A,k,T,R=!1)=>{const _=p&&p.children,N=p?p.shapeFlag:0,B=v.children,{patchFlag:$,shapeFlag:K}=v;if($>0){if($&128){gt(_,B,M,S,E,A,k,T,R);return}else if($&256){Se(_,B,M,S,E,A,k,T,R);return}}K&8?(N&16&&_e(_,E,A),B!==_&&u(M,B)):N&16?K&16?gt(_,B,M,S,E,A,k,T,R):_e(_,E,A,!0):(N&8&&u(M,""),K&16&&L(B,M,S,E,A,k,T,R))},Se=(p,v,M,S,E,A,k,T,R)=>{p=p||hi,v=v||hi;const _=p.length,N=v.length,B=Math.min(_,N);let $;for($=0;$<B;$++){const K=v[$]=R?Pt(v[$]):ut(v[$]);g(p[$],K,M,null,E,A,k,T,R)}_>N?_e(p,E,A,!0,!1,B):L(v,M,S,E,A,k,T,R,B)},gt=(p,v,M,S,E,A,k,T,R)=>{let _=0;const N=v.length;let B=p.length-1,$=N-1;for(;_<=B&&_<=$;){const K=p[_],G=v[_]=R?Pt(v[_]):ut(v[_]);if(Xt(K,G))g(K,G,M,null,E,A,k,T,R);else break;_++}for(;_<=B&&_<=$;){const K=p[B],G=v[$]=R?Pt(v[$]):ut(v[$]);if(Xt(K,G))g(K,G,M,null,E,A,k,T,R);else break;B--,$--}if(_>B){if(_<=$){const K=$+1,G=K<N?v[K].el:S;for(;_<=$;)g(null,v[_]=R?Pt(v[_]):ut(v[_]),M,G,E,A,k,T,R),_++}}else if(_>$)for(;_<=B;)we(p[_],E,A,!0),_++;else{const K=_,G=_,oe=new Map;for(_=G;_<=$;_++){const Be=v[_]=R?Pt(v[_]):ut(v[_]);Be.key!=null&&oe.set(Be.key,_)}let re,ge=0;const Je=$-G+1;let oi=!1,Do=0;const qi=new Array(Je);for(_=0;_<Je;_++)qi[_]=0;for(_=K;_<=B;_++){const Be=p[_];if(ge>=Je){we(Be,E,A,!0);continue}let lt;if(Be.key!=null)lt=oe.get(Be.key);else for(re=G;re<=$;re++)if(qi[re-G]===0&&Xt(Be,v[re])){lt=re;break}lt===void 0?we(Be,E,A,!0):(qi[lt-G]=_+1,lt>=Do?Do=lt:oi=!0,g(Be,v[lt],M,null,E,A,k,T,R),ge++)}const Bo=oi?vh(qi):hi;for(re=Bo.length-1,_=Je-1;_>=0;_--){const Be=G+_,lt=v[Be],Ho=Be+1<N?v[Be+1].el:S;qi[_]===0?g(null,lt,M,Ho,E,A,k,T,R):oi&&(re<0||_!==Bo[re]?Ge(lt,M,Ho,2):re--)}}},Ge=(p,v,M,S,E=null)=>{const{el:A,type:k,transition:T,children:R,shapeFlag:_}=p;if(_&6){Ge(p.component.subTree,v,M,S);return}if(_&128){p.suspense.move(v,M,S);return}if(_&64){k.move(p,v,M,at);return}if(k===ve){n(A,v,M);for(let B=0;B<R.length;B++)Ge(R[B],v,M,S);n(p.anchor,v,M);return}if(k===Er){P(p,v,M);return}if(S!==2&&_&1&&T)if(S===0)T.beforeEnter(A),n(A,v,M),Ae(()=>T.enter(A),E);else{const{leave:B,delayLeave:$,afterLeave:K}=T,G=()=>n(A,v,M),oe=()=>{B(A,()=>{G(),K&&K()})};$?$(A,G,oe):oe()}else n(A,v,M)},we=(p,v,M,S=!1,E=!1)=>{const{type:A,props:k,ref:T,children:R,dynamicChildren:_,shapeFlag:N,patchFlag:B,dirs:$}=p;if(T!=null&&Zr(T,null,M,p,!0),N&256){v.ctx.deactivate(p);return}const K=N&1&&$,G=!nn(p);let oe;if(G&&(oe=k&&k.onVnodeBeforeUnmount)&&ct(oe,v,p),N&6)st(p.component,M,S);else{if(N&128){p.suspense.unmount(M,S);return}K&&$t(p,null,v,"beforeUnmount"),N&64?p.type.remove(p,v,M,E,at,S):_&&(A!==ve||B>0&&B&64)?_e(_,v,M,!1,!0):(A===ve&&B&384||!E&&N&16)&&_e(R,v,M),S&&zt(p)}(G&&(oe=k&&k.onVnodeUnmounted)||K)&&Ae(()=>{oe&&ct(oe,v,p),K&&$t(p,null,v,"unmounted")},M)},zt=p=>{const{type:v,el:M,anchor:S,transition:E}=p;if(v===ve){Mt(M,S);return}if(v===Er){x(p);return}const A=()=>{r(M),E&&!E.persisted&&E.afterLeave&&E.afterLeave()};if(p.shapeFlag&1&&E&&!E.persisted){const{leave:k,delayLeave:T}=E,R=()=>k(M,A);T?T(p.el,A,R):R()}else A()},Mt=(p,v)=>{let M;for(;p!==v;)M=f(p),r(p),p=M;r(v)},st=(p,v,M)=>{const{bum:S,scope:E,update:A,subTree:k,um:T}=p;S&&xr(S),E.stop(),A&&(A.active=!1,we(k,p,v,M)),T&&Ae(T,v),Ae(()=>{p.isUnmounted=!0},v),v&&v.pendingBranch&&!v.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===v.pendingId&&(v.deps--,v.deps===0&&v.resolve())},_e=(p,v,M,S=!1,E=!1,A=0)=>{for(let k=A;k<p.length;k++)we(p[k],v,M,S,E)},mt=p=>p.shapeFlag&6?mt(p.component.subTree):p.shapeFlag&128?p.suspense.next():f(p.anchor||p.el),ot=(p,v,M)=>{p==null?v._vnode&&we(v._vnode,null,null,!0):g(v._vnode||null,p,v,null,null,null,M),qo(),_l(),v._vnode=p},at={p:g,um:we,m:Ge,r:zt,mt:pe,mc:L,pc:ne,pbc:z,n:mt,o:t};let Yi,Ft;return e&&([Yi,Ft]=e(at)),{render:ot,hydrate:Yi,createApp:ch(ot,Yi)}}function Nt({effect:t,update:e},i){t.allowRecurse=e.allowRecurse=i}function Rs(t,e,i=!1){const n=t.children,r=e.children;if(q(n)&&q(r))for(let s=0;s<n.length;s++){const o=n[s];let a=r[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[s]=Pt(r[s]),a.el=o.el),i||Rs(o,a)),a.type===hr&&(a.el=o.el)}}function vh(t){const e=t.slice(),i=[0];let n,r,s,o,a;const l=t.length;for(n=0;n<l;n++){const c=t[n];if(c!==0){if(r=i[i.length-1],t[r]<c){e[n]=r,i.push(n);continue}for(s=0,o=i.length-1;s<o;)a=s+o>>1,t[i[a]]<c?s=a+1:o=a;c<t[i[s]]&&(s>0&&(e[n]=i[s-1]),i[s]=n)}}for(s=i.length,o=i[s-1];s-- >0;)i[s]=o,o=e[o];return i}const yh=t=>t.__isTeleport,sn=t=>t&&(t.disabled||t.disabled===""),sa=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Gr=(t,e)=>{const i=t&&t.to;return fe(i)?e?e(i):null:i},bh={__isTeleport:!0,process(t,e,i,n,r,s,o,a,l,c){const{mc:u,pc:h,pbc:f,o:{insert:d,querySelector:y,createText:g,createComment:b}}=c,w=sn(e.props);let{shapeFlag:C,children:P,dynamicChildren:x}=e;if(t==null){const O=e.el=g(""),F=e.anchor=g("");d(O,i,n),d(F,i,n);const U=e.target=Gr(e.props,y),L=e.targetAnchor=g("");U&&(d(L,U),o=o||sa(U));const j=(z,X)=>{C&16&&u(P,z,X,r,s,o,a,l)};w?j(i,F):U&&j(U,L)}else{e.el=t.el;const O=e.anchor=t.anchor,F=e.target=t.target,U=e.targetAnchor=t.targetAnchor,L=sn(t.props),j=L?i:F,z=L?O:U;if(o=o||sa(F),x?(f(t.dynamicChildren,x,j,r,s,o,a),Rs(t,e,!0)):l||h(t,e,j,z,r,s,o,a,!1),w)L||Ln(e,i,O,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const X=e.target=Gr(e.props,y);X&&Ln(e,X,null,c,0)}else L&&Ln(e,F,U,c,1)}Kl(e)},remove(t,e,i,n,{um:r,o:{remove:s}},o){const{shapeFlag:a,children:l,anchor:c,targetAnchor:u,target:h,props:f}=t;if(h&&s(u),(o||!sn(f))&&(s(c),a&16))for(let d=0;d<l.length;d++){const y=l[d];r(y,e,i,!0,!!y.dynamicChildren)}},move:Ln,hydrate:xh};function Ln(t,e,i,{o:{insert:n},m:r},s=2){s===0&&n(t.targetAnchor,e,i);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=t,h=s===2;if(h&&n(o,e,i),(!h||sn(u))&&l&16)for(let f=0;f<c.length;f++)r(c[f],e,i,2);h&&n(a,e,i)}function xh(t,e,i,n,r,s,{o:{nextSibling:o,parentNode:a,querySelector:l}},c){const u=e.target=Gr(e.props,l);if(u){const h=u._lpa||u.firstChild;if(e.shapeFlag&16)if(sn(e.props))e.anchor=c(o(t),e,a(t),i,n,r,s),e.targetAnchor=h;else{e.anchor=o(t);let f=h;for(;f;)if(f=o(f),f&&f.nodeType===8&&f.data==="teleport anchor"){e.targetAnchor=f,u._lpa=e.targetAnchor&&o(e.targetAnchor);break}c(h,e,u,i,n,r,s)}Kl(e)}return e.anchor&&o(e.anchor)}const ql=bh;function Kl(t){const e=t.ctx;if(e&&e.ut){let i=t.children[0].el;for(;i!==t.targetAnchor;)i.nodeType===1&&i.setAttribute("data-v-owner",e.uid),i=i.nextSibling;e.ut()}}const ve=Symbol.for("v-fgt"),hr=Symbol.for("v-txt"),Ye=Symbol.for("v-cmt"),Er=Symbol.for("v-stc"),on=[];let it=null;function D(t=!1){on.push(it=t?null:[])}function wh(){on.pop(),it=on[on.length-1]||null}let dn=1;function oa(t){dn+=t}function Xl(t){return t.dynamicChildren=dn>0?it||hi:null,wh(),dn>0&&it&&it.push(t),t}function W(t,e,i,n,r,s){return Xl(H(t,e,i,n,r,s,!0))}function Te(t,e,i,n,r){return Xl(J(t,e,i,n,r,!0))}function Zn(t){return t?t.__v_isVNode===!0:!1}function Xt(t,e){return t.type===e.type&&t.key===e.key}const fr="__vInternal",Zl=({key:t})=>t??null,$n=({ref:t,ref_key:e,ref_for:i})=>(typeof t=="number"&&(t=""+t),t!=null?fe(t)||Ee(t)||Z(t)?{i:xe,r:t,k:e,f:!!i}:t:null);function H(t,e=null,i=null,n=0,r=null,s=t===ve?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Zl(e),ref:e&&$n(e),scopeId:Ol,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:xe};return a?(ks(l,i),s&128&&t.normalize(l)):i&&(l.shapeFlag|=fe(i)?8:16),dn>0&&!o&&it&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&it.push(l),l}const J=Ch;function Ch(t,e=null,i=null,n=0,r=null,s=!1){if((!t||t===Vl)&&(t=Ye),Zn(t)){const a=Dt(t,e,!0);return i&&ks(a,i),dn>0&&!s&&it&&(a.shapeFlag&6?it[it.indexOf(t)]=a:it.push(a)),a.patchFlag|=-2,a}if(Rh(t)&&(t=t.__vccOpts),e){e=Mh(e);let{class:a,style:l}=e;a&&!fe(a)&&(e.class=V(a)),ue(l)&&(yl(l)&&!q(l)&&(l=me({},l)),e.style=Ve(l))}const o=fe(t)?1:Du(t)?128:yh(t)?64:ue(t)?4:Z(t)?2:0;return H(t,e,i,n,r,o,s,!0)}function Mh(t){return t?yl(t)||fr in t?me({},t):t:null}function Dt(t,e,i=!1){const{props:n,ref:r,patchFlag:s,children:o}=t,a=e?Is(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&Zl(a),ref:e&&e.ref?i&&r?q(r)?r.concat($n(e)):[r,$n(e)]:$n(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ve?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Dt(t.ssContent),ssFallback:t.ssFallback&&Dt(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Ls(t=" ",e=0){return J(hr,null,t,e)}function Lt(t="",e=!1){return e?(D(),Te(Ye,null,t)):J(Ye,null,t)}function ut(t){return t==null||typeof t=="boolean"?J(Ye):q(t)?J(ve,null,t.slice()):typeof t=="object"?Pt(t):J(hr,null,String(t))}function Pt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Dt(t)}function ks(t,e){let i=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(q(e))i=16;else if(typeof e=="object")if(n&65){const r=e.default;r&&(r._c&&(r._d=!1),ks(t,r()),r._c&&(r._d=!0));return}else{i=32;const r=e._;!r&&!(fr in e)?e._ctx=xe:r===3&&xe&&(xe.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Z(e)?(e={default:e,_ctx:xe},i=32):(e=String(e),n&64?(i=16,e=[Ls(e)]):i=8);t.children=e,t.shapeFlag|=i}function Is(...t){const e={};for(let i=0;i<t.length;i++){const n=t[i];for(const r in n)if(r==="class")e.class!==n.class&&(e.class=V([e.class,n.class]));else if(r==="style")e.style=Ve([e.style,n.style]);else if(tr(r)){const s=e[r],o=n[r];o&&s!==o&&!(q(s)&&s.includes(o))&&(e[r]=s?[].concat(s,o):o)}else r!==""&&(e[r]=n[r])}return e}function ct(t,e,i,n=null){Ue(t,e,7,[i,n])}const Eh=$l();let Sh=0;function _h(t,e,i){const n=t.type,r=(e?e.appContext:t.appContext)||Eh,s={uid:Sh++,vnode:t,type:n,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new Uc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:jl(n,r),emitsOptions:Tl(n,r),emit:null,emitted:null,propsDefaults:ce,inheritAttrs:n.inheritAttrs,ctx:ce,data:ce,props:ce,attrs:ce,slots:ce,refs:ce,setupState:ce,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=Au.bind(null,s),t.ce&&t.ce(s),s}let ye=null;const xn=()=>ye||xe;let Ds,ai,aa="__VUE_INSTANCE_SETTERS__";(ai=Vr()[aa])||(ai=Vr()[aa]=[]),ai.push(t=>ye=t),Ds=t=>{ai.length>1?ai.forEach(e=>e(t)):ai[0](t)};const Bi=t=>{Ds(t),t.scope.on()},ei=()=>{ye&&ye.scope.off(),Ds(null)};function Gl(t){return t.vnode.shapeFlag&4}let pn=!1;function Ph(t,e=!1){pn=e;const{props:i,children:n}=t.vnode,r=Gl(t);uh(t,i,r,e),dh(t,n);const s=r?Th(t,e):void 0;return pn=!1,s}function Th(t,e){const i=t.type;t.accessCache=Object.create(null),t.proxy=Ii(new Proxy(t.ctx,eh));const{setup:n}=i;if(n){const r=t.setupContext=n.length>1?Ql(t):null;Bi(t),Ni();const s=Rt(n,t,0,[t.props,r]);if(ji(),ei(),il(s)){if(s.then(ei,ei),e)return s.then(o=>{la(t,o,e)}).catch(o=>{or(o,t,0)});t.asyncDep=s}else la(t,s,e)}else Jl(t,e)}function la(t,e,i){Z(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ue(e)&&(t.setupState=Cl(e)),Jl(t,i)}let ca;function Jl(t,e,i){const n=t.type;if(!t.render){if(!e&&ca&&!n.render){const r=n.template||Os(t).template;if(r){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=n,c=me(me({isCustomElement:s,delimiters:a},o),l);n.render=ca(r,c)}}t.render=n.render||nt}Bi(t),Ni(),nh(t),ji(),ei()}function Oh(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,i){return Ie(t,"get","$attrs"),e[i]}}))}function Ql(t){const e=i=>{t.exposed=i||{}};return{get attrs(){return Oh(t)},slots:t.slots,emit:t.emit,expose:e}}function dr(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Cl(Ii(t.exposed)),{get(e,i){if(i in e)return e[i];if(i in rn)return rn[i](t)},has(e,i){return i in e||i in rn}}))}function Ah(t,e=!0){return Z(t)?t.displayName||t.name:t.name||e&&t.__name}function Rh(t){return Z(t)&&"__vccOpts"in t}const Oe=(t,e)=>Eu(t,e,pn);function Lh(t,e,i){const n=arguments.length;return n===2?ue(e)&&!q(e)?Zn(e)?J(t,null,[e]):J(t,e):J(t,null,e):(n>3?i=Array.prototype.slice.call(arguments,2):n===3&&Zn(i)&&(i=[i]),J(t,e,i))}const kh=Symbol.for("v-scx"),Ih=()=>Qt(kh),Dh="3.3.4",Bh="http://www.w3.org/2000/svg",Zt=typeof document<"u"?document:null,ua=Zt&&Zt.createElement("template"),Hh={insert:(t,e,i)=>{e.insertBefore(t,i||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,i,n)=>{const r=e?Zt.createElementNS(Bh,t):Zt.createElement(t,i?{is:i}:void 0);return t==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:t=>Zt.createTextNode(t),createComment:t=>Zt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Zt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,i,n,r,s){const o=i?i.previousSibling:e.lastChild;if(r&&(r===s||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),i),!(r===s||!(r=r.nextSibling)););else{ua.innerHTML=n?`<svg>${t}</svg>`:t;const a=ua.content;if(n){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,i)}return[o?o.nextSibling:e.firstChild,i?i.previousSibling:e.lastChild]}};function Vh(t,e,i){const n=t._vtc;n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):i?t.setAttribute("class",e):t.className=e}function zh(t,e,i){const n=t.style,r=fe(i);if(i&&!r){if(e&&!fe(e))for(const s in e)i[s]==null&&Jr(n,s,"");for(const s in i)Jr(n,s,i[s])}else{const s=n.display;r?e!==i&&(n.cssText=i):e&&t.removeAttribute("style"),"_vod"in t&&(n.display=s)}}const ha=/\s*!important$/;function Jr(t,e,i){if(q(i))i.forEach(n=>Jr(t,e,n));else if(i==null&&(i=""),e.startsWith("--"))t.setProperty(e,i);else{const n=Fh(t,e);ha.test(i)?t.setProperty($i(n),i.replace(ha,""),"important"):t[n]=i}}const fa=["Webkit","Moz","ms"],Sr={};function Fh(t,e){const i=Sr[e];if(i)return i;let n=dt(e);if(n!=="filter"&&n in t)return Sr[e]=n;n=rr(n);for(let r=0;r<fa.length;r++){const s=fa[r]+n;if(s in t)return Sr[e]=s}return e}const da="http://www.w3.org/1999/xlink";function $h(t,e,i,n,r){if(n&&e.startsWith("xlink:"))i==null?t.removeAttributeNS(da,e.slice(6,e.length)):t.setAttributeNS(da,e,i);else{const s=Wc(e);i==null||s&&!sl(i)?t.removeAttribute(e):t.setAttribute(e,s?"":i)}}function Nh(t,e,i,n,r,s,o){if(e==="innerHTML"||e==="textContent"){n&&o(n,r,s),t[e]=i??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=i;const c=a==="OPTION"?t.getAttribute("value"):t.value,u=i??"";c!==u&&(t.value=u),i==null&&t.removeAttribute(e);return}let l=!1;if(i===""||i==null){const c=typeof t[e];c==="boolean"?i=sl(i):i==null&&c==="string"?(i="",l=!0):c==="number"&&(i=0,l=!0)}try{t[e]=i}catch{}l&&t.removeAttribute(e)}function jh(t,e,i,n){t.addEventListener(e,i,n)}function Wh(t,e,i,n){t.removeEventListener(e,i,n)}function Uh(t,e,i,n,r=null){const s=t._vei||(t._vei={}),o=s[e];if(n&&o)o.value=n;else{const[a,l]=Yh(e);if(n){const c=s[e]=Xh(n,r);jh(t,a,c,l)}else o&&(Wh(t,a,o,l),s[e]=void 0)}}const pa=/(?:Once|Passive|Capture)$/;function Yh(t){let e;if(pa.test(t)){e={};let n;for(;n=t.match(pa);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):$i(t.slice(2)),e]}let _r=0;const qh=Promise.resolve(),Kh=()=>_r||(qh.then(()=>_r=0),_r=Date.now());function Xh(t,e){const i=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=i.attached)return;Ue(Zh(n,i.value),e,5,[n])};return i.value=t,i.attached=Kh(),i}function Zh(t,e){if(q(e)){const i=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{i.call(t),t._stopped=!0},e.map(n=>r=>!r._stopped&&n&&n(r))}else return e}const ga=/^on[a-z]/,Gh=(t,e,i,n,r=!1,s,o,a,l)=>{e==="class"?Vh(t,n,r):e==="style"?zh(t,i,n):tr(e)?ps(e)||Uh(t,e,i,n,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Jh(t,e,n,r))?Nh(t,e,n,s,o,a,l):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),$h(t,e,n,r))};function Jh(t,e,i,n){return n?!!(e==="innerHTML"||e==="textContent"||e in t&&ga.test(e)&&Z(i)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||ga.test(e)&&fe(i)?!1:e in t}const St="transition",Ki="animation",Bs=(t,{slots:e})=>Lh($u,Qh(t),e);Bs.displayName="Transition";const ec={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Bs.props=me({},Ll,ec);const jt=(t,e=[])=>{q(t)?t.forEach(i=>i(...e)):t&&t(...e)},ma=t=>t?q(t)?t.some(e=>e.length>1):t.length>1:!1;function Qh(t){const e={};for(const I in t)I in ec||(e[I]=t[I]);if(t.css===!1)return e;const{name:i="v",type:n,duration:r,enterFromClass:s=`${i}-enter-from`,enterActiveClass:o=`${i}-enter-active`,enterToClass:a=`${i}-enter-to`,appearFromClass:l=s,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:h=`${i}-leave-from`,leaveActiveClass:f=`${i}-leave-active`,leaveToClass:d=`${i}-leave-to`}=t,y=ef(r),g=y&&y[0],b=y&&y[1],{onBeforeEnter:w,onEnter:C,onEnterCancelled:P,onLeave:x,onLeaveCancelled:O,onBeforeAppear:F=w,onAppear:U=C,onAppearCancelled:L=P}=e,j=(I,Y,pe)=>{Wt(I,Y?u:a),Wt(I,Y?c:o),pe&&pe()},z=(I,Y)=>{I._isLeaving=!1,Wt(I,h),Wt(I,d),Wt(I,f),Y&&Y()},X=I=>(Y,pe)=>{const De=I?U:C,te=()=>j(Y,I,pe);jt(De,[Y,te]),va(()=>{Wt(Y,I?l:s),_t(Y,I?u:a),ma(De)||ya(Y,n,g,te)})};return me(e,{onBeforeEnter(I){jt(w,[I]),_t(I,s),_t(I,o)},onBeforeAppear(I){jt(F,[I]),_t(I,l),_t(I,c)},onEnter:X(!1),onAppear:X(!0),onLeave(I,Y){I._isLeaving=!0;const pe=()=>z(I,Y);_t(I,h),rf(),_t(I,f),va(()=>{I._isLeaving&&(Wt(I,h),_t(I,d),ma(x)||ya(I,n,b,pe))}),jt(x,[I,pe])},onEnterCancelled(I){j(I,!1),jt(P,[I])},onAppearCancelled(I){j(I,!0),jt(L,[I])},onLeaveCancelled(I){z(I),jt(O,[I])}})}function ef(t){if(t==null)return null;if(ue(t))return[Pr(t.enter),Pr(t.leave)];{const e=Pr(t);return[e,e]}}function Pr(t){return Vc(t)}function _t(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.add(i)),(t._vtc||(t._vtc=new Set)).add(e)}function Wt(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const{_vtc:i}=t;i&&(i.delete(e),i.size||(t._vtc=void 0))}function va(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let tf=0;function ya(t,e,i,n){const r=t._endId=++tf,s=()=>{r===t._endId&&n()};if(i)return setTimeout(s,i);const{type:o,timeout:a,propCount:l}=nf(t,e);if(!o)return n();const c=o+"end";let u=0;const h=()=>{t.removeEventListener(c,f),s()},f=d=>{d.target===t&&++u>=l&&h()};setTimeout(()=>{u<l&&h()},a+1),t.addEventListener(c,f)}function nf(t,e){const i=window.getComputedStyle(t),n=y=>(i[y]||"").split(", "),r=n(`${St}Delay`),s=n(`${St}Duration`),o=ba(r,s),a=n(`${Ki}Delay`),l=n(`${Ki}Duration`),c=ba(a,l);let u=null,h=0,f=0;e===St?o>0&&(u=St,h=o,f=s.length):e===Ki?c>0&&(u=Ki,h=c,f=l.length):(h=Math.max(o,c),u=h>0?o>c?St:Ki:null,f=u?u===St?s.length:l.length:0);const d=u===St&&/\b(transform|all)(,|$)/.test(n(`${St}Property`).toString());return{type:u,timeout:h,propCount:f,hasTransform:d}}function ba(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((i,n)=>xa(i)+xa(t[n])))}function xa(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function rf(){return document.body.offsetHeight}const sf={beforeMount(t,{value:e},{transition:i}){t._vod=t.style.display==="none"?"":t.style.display,i&&e?i.beforeEnter(t):Xi(t,e)},mounted(t,{value:e},{transition:i}){i&&e&&i.enter(t)},updated(t,{value:e,oldValue:i},{transition:n}){!e!=!i&&(n?e?(n.beforeEnter(t),Xi(t,!0),n.enter(t)):n.leave(t,()=>{Xi(t,!1)}):Xi(t,e))},beforeUnmount(t,{value:e}){Xi(t,e)}};function Xi(t,e){t.style.display=e?t._vod:"none"}const of=me({patchProp:Gh},Hh);let wa;function af(){return wa||(wa=gh(of))}const lf=(...t)=>{const e=af().createApp(...t),{mount:i}=e;return e.mount=n=>{const r=cf(n);if(!r)return;const s=e._component;!Z(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.innerHTML="";const o=i(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function cf(t){return fe(t)?document.querySelector(t):t}var Re="top",Ke="bottom",Xe="right",Le="left",Hs="auto",wn=[Re,Ke,Xe,Le],Hi="start",gn="end",uf="clippingParents",tc="viewport",Zi="popper",hf="reference",Ca=wn.reduce(function(t,e){return t.concat([e+"-"+Hi,e+"-"+gn])},[]),ic=[].concat(wn,[Hs]).reduce(function(t,e){return t.concat([e,e+"-"+Hi,e+"-"+gn])},[]),ff="beforeRead",df="read",pf="afterRead",gf="beforeMain",mf="main",vf="afterMain",yf="beforeWrite",bf="write",xf="afterWrite",wf=[ff,df,pf,gf,mf,vf,yf,bf,xf];function pt(t){return t?(t.nodeName||"").toLowerCase():null}function Fe(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ri(t){var e=Fe(t).Element;return t instanceof e||t instanceof Element}function qe(t){var e=Fe(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Vs(t){if(typeof ShadowRoot>"u")return!1;var e=Fe(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Cf(t){var e=t.state;Object.keys(e.elements).forEach(function(i){var n=e.styles[i]||{},r=e.attributes[i]||{},s=e.elements[i];!qe(s)||!pt(s)||(Object.assign(s.style,n),Object.keys(r).forEach(function(o){var a=r[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function Mf(t){var e=t.state,i={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,i.popper),e.styles=i,e.elements.arrow&&Object.assign(e.elements.arrow.style,i.arrow),function(){Object.keys(e.elements).forEach(function(n){var r=e.elements[n],s=e.attributes[n]||{},o=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:i[n]),a=o.reduce(function(l,c){return l[c]="",l},{});!qe(r)||!pt(r)||(Object.assign(r.style,a),Object.keys(s).forEach(function(l){r.removeAttribute(l)}))})}}const Ef={name:"applyStyles",enabled:!0,phase:"write",fn:Cf,effect:Mf,requires:["computeStyles"]};function ft(t){return t.split("-")[0]}var ti=Math.max,Gn=Math.min,Vi=Math.round;function Qr(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function nc(){return!/^((?!chrome|android).)*safari/i.test(Qr())}function zi(t,e,i){e===void 0&&(e=!1),i===void 0&&(i=!1);var n=t.getBoundingClientRect(),r=1,s=1;e&&qe(t)&&(r=t.offsetWidth>0&&Vi(n.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Vi(n.height)/t.offsetHeight||1);var o=ri(t)?Fe(t):window,a=o.visualViewport,l=!nc()&&i,c=(n.left+(l&&a?a.offsetLeft:0))/r,u=(n.top+(l&&a?a.offsetTop:0))/s,h=n.width/r,f=n.height/s;return{width:h,height:f,top:u,right:c+h,bottom:u+f,left:c,x:c,y:u}}function zs(t){var e=zi(t),i=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-i)<=1&&(i=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:n}}function rc(t,e){var i=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(i&&Vs(i)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function wt(t){return Fe(t).getComputedStyle(t)}function Sf(t){return["table","td","th"].indexOf(pt(t))>=0}function Ht(t){return((ri(t)?t.ownerDocument:t.document)||window.document).documentElement}function pr(t){return pt(t)==="html"?t:t.assignedSlot||t.parentNode||(Vs(t)?t.host:null)||Ht(t)}function Ma(t){return!qe(t)||wt(t).position==="fixed"?null:t.offsetParent}function _f(t){var e=/firefox/i.test(Qr()),i=/Trident/i.test(Qr());if(i&&qe(t)){var n=wt(t);if(n.position==="fixed")return null}var r=pr(t);for(Vs(r)&&(r=r.host);qe(r)&&["html","body"].indexOf(pt(r))<0;){var s=wt(r);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return r;r=r.parentNode}return null}function Cn(t){for(var e=Fe(t),i=Ma(t);i&&Sf(i)&&wt(i).position==="static";)i=Ma(i);return i&&(pt(i)==="html"||pt(i)==="body"&&wt(i).position==="static")?e:i||_f(t)||e}function Fs(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function an(t,e,i){return ti(t,Gn(e,i))}function Pf(t,e,i){var n=an(t,e,i);return n>i?i:n}function sc(){return{top:0,right:0,bottom:0,left:0}}function oc(t){return Object.assign({},sc(),t)}function ac(t,e){return e.reduce(function(i,n){return i[n]=t,i},{})}var Tf=function(e,i){return e=typeof e=="function"?e(Object.assign({},i.rects,{placement:i.placement})):e,oc(typeof e!="number"?e:ac(e,wn))};function Of(t){var e,i=t.state,n=t.name,r=t.options,s=i.elements.arrow,o=i.modifiersData.popperOffsets,a=ft(i.placement),l=Fs(a),c=[Le,Xe].indexOf(a)>=0,u=c?"height":"width";if(!(!s||!o)){var h=Tf(r.padding,i),f=zs(s),d=l==="y"?Re:Le,y=l==="y"?Ke:Xe,g=i.rects.reference[u]+i.rects.reference[l]-o[l]-i.rects.popper[u],b=o[l]-i.rects.reference[l],w=Cn(s),C=w?l==="y"?w.clientHeight||0:w.clientWidth||0:0,P=g/2-b/2,x=h[d],O=C-f[u]-h[y],F=C/2-f[u]/2+P,U=an(x,F,O),L=l;i.modifiersData[n]=(e={},e[L]=U,e.centerOffset=U-F,e)}}function Af(t){var e=t.state,i=t.options,n=i.element,r=n===void 0?"[data-popper-arrow]":n;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||rc(e.elements.popper,r)&&(e.elements.arrow=r))}const Rf={name:"arrow",enabled:!0,phase:"main",fn:Of,effect:Af,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Fi(t){return t.split("-")[1]}var Lf={top:"auto",right:"auto",bottom:"auto",left:"auto"};function kf(t,e){var i=t.x,n=t.y,r=e.devicePixelRatio||1;return{x:Vi(i*r)/r||0,y:Vi(n*r)/r||0}}function Ea(t){var e,i=t.popper,n=t.popperRect,r=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,h=t.isFixed,f=o.x,d=f===void 0?0:f,y=o.y,g=y===void 0?0:y,b=typeof u=="function"?u({x:d,y:g}):{x:d,y:g};d=b.x,g=b.y;var w=o.hasOwnProperty("x"),C=o.hasOwnProperty("y"),P=Le,x=Re,O=window;if(c){var F=Cn(i),U="clientHeight",L="clientWidth";if(F===Fe(i)&&(F=Ht(i),wt(F).position!=="static"&&a==="absolute"&&(U="scrollHeight",L="scrollWidth")),F=F,r===Re||(r===Le||r===Xe)&&s===gn){x=Ke;var j=h&&F===O&&O.visualViewport?O.visualViewport.height:F[U];g-=j-n.height,g*=l?1:-1}if(r===Le||(r===Re||r===Ke)&&s===gn){P=Xe;var z=h&&F===O&&O.visualViewport?O.visualViewport.width:F[L];d-=z-n.width,d*=l?1:-1}}var X=Object.assign({position:a},c&&Lf),I=u===!0?kf({x:d,y:g},Fe(i)):{x:d,y:g};if(d=I.x,g=I.y,l){var Y;return Object.assign({},X,(Y={},Y[x]=C?"0":"",Y[P]=w?"0":"",Y.transform=(O.devicePixelRatio||1)<=1?"translate("+d+"px, "+g+"px)":"translate3d("+d+"px, "+g+"px, 0)",Y))}return Object.assign({},X,(e={},e[x]=C?g+"px":"",e[P]=w?d+"px":"",e.transform="",e))}function If(t){var e=t.state,i=t.options,n=i.gpuAcceleration,r=n===void 0?!0:n,s=i.adaptive,o=s===void 0?!0:s,a=i.roundOffsets,l=a===void 0?!0:a,c={placement:ft(e.placement),variation:Fi(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Ea(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Ea(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Df={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:If,data:{}};var kn={passive:!0};function Bf(t){var e=t.state,i=t.instance,n=t.options,r=n.scroll,s=r===void 0?!0:r,o=n.resize,a=o===void 0?!0:o,l=Fe(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",i.update,kn)}),a&&l.addEventListener("resize",i.update,kn),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",i.update,kn)}),a&&l.removeEventListener("resize",i.update,kn)}}const Hf={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Bf,data:{}};var Vf={left:"right",right:"left",bottom:"top",top:"bottom"};function Nn(t){return t.replace(/left|right|bottom|top/g,function(e){return Vf[e]})}var zf={start:"end",end:"start"};function Sa(t){return t.replace(/start|end/g,function(e){return zf[e]})}function $s(t){var e=Fe(t),i=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:i,scrollTop:n}}function Ns(t){return zi(Ht(t)).left+$s(t).scrollLeft}function Ff(t,e){var i=Fe(t),n=Ht(t),r=i.visualViewport,s=n.clientWidth,o=n.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;var c=nc();(c||!c&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a+Ns(t),y:l}}function $f(t){var e,i=Ht(t),n=$s(t),r=(e=t.ownerDocument)==null?void 0:e.body,s=ti(i.scrollWidth,i.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=ti(i.scrollHeight,i.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-n.scrollLeft+Ns(t),l=-n.scrollTop;return wt(r||i).direction==="rtl"&&(a+=ti(i.clientWidth,r?r.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function js(t){var e=wt(t),i=e.overflow,n=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(i+r+n)}function lc(t){return["html","body","#document"].indexOf(pt(t))>=0?t.ownerDocument.body:qe(t)&&js(t)?t:lc(pr(t))}function ln(t,e){var i;e===void 0&&(e=[]);var n=lc(t),r=n===((i=t.ownerDocument)==null?void 0:i.body),s=Fe(n),o=r?[s].concat(s.visualViewport||[],js(n)?n:[]):n,a=e.concat(o);return r?a:a.concat(ln(pr(o)))}function es(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Nf(t,e){var i=zi(t,!1,e==="fixed");return i.top=i.top+t.clientTop,i.left=i.left+t.clientLeft,i.bottom=i.top+t.clientHeight,i.right=i.left+t.clientWidth,i.width=t.clientWidth,i.height=t.clientHeight,i.x=i.left,i.y=i.top,i}function _a(t,e,i){return e===tc?es(Ff(t,i)):ri(e)?Nf(e,i):es($f(Ht(t)))}function jf(t){var e=ln(pr(t)),i=["absolute","fixed"].indexOf(wt(t).position)>=0,n=i&&qe(t)?Cn(t):t;return ri(n)?e.filter(function(r){return ri(r)&&rc(r,n)&&pt(r)!=="body"}):[]}function Wf(t,e,i,n){var r=e==="clippingParents"?jf(t):[].concat(e),s=[].concat(r,[i]),o=s[0],a=s.reduce(function(l,c){var u=_a(t,c,n);return l.top=ti(u.top,l.top),l.right=Gn(u.right,l.right),l.bottom=Gn(u.bottom,l.bottom),l.left=ti(u.left,l.left),l},_a(t,o,n));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function cc(t){var e=t.reference,i=t.element,n=t.placement,r=n?ft(n):null,s=n?Fi(n):null,o=e.x+e.width/2-i.width/2,a=e.y+e.height/2-i.height/2,l;switch(r){case Re:l={x:o,y:e.y-i.height};break;case Ke:l={x:o,y:e.y+e.height};break;case Xe:l={x:e.x+e.width,y:a};break;case Le:l={x:e.x-i.width,y:a};break;default:l={x:e.x,y:e.y}}var c=r?Fs(r):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case Hi:l[c]=l[c]-(e[u]/2-i[u]/2);break;case gn:l[c]=l[c]+(e[u]/2-i[u]/2);break}}return l}function mn(t,e){e===void 0&&(e={});var i=e,n=i.placement,r=n===void 0?t.placement:n,s=i.strategy,o=s===void 0?t.strategy:s,a=i.boundary,l=a===void 0?uf:a,c=i.rootBoundary,u=c===void 0?tc:c,h=i.elementContext,f=h===void 0?Zi:h,d=i.altBoundary,y=d===void 0?!1:d,g=i.padding,b=g===void 0?0:g,w=oc(typeof b!="number"?b:ac(b,wn)),C=f===Zi?hf:Zi,P=t.rects.popper,x=t.elements[y?C:f],O=Wf(ri(x)?x:x.contextElement||Ht(t.elements.popper),l,u,o),F=zi(t.elements.reference),U=cc({reference:F,element:P,strategy:"absolute",placement:r}),L=es(Object.assign({},P,U)),j=f===Zi?L:F,z={top:O.top-j.top+w.top,bottom:j.bottom-O.bottom+w.bottom,left:O.left-j.left+w.left,right:j.right-O.right+w.right},X=t.modifiersData.offset;if(f===Zi&&X){var I=X[r];Object.keys(z).forEach(function(Y){var pe=[Xe,Ke].indexOf(Y)>=0?1:-1,De=[Re,Ke].indexOf(Y)>=0?"y":"x";z[Y]+=I[De]*pe})}return z}function Uf(t,e){e===void 0&&(e={});var i=e,n=i.placement,r=i.boundary,s=i.rootBoundary,o=i.padding,a=i.flipVariations,l=i.allowedAutoPlacements,c=l===void 0?ic:l,u=Fi(n),h=u?a?Ca:Ca.filter(function(y){return Fi(y)===u}):wn,f=h.filter(function(y){return c.indexOf(y)>=0});f.length===0&&(f=h);var d=f.reduce(function(y,g){return y[g]=mn(t,{placement:g,boundary:r,rootBoundary:s,padding:o})[ft(g)],y},{});return Object.keys(d).sort(function(y,g){return d[y]-d[g]})}function Yf(t){if(ft(t)===Hs)return[];var e=Nn(t);return[Sa(t),e,Sa(e)]}function qf(t){var e=t.state,i=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var r=i.mainAxis,s=r===void 0?!0:r,o=i.altAxis,a=o===void 0?!0:o,l=i.fallbackPlacements,c=i.padding,u=i.boundary,h=i.rootBoundary,f=i.altBoundary,d=i.flipVariations,y=d===void 0?!0:d,g=i.allowedAutoPlacements,b=e.options.placement,w=ft(b),C=w===b,P=l||(C||!y?[Nn(b)]:Yf(b)),x=[b].concat(P).reduce(function(Mt,st){return Mt.concat(ft(st)===Hs?Uf(e,{placement:st,boundary:u,rootBoundary:h,padding:c,flipVariations:y,allowedAutoPlacements:g}):st)},[]),O=e.rects.reference,F=e.rects.popper,U=new Map,L=!0,j=x[0],z=0;z<x.length;z++){var X=x[z],I=ft(X),Y=Fi(X)===Hi,pe=[Re,Ke].indexOf(I)>=0,De=pe?"width":"height",te=mn(e,{placement:X,boundary:u,rootBoundary:h,altBoundary:f,padding:c}),Q=pe?Y?Xe:Le:Y?Ke:Re;O[De]>F[De]&&(Q=Nn(Q));var ne=Nn(Q),Se=[];if(s&&Se.push(te[I]<=0),a&&Se.push(te[Q]<=0,te[ne]<=0),Se.every(function(Mt){return Mt})){j=X,L=!1;break}U.set(X,Se)}if(L)for(var gt=y?3:1,Ge=function(st){var _e=x.find(function(mt){var ot=U.get(mt);if(ot)return ot.slice(0,st).every(function(at){return at})});if(_e)return j=_e,"break"},we=gt;we>0;we--){var zt=Ge(we);if(zt==="break")break}e.placement!==j&&(e.modifiersData[n]._skip=!0,e.placement=j,e.reset=!0)}}const Kf={name:"flip",enabled:!0,phase:"main",fn:qf,requiresIfExists:["offset"],data:{_skip:!1}};function Pa(t,e,i){return i===void 0&&(i={x:0,y:0}),{top:t.top-e.height-i.y,right:t.right-e.width+i.x,bottom:t.bottom-e.height+i.y,left:t.left-e.width-i.x}}function Ta(t){return[Re,Xe,Ke,Le].some(function(e){return t[e]>=0})}function Xf(t){var e=t.state,i=t.name,n=e.rects.reference,r=e.rects.popper,s=e.modifiersData.preventOverflow,o=mn(e,{elementContext:"reference"}),a=mn(e,{altBoundary:!0}),l=Pa(o,n),c=Pa(a,r,s),u=Ta(l),h=Ta(c);e.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}const Zf={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Xf};function Gf(t,e,i){var n=ft(t),r=[Le,Re].indexOf(n)>=0?-1:1,s=typeof i=="function"?i(Object.assign({},e,{placement:t})):i,o=s[0],a=s[1];return o=o||0,a=(a||0)*r,[Le,Xe].indexOf(n)>=0?{x:a,y:o}:{x:o,y:a}}function Jf(t){var e=t.state,i=t.options,n=t.name,r=i.offset,s=r===void 0?[0,0]:r,o=ic.reduce(function(u,h){return u[h]=Gf(h,e.rects,s),u},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[n]=o}const Qf={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Jf};function ed(t){var e=t.state,i=t.name;e.modifiersData[i]=cc({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const td={name:"popperOffsets",enabled:!0,phase:"read",fn:ed,data:{}};function id(t){return t==="x"?"y":"x"}function nd(t){var e=t.state,i=t.options,n=t.name,r=i.mainAxis,s=r===void 0?!0:r,o=i.altAxis,a=o===void 0?!1:o,l=i.boundary,c=i.rootBoundary,u=i.altBoundary,h=i.padding,f=i.tether,d=f===void 0?!0:f,y=i.tetherOffset,g=y===void 0?0:y,b=mn(e,{boundary:l,rootBoundary:c,padding:h,altBoundary:u}),w=ft(e.placement),C=Fi(e.placement),P=!C,x=Fs(w),O=id(x),F=e.modifiersData.popperOffsets,U=e.rects.reference,L=e.rects.popper,j=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,z=typeof j=="number"?{mainAxis:j,altAxis:j}:Object.assign({mainAxis:0,altAxis:0},j),X=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,I={x:0,y:0};if(F){if(s){var Y,pe=x==="y"?Re:Le,De=x==="y"?Ke:Xe,te=x==="y"?"height":"width",Q=F[x],ne=Q+b[pe],Se=Q-b[De],gt=d?-L[te]/2:0,Ge=C===Hi?U[te]:L[te],we=C===Hi?-L[te]:-U[te],zt=e.elements.arrow,Mt=d&&zt?zs(zt):{width:0,height:0},st=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:sc(),_e=st[pe],mt=st[De],ot=an(0,U[te],Mt[te]),at=P?U[te]/2-gt-ot-_e-z.mainAxis:Ge-ot-_e-z.mainAxis,Yi=P?-U[te]/2+gt+ot+mt+z.mainAxis:we+ot+mt+z.mainAxis,Ft=e.elements.arrow&&Cn(e.elements.arrow),p=Ft?x==="y"?Ft.clientTop||0:Ft.clientLeft||0:0,v=(Y=X==null?void 0:X[x])!=null?Y:0,M=Q+at-v-p,S=Q+Yi-v,E=an(d?Gn(ne,M):ne,Q,d?ti(Se,S):Se);F[x]=E,I[x]=E-Q}if(a){var A,k=x==="x"?Re:Le,T=x==="x"?Ke:Xe,R=F[O],_=O==="y"?"height":"width",N=R+b[k],B=R-b[T],$=[Re,Le].indexOf(w)!==-1,K=(A=X==null?void 0:X[O])!=null?A:0,G=$?N:R-U[_]-L[_]-K+z.altAxis,oe=$?R+U[_]+L[_]-K-z.altAxis:B,re=d&&$?Pf(G,R,oe):an(d?G:N,R,d?oe:B);F[O]=re,I[O]=re-R}e.modifiersData[n]=I}}const rd={name:"preventOverflow",enabled:!0,phase:"main",fn:nd,requiresIfExists:["offset"]};function sd(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function od(t){return t===Fe(t)||!qe(t)?$s(t):sd(t)}function ad(t){var e=t.getBoundingClientRect(),i=Vi(e.width)/t.offsetWidth||1,n=Vi(e.height)/t.offsetHeight||1;return i!==1||n!==1}function ld(t,e,i){i===void 0&&(i=!1);var n=qe(e),r=qe(e)&&ad(e),s=Ht(e),o=zi(t,r,i),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!i)&&((pt(e)!=="body"||js(s))&&(a=od(e)),qe(e)?(l=zi(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=Ns(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function cd(t){var e=new Map,i=new Set,n=[];t.forEach(function(s){e.set(s.name,s)});function r(s){i.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!i.has(a)){var l=e.get(a);l&&r(l)}}),n.push(s)}return t.forEach(function(s){i.has(s.name)||r(s)}),n}function ud(t){var e=cd(t);return wf.reduce(function(i,n){return i.concat(e.filter(function(r){return r.phase===n}))},[])}function hd(t){var e;return function(){return e||(e=new Promise(function(i){Promise.resolve().then(function(){e=void 0,i(t())})})),e}}function fd(t){var e=t.reduce(function(i,n){var r=i[n.name];return i[n.name]=r?Object.assign({},r,n,{options:Object.assign({},r.options,n.options),data:Object.assign({},r.data,n.data)}):n,i},{});return Object.keys(e).map(function(i){return e[i]})}var Oa={placement:"bottom",modifiers:[],strategy:"absolute"};function Aa(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function dd(t){t===void 0&&(t={});var e=t,i=e.defaultModifiers,n=i===void 0?[]:i,r=e.defaultOptions,s=r===void 0?Oa:r;return function(a,l,c){c===void 0&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Oa,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},h=[],f=!1,d={state:u,setOptions:function(w){var C=typeof w=="function"?w(u.options):w;g(),u.options=Object.assign({},s,u.options,C),u.scrollParents={reference:ri(a)?ln(a):a.contextElement?ln(a.contextElement):[],popper:ln(l)};var P=ud(fd([].concat(n,u.options.modifiers)));return u.orderedModifiers=P.filter(function(x){return x.enabled}),y(),d.update()},forceUpdate:function(){if(!f){var w=u.elements,C=w.reference,P=w.popper;if(Aa(C,P)){u.rects={reference:ld(C,Cn(P),u.options.strategy==="fixed"),popper:zs(P)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(z){return u.modifiersData[z.name]=Object.assign({},z.data)});for(var x=0;x<u.orderedModifiers.length;x++){if(u.reset===!0){u.reset=!1,x=-1;continue}var O=u.orderedModifiers[x],F=O.fn,U=O.options,L=U===void 0?{}:U,j=O.name;typeof F=="function"&&(u=F({state:u,options:L,name:j,instance:d})||u)}}}},update:hd(function(){return new Promise(function(b){d.forceUpdate(),b(u)})}),destroy:function(){g(),f=!0}};if(!Aa(a,l))return d;d.setOptions(c).then(function(b){!f&&c.onFirstUpdate&&c.onFirstUpdate(b)});function y(){u.orderedModifiers.forEach(function(b){var w=b.name,C=b.options,P=C===void 0?{}:C,x=b.effect;if(typeof x=="function"){var O=x({state:u,name:w,instance:d,options:P}),F=function(){};h.push(O||F)}})}function g(){h.forEach(function(b){return b()}),h=[]}return d}}var pd=[Hf,td,Df,Ef,Qf,Kf,rd,Rf,Zf],gd=dd({defaultModifiers:pd});function md(t){return al()?(qc(t),!0):!1}function uc(t){return typeof t=="function"?t():yt(t)}const hc=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const vd=Object.prototype.toString,yd=t=>vd.call(t)==="[object Object]",jn=()=>{},bd=xd();function xd(){var t,e;return hc&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function tn(t){var e;const i=uc(t);return(e=i==null?void 0:i.$el)!=null?e:i}const fc=hc?window:void 0;function Tr(...t){let e,i,n,r;if(typeof t[0]=="string"||Array.isArray(t[0])?([i,n,r]=t,e=fc):[e,i,n,r]=t,!e)return jn;Array.isArray(i)||(i=[i]),Array.isArray(n)||(n=[n]);const s=[],o=()=>{s.forEach(u=>u()),s.length=0},a=(u,h,f,d)=>(u.addEventListener(h,f,d),()=>u.removeEventListener(h,f,d)),l=ze(()=>[tn(e),uc(r)],([u,h])=>{if(o(),!u)return;const f=yd(h)?{...h}:h;s.push(...i.flatMap(d=>n.map(y=>a(u,d,y,f))))},{immediate:!0,flush:"post"}),c=()=>{l(),o()};return md(c),c}let Ra=!1;function wd(t,e,i={}){const{window:n=fc,ignore:r=[],capture:s=!0,detectIframe:o=!1}=i;if(!n)return jn;bd&&!Ra&&(Ra=!0,Array.from(n.document.body.children).forEach(f=>f.addEventListener("click",jn)),n.document.documentElement.addEventListener("click",jn));let a=!0;const l=f=>r.some(d=>{if(typeof d=="string")return Array.from(n.document.querySelectorAll(d)).some(y=>y===f.target||f.composedPath().includes(y));{const y=tn(d);return y&&(f.target===y||f.composedPath().includes(y))}}),u=[Tr(n,"click",f=>{const d=tn(t);if(!(!d||d===f.target||f.composedPath().includes(d))){if(f.detail===0&&(a=!l(f)),!a){a=!0;return}e(f)}},{passive:!0,capture:s}),Tr(n,"pointerdown",f=>{const d=tn(t);a=!l(f)&&!!(d&&!f.composedPath().includes(d))},{passive:!0}),o&&Tr(n,"blur",f=>{setTimeout(()=>{var d;const y=tn(t);((d=n.document.activeElement)==null?void 0:d.tagName)==="IFRAME"&&!(y!=null&&y.contains(n.document.activeElement))&&e(f)},0)})].filter(Boolean);return()=>u.forEach(f=>f())}var Cd="st",Md="is-",Ed="has-",Ut=(t,e,i,n,r)=>{let s=`${t}-${e}`;return i&&(s+=`-${i}`),n&&(s+=`__${n}`),r&&(s+=`--${r}`),s},de=t=>{let e=Cd;return{namespace:e,b:(i="")=>Ut(e,t,i,"",""),e:i=>i?Ut(e,t,"",i,""):"",m:i=>i?Ut(e,t,"","",i):"",be:(i,n)=>i&&n?Ut(e,t,i,n,""):"",em:(i,n)=>i&&n?Ut(e,t,"",i,n):"",bm:(i,n)=>i&&n?Ut(e,t,i,"",n):"",bem:(i,n,r)=>i&&n&&r?Ut(e,t,i,n,r):"",is:(i,...n)=>{let r=n.length>=1?n[0]:!0;return i&&r?`${Md}${i}`:""},has:(i,...n)=>{let r=n.length>=1?n[0]:!0;return i&&r?`${Ed}${i}`:""}}},le=class dc{constructor(e=1,i=0,n=0,r=1,s=0,o=0){m(this,"a");m(this,"b");m(this,"c");m(this,"d");m(this,"tx");m(this,"ty");this.a=e,this.b=i,this.c=n,this.d=r,this.tx=s,this.ty=o}set(e,i,n,r,s,o){return this.a=e,this.b=i,this.c=n,this.d=r,this.tx=s,this.ty=o,this}getArray(){return[this.a,this.b,this.c,this.d,this.tx,this.ty]}apply(e){let i=e.x,n=e.y;return{x:this.a*i+this.c*n+this.tx,y:this.b*i+this.d*n+this.ty}}applyInverse(e){let i=this.a,n=this.b,r=this.c,s=this.d,o=this.tx,a=this.ty,l=1/(i*s+r*-n),c=e.x,u=e.y;return{x:s*l*c+-r*l*u+(a*r-o*s)*l,y:i*l*u+-n*l*c+(-a*i+o*n)*l}}translate(e,i){return this.tx+=e,this.ty+=i,this}scale(e,i){return this.a*=e,this.d*=i,this.c*=e,this.b*=i,this.tx*=e,this.ty*=i,this}rotate(e){let i=Math.cos(e),n=Math.sin(e),r=this.a,s=this.c,o=this.tx;return this.a=r*i-this.b*n,this.b=r*n+this.b*i,this.c=s*i-this.d*n,this.d=s*n+this.d*i,this.tx=o*i-this.ty*n,this.ty=o*n+this.ty*i,this}append(e){let i=this.a,n=this.b,r=this.c,s=this.d;return this.a=e.a*i+e.b*r,this.b=e.a*n+e.b*s,this.c=e.c*i+e.d*r,this.d=e.c*n+e.d*s,this.tx=e.tx*i+e.ty*r+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this}appendFrom(e,i){let n=e.a,r=e.b,s=e.c,o=e.d,a=e.tx,l=e.ty,c=i.a,u=i.b,h=i.c,f=i.d;return this.a=n*c+r*h,this.b=n*u+r*f,this.c=s*c+o*h,this.d=s*u+o*f,this.tx=a*c+l*h+i.tx,this.ty=a*u+l*f+i.ty,this}prepend(e){let i=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){let n=this.a,r=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=r*e.a+this.d*e.c,this.d=r*e.b+this.d*e.d}return this.tx=i*e.a+this.ty*e.c+e.tx,this.ty=i*e.b+this.ty*e.d+e.ty,this}invert(){let e=this.a,i=this.b,n=this.c,r=this.d,s=this.tx,o=e*r-i*n;return this.a=r/o,this.b=-i/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-r*s)/o,this.ty=-(e*this.ty-i*s)/o,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){let e=new dc;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}equals(e){return e.a===this.a&&e.b===this.b&&e.c===this.c&&e.d===this.d&&e.tx===this.tx&&e.ty===this.ty}toString(){return`[Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}},La=(t,e)=>{let i=t[0],n=t[1],r=t[2],s=t[3];return[e[0]*i+e[1]*r,e[0]*n+e[1]*s,e[2]*i+e[3]*r,e[2]*n+e[3]*s,e[4]*i+e[5]*r+t[4],e[4]*n+e[5]*s+t[5]]},Sd=t=>{let e=t[0],i=t[1],n=t[2],r=t[3],s=t[4],o=e*r-i*n;return[r/o,-i/o,-n/o,e/o,(n*t[5]-r*s)/o,-(e*t[5]-i*s)/o]},_d=(t,e)=>({x:e.x*t[0]+e.y*t[2]+t[4],y:e.x*t[1]+e.y*t[3]+t[5]}),ts=(t,e)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),Bt=(t,e,i=0)=>(e=si(e,i),t.x>=e.x&&t.y>=e.y&&t.x<=e.width+e.x&&t.y<=e.height+e.y),Pd=(t,e,i,n=0)=>{let r=e.x-n,s=e.y-n,o=e.width+n*2,a=e.height+n*2;return t.x>=r&&t.y>=s&&t.x<=r+o&&t.y<=s+a?t.x<=r+i&&t.y<=s+i?(t.x-r-i)**2+(t.y-s-i)**2<=i**2:t.x>=r+o-i&&t.y<=s+i?(t.x-r-o+i)**2+(t.y-s-i)**2<=i**2:t.x>=r+o-i&&t.y>=s+a-i?(t.x-r-o+i)**2+(t.y-s-a+i)**2<=i**2:t.x<=r+i&&t.y>=s+a-i?(t.x-r-i)**2+(t.y-s-a+i)**2<=i**2:!0:!1},ka=(...t)=>{if(t.length===0)throw new Error("the count of rect can not be 0");let e=1/0,i=1/0,n=-1/0,r=-1/0;for(let s of t)e=Math.min(e,s.x),i=Math.min(i,s.y),n=Math.max(n,s.x+s.width),r=Math.max(r,s.y+s.height);return{x:e,y:i,width:n-e,height:r-i}},vn=(t,e)=>t.x<=e.x+e.width&&t.x+t.width>=e.x&&t.y<=e.y+e.height&&t.y+t.height>=e.y,si=(t,e)=>({x:t.x-e,y:t.y-e,width:t.width+e*2,height:t.height+e*2}),pc=(t,e,...i)=>{i=[t,e,...i];let n=Math.min(...i.map(a=>a.x)),r=Math.min(...i.map(a=>a.y)),s=Math.max(...i.map(a=>a.x)),o=Math.max(...i.map(a=>a.y));return{x:n,y:r,width:Math.abs(s-n),height:Math.abs(o-r)}},gc=(t=>(t.n="n",t.s="s",t.e="e",t.w="w",t.nw="nw",t.ne="ne",t.sw="sw",t.se="se",t))(gc||{}),Td={n:{getLocalOrigin:(t,e)=>({x:t/2,y:e}),getNewSize:(t,e,i,n=0)=>({width:i.width,height:e.y-t.y-n})},e:{getLocalOrigin:(t,e)=>({x:0,y:e/2}),getNewSize:(t,e,i,n=0)=>({width:t.x-e.x-n,height:i.height})},s:{getLocalOrigin:t=>({x:t/2,y:0}),getNewSize:(t,e,i,n=0)=>({width:i.width,height:t.y-e.y-n})},w:{getLocalOrigin:(t,e)=>({x:t,y:e/2}),getNewSize:(t,e,i,n=0)=>({width:e.x-t.x-n,height:i.height})},nw:{getLocalOrigin:(t,e)=>({x:t,y:e}),getNewSize:(t,e,i,n=0)=>({width:e.x-t.x-n,height:e.y-t.y-n})},ne:{getLocalOrigin:(t,e)=>({x:0,y:e}),getNewSize:(t,e,i,n=0)=>({width:t.x-e.x-n,height:e.y-t.y-n})},sw:{getLocalOrigin:t=>({x:t,y:0}),getNewSize:(t,e,i,n=0)=>({width:e.x-t.x-n,height:t.y-e.y-n})},se:{getLocalOrigin:()=>({x:0,y:0}),getNewSize:(t,e,i,n=0)=>({width:t.x-e.x-n,height:t.y-e.y-n})}},Ia=(t,e,i,n=0)=>{let r=Td[t],s=new le(...i.transform),o={width:0,height:0,transform:s.clone()},a=s.applyInverse(e),l=r.getLocalOrigin(i.width,i.height),c=r.getNewSize(a,l,i,n),u=new le;u.scale(c.width/i.width,c.height/i.height),o.width=i.width,o.height=i.height,o.transform=o.transform.append(u);let h=o.transform.apply(r.getLocalOrigin(o.width,o.height)),f=s.apply(l),d={x:f.x-h.x,y:f.y-h.y};o.transform.prepend(new le().translate(d.x,d.y));let y=Math.sign(c.width)||1,g=Math.sign(c.height)||1,b=new le().translate(-o.width/2,-o.height/2).scale(y,g).translate(o.width/2,o.height/2);return o.transform.append(b),{width:o.width,height:o.height,transform:o.transform.getArray()}},Od=t=>{let e=new le(t.transform[0],t.transform[1],t.transform[2],t.transform[3],0,0),i=e.apply({x:t.width,y:0}),n=e.apply({x:0,y:t.height}),r={x:0,y:0};return{width:ts(i,r),height:ts(n,r)}},Ad=t=>{let e=Od(t),i=e.width?t.width/e.width:1,n=e.height?t.height/e.height:1,r=new le().scale(i,n),s=new le(...t.transform).append(r);return{width:e.width,height:e.height,transform:s.getArray()}},Rd=(t,e)=>{let{x:i,y:n,width:r,height:s}=t,o=[{x:i,y:n},{x:i+r,y:n},{x:i+r,y:n+s},{x:i,y:n+s}];if(e){let a=new le(...e);o=o.map(l=>{let c=a.apply(l);return{x:c.x,y:c.y}})}return o},is=t=>({x:t.minX,y:t.minY,width:t.maxX-t.minX,height:t.maxY-t.minY}),mc=t=>{let e=1/0,i=1/0,n=-1/0,r=-1/0;for(let s of t)e=Math.min(e,s.x),i=Math.min(i,s.y),n=Math.max(n,s.x),r=Math.max(r,s.y);return{minX:e,minY:i,maxX:n,maxY:r}},vc=(t,e)=>{let i=0,n=0,r=t.width,s=t.height;e&&(i-=e,n-=e,r+=e*2,s+=e*2);let o=t.transform,a=Rd({x:i,y:n,width:r,height:s}).map(l=>_d(o,l));return mc(a)},yc=t=>{if(t.length===0)throw new Error("the count of boxes can not be 0");let e=1/0,i=1/0,n=-1/0,r=-1/0;for(let s of t)e=Math.min(e,s.minX),i=Math.min(i,s.minY),n=Math.max(n,s.maxX),r=Math.max(r,s.maxY);return{minX:e,minY:i,maxX:n,maxY:r}},ns=(t,e)=>{let i=t.x*e.x+t.y*e.y,n=Math.sqrt(t.x*t.x+t.y*t.y)*Math.sqrt(e.x*e.x+e.y*e.y),r=i/n;r>1?r=1:r<-1&&(r=-1);let s=Math.acos(r);return t.x*e.y-t.y*e.x<0&&(s=Math.PI*2-s),s},Ld=(t,e={x:0,y:-1})=>{let i=new le(t[0],t[1],t[2],t[3],0,0).apply(e);return ns(e,i)},kd=t=>t*(180/Math.PI),Id=t=>t*(Math.PI/180),gr=(t,e)=>t.map((i,n)=>i-e[n]),ci=(t,e)=>t.map((i,n)=>i+e[n]),Dd=(t,e)=>Math.hypot(...gr(e,t).map(Math.abs)),Da=(t,e)=>{let i=gr(e,t).map(Math.abs);return i[0]+i[1]},bc=t=>t.join(":"),Ba=t=>JSON.parse(JSON.stringify(t)),Jn=(t,e)=>{let i=t.map(n=>[...n]);return i[0]=ci(i[0],[-e,-e]),i[1]=ci(i[1],[e,-e]),i[2]=ci(i[2],[e,e]),i[3]=ci(i[3],[-e,e]),i},rs=(t,e)=>t[0]>=e[0][0]&&t[0]<=e[1][0]&&t[1]>=e[0][1]&&t[1]<=e[2][1],Bd=t=>{let e=new Map,i=[];return t.forEach(n=>{let r=bc(n);e.has(r)||(i.push(n),e.set(r,!0))}),i},Hd=t=>{let e=[];return t.forEach((i,n)=>{t.forEach((r,s)=>{n!==s&&(e.push([i[0],r[1]]),e.push([r[0],i[1]]))})}),e},Vd=(t,e,i)=>{let n=gr(e,t),r=!1;switch(i){case"top":r=n[0]<0;break;case"left":r=n[1]<0;break;case"right":r=n[1]>0;break;default:r=n[0]>0}return!r},Or={left:[0,-1],right:[0,1],top:[-1,0],bottom:[1,0]},zd={left:"right",top:"bottom",bottom:"top",right:"left"},ss=t=>zd[t],Fd=(t,e)=>{let i=Object.keys(Or);if(e){let n=i.filter(r=>r!==ss(t));return n.sort(r=>r===t?-1:1),n.map(r=>Or[r])}return i.sort((n,r)=>n===t?-1:1),i.map(n=>Or[n])},os=t=>t==="left"||t==="right",as=t=>{let e=[["left","right"],["top","bottom"]],i=[[...t].reverse(),t];return e.some(n=>i.some(r=>r[0]===n[0]&&r[1]===n[1]))},$d=(t,e,i,n,r)=>{if(!as([t.direction,e.direction]))return!1;let s=n.getGridPoint(i),o=n.getGridPoint(t.endpoint),a=n.getGridPoint(e.endpoint),l=[o[0],a[0]],c=[o[1],a[1]];[l,c].forEach(y=>{y.sort((g,b)=>g-b)});let u=os(t.direction),h=u?s[1]:s[0],f=u?c:l,d=y=>u?[s[0],y]:[y,s[1]];for(let y=h,g=h;y>=f[0]&&g<=f[1];y--,g++){let b=d(y),w=d(y+1),C=d(g),P=d(g-1);if(!n.isValid(b)||!n.isValid(w)||!n.isValid(C)||!n.isValid(P)||!r(n.getRealPoint(d(y)),n.getRealPoint(d(y+1)))||!r(n.getRealPoint(d(g)),n.getRealPoint(d(g-1))))return!1}return!0},Nd=(t,e)=>[t,e].map(i=>({...i,endpoint:i.origin.slice()})),jd=(t,e,i,n,r,s)=>n?e&&n?i.some(o=>e[o][s]>n[r[0]][s]&&e[o][s]<n[r[1]][s]):t[s]>n[r[0]][s]&&t[s]<n[r[1]][s]:!0,Wd=(t,e,i,n)=>{if(!t.box&&!e.box)return Nd(t,e);let r=[t,e].map(l=>Object.assign({...Ba(l),endpoint:Ba(l.origin)},l.box?{boundaryBox:Jn(l.box,i),originBoundaryBox:Jn(l.box,i)}:{})),s={top:-1,left:-1,right:1,bottom:1},o={top:[[0,1],[3,2]],left:[[0,3],[1,2]],right:[[1,2],[0,3]],bottom:[[3,2],[0,1]]};if(n)return r.forEach(({direction:l,endpoint:c,origin:u})=>{let h=s[l],f=os(l)?0:1;c[f]=u[f]+i*h}),r;let a=Object.keys(s);return r.forEach(({box:l,direction:c,endpoint:u,origin:h,boundaryBox:f,originBoundaryBox:d},y)=>{a.forEach(g=>{let b=o[g],w=r[(y+1)%2],[C,P]=b,x=s[g],O=os(g)?0:1,F=O===0?1:0,U=jd(h,d,C,w.originBoundaryBox,P,F),L=l?l[C[0]]:h,j=w.box?w.box[P[0]][O]-L[O]:w.origin[O]-L[O],z=j>0?1:-1,X=Math.abs(j)/2,I=z===x&&Math.abs(j)<i*2;U&&I?(l&&f&&C.forEach(Y=>{f[Y][O]=l[Y][O]+x*X}),w.box&&P.forEach(Y=>{w.boundaryBox[Y][O]=w.box[Y][O]+x*X*-1}),g===c&&(u[O]=h[O]+x*X)):g===c&&(u[O]=h[O]+i*x)})}),r},ii,Ud=(ii=class{constructor(e,i){m(this,"grid");m(this,"points");m(this,"pointMap");m(this,"costs",[]);m(this,"xAxis",[]);m(this,"yAxis",[]);m(this,"params");this.points=e,this.grid=[],this.pointMap=[],this.params=i,this.setup()}setup(){let{getCost:e}=this.params||{},i=this.points,n=new Set,r=new Set;i.forEach(f=>{n.add(f[0]),r.add(f[1])});let s=r.size,o=n.size,a=Array.from(n.values()),l=Array.from(r.values());a.sort((f,d)=>f-d),l.sort((f,d)=>f-d);let c=Array.from({length:s},()=>new Array(o).fill(0)),u=Array.from({length:s},()=>new Array(o).fill(ii.basicCost)),h=Array.from({length:s},()=>new Array(o));for(let f=0;f<s;f++)for(let d=0;d<o;d++)h[f][d]=[a[d],l[f]],c[f][d]=!0,e&&(u[f][d]=e(h[f][d],ii.basicCost));this.grid=c,this.pointMap=h,this.yAxis=l,this.xAxis=a,this.costs=u}getGridPoint(e){return[this.yAxis.indexOf(e[1]),this.xAxis.indexOf(e[0])]}getRealPoint(e){return this.pointMap[e[0]][e[1]]}getWalkable(e,i){let{getWalkable:n}=this.params||{};return this.isValid(i)&&(n?n(this.getRealPoint(e),this.getRealPoint(i)):!0)}getCost(e){return this.costs[e[0]][e[1]]}isValid(e){let i=this.grid.length,n=this.grid[0].length;return e[0]>=0&&e[0]<i&&e[1]>=0&&e[1]<n}},m(ii,"basicCost",1),ii),Yd=Ud,qd=t=>{if(t.length<3)return t;var e=[],i=t[0][0],n=t[0][1],r=t[1][0],s=t[1][1],o=r-i,a=s-n,l,c,u,h,f,d;for(f=Math.sqrt(o*o+a*a),o/=f,a/=f,e.push([i,n]),d=2;d<t.length;d++)l=r,c=s,u=o,h=a,r=t[d][0],s=t[d][1],o=r-l,a=s-c,f=Math.sqrt(o*o+a*a),o/=f,a/=f,(o!==u||a!==h)&&e.push([l,c]);return e.push([r,s]),e};function In(t,e,i,n){var r=(n[0]-i[0])*(t[1]-i[1])-(n[1]-i[1])*(t[0]-i[0]),s=(e[0]-t[0])*(t[1]-i[1])-(e[1]-t[1])*(t[0]-i[0]),o=(n[1]-i[1])*(e[0]-t[0])-(n[0]-i[0])*(e[1]-t[1]);if(o!==0){var a=r/o,l=s/o;if(0<=a&&a<=1&&0<=l&&l<=1)return!0}return!1}var Qn=(t,e,i)=>{let[n,r,s,o]=i;return!!(In(t,e,n,r)||In(t,e,r,s)||In(t,e,s,o)||In(t,e,o,n))},Kd=(t,e)=>t.some((i,n)=>Qn(t[n],t[(n+1)%4],e))||e.some((i,n)=>Qn(e[n],e[(n+1)%4],t)),Xd=(t,e,i)=>{let n=t[0]*e[1]-t[1]*e[0]+e[0]*i[1]-e[1]*i[0]+i[0]*t[1]-i[1]*t[0],r=Dd(t,e);return Math.abs(n/r)<=0},Ha=t=>{if(t.length<3)return 0;let e=0;for(let i=1;i<t.length-1;i++)Xd(t[i-1],t[i+1],t[i])||e++;return e},Zd=(t,e)=>ci(t,e).map(i=>Math.round(i/2)),Gd=class{},Jd=class{constructor(){m(this,"heap");this.heap=[null]}peek(){return this.heap[1]}remove(){this.swap(1,this.heap.length-1),this.heap.pop(),this.sink(1)}add(t){this.heap.push(t),this.swim()}clear(){this.heap=[null]}sink(t){let e=this.heap.length-1,i=0;for(;t*2<=e&&(i=t*2,i+1<=e&&this.heap[i].compare(this.heap[i+1])>0&&i++,this.heap[t].compare(this.heap[i])>0);)this.swap(t,i),t=i}swim(){let t=this.heap.length-1,e=0;for(;t>1&&(e=t>>1,this.heap[t].compare(this.heap[e])<0);)this.swap(t,e),t=e}swap(t,e){let i=this.heap[t];this.heap[t]=this.heap[e],this.heap[e]=i}},Qd=Jd,ep=class extends Gd{constructor(e,i=0,n=null){super();m(this,"G");m(this,"H");m(this,"parent");m(this,"xy");m(this,"key");m(this,"F");this.G=i,this.H=0,this.parent=n,this.xy=e,this.key=bc(e),this.F=i}setParent(e){this.parent=e}setG(e){this.G=e,this.F=this.H+this.G}setH(e){this.H=e,this.F=this.H+this.G}compare(e){return this.F-e.F}},Ar=ep,Gi=new Qd,Rr=new Map,li=new Map,Va=(t,e)=>{let i=gr(e,t);return i[0]===0?i[1]>0?"bottom":"top":i[0]>0?"right":"left"};function tp(t,e,i,n,r,s,o){let a=t.getGridPoint(e),l=t.getGridPoint(i),c=new Ar(a),u=new Ar(l),h=[],f=!0,d=0;for(Gi.add(c),li.set(c.key,c);li.size;){let y=Gi.peek(),g=y.xy;if(Gi.remove(),li.delete(y.key),y.key===u.key){if(y.parent&&!Vd(y.parent.xy,g,r))continue;let C=y;for(;C;)h.unshift(t.getRealPoint(C.xy)),C=C.parent;d=y.G;break}Rr.set(y.key,y);let b=Fd(n,f),w=o!==void 0&&f?b.slice(o,o+1):b;f=!1,w.forEach(([C,P])=>{let x=ci(g,[C,P]),O=new Ar(x);if(!Rr.has(O.key)&&t.getWalkable(g,x)){let F=li.get(O.key),U=Va(g,x),L=y.parent?Va(y.parent.xy,g):null,j=L!==null&&L!==U,z=y.G+t.getCost(x)+(j?.02:0),X=s(x,t);O.setG(z),O.setH(X),F?O.G<F.G&&(F.setG(z),F.setParent(y)):(O.setParent(y),Gi.add(O),li.set(O.key,O))}})}return Gi.clear(),li.clear(),Rr.clear(),{path:qd(h),grid:t,G:d}}var za=tp,ip=(t,{startInfo:e,endInfo:i,waypoint:n,isCovered:r,checkWaypointWalkable:s})=>{let o=n&&$d(e,i,n,t,s),a=(f,d)=>{let y=Da(f,d.getGridPoint(i.endpoint));return o?y+Da(f,d.getGridPoint(n)):y};if(r){let f=za(t,e.endpoint,i.endpoint,e.direction,i.direction,a);return f.path.push(i.origin),f.path.unshift(e.origin),f}let l=[0,1,2,4].map(f=>za(t,e.endpoint,i.endpoint,e.direction,i.direction,a,f)).filter(f=>f.path.length),c=null,u=1/0,h=1/0;return l.forEach(f=>{let d=[...f.path];d.push(i.origin),d.unshift(e.origin);let y=Ha(f.path),g=Ha(d);(y<u||y===u&&g<h||y===u&&g===h&&f.G<c.G)&&(u=y,h=g,c=f)}),c||(c={grid:t,path:[],G:1/0},console.warn("Path not found")),c.path.push(i.origin),c.path.unshift(e.origin),c},np=ip,rp=(t,e,i)=>{let n=t.box&&e.box?Kd(t.box,e.box):!1,r=[[t.origin,e.box],[e.origin,t.box]].filter(h=>h[1]).every(([h,f])=>rs(h,f)),[s,o]=Wd(t,e,i,r),a=Zd(s.endpoint,o.endpoint),l=[[s.endpoint[0],a[1]],[o.endpoint[0],a[1]],[a[0],s.endpoint[1]],[a[0],o.endpoint[1]],a],c=a,u=[s.endpoint,o.endpoint,...l];return r||u.push(...s.boundaryBox??[],...o.boundaryBox??[]),{isIntersect:n,isCovered:r,startInfo:s,endInfo:o,allPoints:Bd(Hd(u)),waypoint:c}},sp=(t,e,i)=>{let{isCovered:n,isIntersect:r,startInfo:s,endInfo:o,allPoints:a,waypoint:l}=rp(t,e,i),c=[s.boundaryBox&&Jn(s.boundaryBox,-1),o.boundaryBox&&Jn(o.boundaryBox,-1)].filter(Boolean),u=[s.box,o.box].filter(Boolean),h=r?!n&&as([s.direction,o.direction])?2:0:5,f=c.length===2?!r:!n,d=new Yd(a,{getCost(g,b){let w=[0,1].reduce((C,P)=>u[P]&&rs(g,u[P])?C+2:c[P]&&rs(g,c[P])?C+1:C,0);return b+w*h},getWalkable(g,b){return f?c.every(w=>!Qn(g,b,w)):!0}}),y=np(d,{startInfo:s,endInfo:o,isCovered:n,waypoint:as([s.direction,o.direction])?l:void 0,checkWaypointWalkable:(g,b)=>n||!b?!0:c.every(w=>!Qn(g,b,w))});return{path:y,points:y.grid.points,boxs:[{box:s.boundaryBox},{box:o.boundaryBox}]}},Fa=t=>[t.x,t.y],$a=t=>{let{x:e,y:i,width:n,height:r}=t;return[[e,i],[e+n,i],[e+n,i+r],[e,i+r]]},Na=t=>({x:t[0],y:t[1]}),ls=t=>{let e=Math.atan2(Math.abs(t[1]),Math.abs(t[0]))/Math.PI*180,i=e,n=45;t[0]<0?i=t[1]>=0?180-e:180+e:i=t[1]>=0?e:360-e;let r;return i<=n||i>360-n?r="left":i>n&&i<=180-n?r="top":i>180-n&&i<=180+n?r="right":r="bottom",r},op=(t,e,i)=>{let n=sp({box:t.rect?$a(t.rect):void 0,origin:Fa(t.origin),direction:t.direction},{box:e.rect?$a(e.rect):void 0,origin:Fa(e.origin),direction:e.direction},i);return{controlPoints:n.path.path.map(Na),mapPoints:n.points.map(Na)}};function ap({x:t,y:e},i,n,r=0){return i+=r,n+=r,i===n?t*t+e*e<=i*i:t*t/(i*i)+e*e/(n*n)<=1}function lp(t,[e,i]){let n={x:e.x-t.x,y:e.y-t.y};i.x-t.x,i.y-t.y;let r={x:i.x-e.x,y:i.y-e.y},s=n.x*r.y-n.y*r.x;if(Math.abs(s)>Number.EPSILON)return!1;let o=n.x*r.x+n.y*r.y;if(o<0)return!1;let a=r.x*r.x+r.y*r.y;return!(o>a)}function cp(t,[e,i]){let n=((t.x-e.x)*(i.x-e.x)+(t.y-e.y)*(i.y-e.y))/((i.x-e.x)**2+(i.y-e.y)**2);return n=Math.max(0,Math.min(1,n)),{x:e.x+n*(i.x-e.x),y:e.y+n*(i.y-e.y)}}function up(t){if(t.length<2)return[];let e=[];for(let i=0;i<t.length-1;i++)e.push([t[i],t[i+1]]);return e}function hp(t,[e,i],n){if(n===0)return lp(t,[e,i]);let r=cp(t,[e,i]);return ts(t,r)<=n/2}function fp(t,e,i){return e.some(n=>hp(t,n,i))}function dp({x:t,y:e},i,n,r=0){i+=r,n+=r;let s=Math.abs(t*n)+Math.abs(e*i),o=i*n*.5;return s<=o}var rt=class{constructor(){m(this,"eventMap",new Map);m(this,"eventMapCache",new Map)}on(t,e){return this.eventMap.has(t)||this.eventMap.set(t,[]),this.eventMap.get(t).push(e),this}emit(t,...e){let i=this.eventMap.get(t);return!i||i.length===0?!1:(i.forEach(n=>{n(...e)}),!0)}off(t,e){if(this.eventMap.has(t)){let i=this.eventMap.get(t).filter(n=>n!==e);i.length?this.eventMap.set(t,i):this.eventMap.delete(t)}return this}clear(){this.eventMapCache.clear();let t=this.eventMap.entries();for(let[e,i]of t)this.eventMapCache.set(e,i);this.eventMap.clear()}reset(){this.eventMap.clear();let t=this.eventMapCache.entries();for(let[e,i]of t)this.eventMap.set(e,i)}};function pp(...t){console.warn(...t)}var be=[];for(Dn=0;Dn<256;++Dn)be.push((Dn+256).toString(16).slice(1));var Dn;function gp(t,e=0){return(be[t[e+0]]+be[t[e+1]]+be[t[e+2]]+be[t[e+3]]+"-"+be[t[e+4]]+be[t[e+5]]+"-"+be[t[e+6]]+be[t[e+7]]+"-"+be[t[e+8]]+be[t[e+9]]+"-"+be[t[e+10]]+be[t[e+11]]+be[t[e+12]]+be[t[e+13]]+be[t[e+14]]+be[t[e+15]]).toLowerCase()}var Bn,mp=new Uint8Array(16);function vp(){if(!Bn&&(Bn=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Bn))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Bn(mp)}var yp=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),ja={randomUUID:yp};function bp(t,e,i){if(ja.randomUUID&&!e&&!t)return ja.randomUUID();t=t||{};var n=t.random||(t.rng||vp)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){i=i||0;for(var r=0;r<16;++r)e[i+r]=n[r];return e}return gp(n)}var xp=bp;function Ui(){return xp()}function ui(){return window.devicePixelRatio||1}function Lr(t,e,i){let n=ui();t.width=e*n,t.height=i*n,t.style.width=`${e}px`,t.style.height=`${i}px`}function kt(t){t.setLineDash([]),t.lineDashOffset=0,t.lineCap="butt",t.lineJoin="miter"}var wp=/(\n|\r|\r\n)/;function cs(t,e,i,n){if(!i)return;let r=[],{width:s,height:o}=e,{fontSize:a,fontFamily:l,lineHeight:c}=n,u=a*c;t.font=`${a}px ${l}`;let h=0,f="";for(let w=0;w<i.length;w++){let C=i[w];if(wp.test(C))r.push({text:f,width:h}),h=0,f="";else{let P=t.measureText(C).width;h+P>s?(r.push({text:f,width:h}),f=C,h=P):(h+=P,f+=C)}}r.push({text:f,width:h});let d=e.y+o/2,y=e.x+s/2,g=r.length*u,b=d-g/2;t.textAlign="left",t.textBaseline="middle",t.fillStyle=n.color,r.forEach((w,C)=>{let P=y-w.width/2,x=b+u*C+u/2;t.beginPath(),t.fillText(w.text,P,x)})}function xc(t,e){let i=t.indexOf(e);i>-1&&t.splice(i,1)}var yn=t=>typeof t=="number"?t:(t=Number(t),isNaN(t)?0:t),us=t=>Math.round(yn(t))|0,Vt=(t,e)=>{let i=!1,n=e.pageX,r=e.pageY,s=a=>{var u,h;let l=a.pageX-n,c=a.pageY-r;i||(i=!0,(u=t.onDragStart)==null||u.call(t,a)),(h=t.onDragMove)==null||h.call(t,a,[l,c])},o=a=>{var l,c;(l=t.onUp)==null||l.call(t,a),i&&((c=t.onDragEnd)==null||c.call(t,a)),window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",o),window.removeEventListener("mouseleave",o)};window.addEventListener("mousemove",s),window.addEventListener("mouseup",o),window.addEventListener("mouseleave",o)},Cp=(t,e)=>{let i=t;for(;i;){if(e(i))return i;i=i.parentElement}return null},Mp=class{constructor(){m(this,"started",!1);m(this,"animations",[]);m(this,"tick",()=>{this.animations=this.animations.filter(t=>t.status==="running"),this.animations.length&&(this.animations.forEach(t=>t.run()),requestAnimationFrame(this.tick))})}add(t){this.animations.includes(t)||this.animations.push(t)}start(){this.started||requestAnimationFrame(this.tick)}},Ep=class{constructor(t,e){m(this,"startValue");m(this,"endValue");m(this,"duration");m(this,"startTime",Date.now());m(this,"status","stopped");this.manager=t,this.options=e,this.startValue=e.startValue,this.endValue=e.endValue,this.duration=e.duration}start(){this.startTime=Date.now(),this.status="running",this.manager.add(this),this.manager.start()}stop(){this.status="stopped"}run(){var n,r;let t=this.endValue-this.startValue,e=Date.now()-this.startTime;e>this.duration&&(e=this.duration,this.options.loop?this.startTime=Date.now():this.status="stopped");let i=this.startValue+t*e/this.duration;this.options.onUpdate(i),e===this.duration&&((r=(n=this.options).onEnd)==null||r.call(n))}},kr=null;function wc(t){return kr||(kr=new Mp),new Ep(kr,t)}function Cc(t){if(t===null||typeof t!="object")return t;let e=Array.isArray(t)?[]:{};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=Cc(t[i]));return e}function Wa(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Ua(t){return t!==null&&typeof t=="object"}function Mc(t,e,i=new WeakMap){if(!Ua(t)||!Ua(e))return t===e;if(t===e)return!0;if(Object.prototype.toString.call(t)!==Object.prototype.toString.call(e))return!1;if(i.has(t)||i.has(e))return!0;i.set(t,e);let n=[...Object.keys(t),...Object.getOwnPropertySymbols(t)],r=[...Object.keys(e),...Object.getOwnPropertySymbols(e)];if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s]!==r[s]||!Mc(t[n[s]],e[r[s]],i))return!1;return!0}function er(t,e){return Mc(t,e)}var Sp=class extends rt{constructor(e){super();m(this,"modelList",[]);m(this,"modelMap",new Map);this.name=e}addModel(e){this.modelMap.has(e.id)||(this.modelList.push(e),this.modelMap.set(e.id,e),this.emit("addModel",e))}removeModel(e){this.modelMap.has(e.id)&&(this.modelList=this.modelList.filter(i=>i.id!==e.id),this.modelMap.delete(e.id),this.emit("removeModel",e),e.dispose())}dispose(){this.clear()}},_p=class extends rt{constructor(){super();m(this,"modelList",[]);m(this,"modelMap",new Map);m(this,"layerList",[]);m(this,"layerMap",new Map);let e=new Sp("default");this.addLayer(e)}addLayer(e){if(e.modelList.length>0){pp("!");return}this.layerMap.has(e.name)||(this.layerList.push(e),this.layerMap.set(e.name,e))}removeLayer(e){let i=this.getLayer(e);i&&i.name!=="default"&&(this.layerList=this.layerList.filter(n=>n.name!==e),this.layerMap.delete(e),i.modelList.forEach(n=>{this.modelList=this.modelList.filter(r=>r.id!==n.id),this.modelMap.delete(n.id)}),this.emit("remove-models",i.modelList),this.emit("change",i.modelList),i.dispose())}getLayer(e){return this.layerMap.get(e)||null}getDefaultLayer(){return this.getLayer("default")}_addModels(e){e.forEach(i=>{let n=i.getLayerId(),r=this.getLayer(n);r||(r=this.getDefaultLayer(),i.setLayerId("default")),i.on("change",()=>{this.emit("change",[i])}),this.modelMap.set(i.id,i),this.modelList.push(i),r.addModel(i)})}addModel(e){this._addModels([e]),this.emit("add-models",[e]),this.emit("change",[e])}addModels(e){this._addModels(e),this.emit("add-models",e),this.emit("change",e)}_removeModels(e){e.forEach(i=>{if(!this.modelMap.has(i.id))return;let n=i.getLayerId(),r=this.getLayer(n);r&&(r.removeModel(i),this.modelMap.delete(i.id),xc(this.modelList,i))})}removeModel(e){this._removeModels([e]),this.emit("remove-models",[e]),this.emit("change",[e])}removeModels(e){this._removeModels(e),this.emit("remove-models",e),this.emit("change",e)}each(e){for(let i=0;i<=this.layerList.length-1;i++){let n=this.layerList[i];for(let r=0;r<=n.modelList.length-1;r++){let s=n.modelList[r];if(e(s,n)===!0)return}}}reverseEach(e){for(let i=this.layerList.length-1;i>=0;i--){let n=this.layerList[i];for(let r=n.modelList.length-1;r>=0;r--){let s=n.modelList[r];if(e(s,n)===!0)return}}}has(e){return this.modelMap.has(e.id)}getModelList(){return this.modelList}dispose(){this.modelList.forEach(e=>e.dispose()),this.modelList=[],this.modelMap.clear(),this.layerList.forEach(e=>e.dispose()),this.layerList=[],this.layerMap.clear(),this.clear()}removeAll(){let e=this.modelList.slice();this._removeModels(e)}},mr=class extends rt{constructor(e,i=""){super();m(this,"rect",{x:0,y:0,width:0,height:0});m(this,"isHovered",!1);m(this,"isActive",!1);this.host=e,this.tag=i,this.on("change",()=>{this.getHost().emit("change")}),this.on("mouseIn",()=>{this.setIsHovered(!0)}),this.on("mouseOut",()=>{this.setIsHovered(!1)}),this.init()}init(){}updatePosition(){}getIsHovered(){return this.isHovered}setIsHovered(e){e!==this.isHovered&&(this.isHovered=e,this.emit("change"))}getIsActive(){return this.isActive}setIsActive(e){e!==this.isActive&&(this.isActive=e,this.getHost().setActiveControl(e?this:null),this.emit("change"))}getHost(){return this.host}getTag(){return this.tag}setSize(e,i){e===this.rect.width&&i===this.rect.height||(this.rect.width=e,this.rect.height=i)}setPosition(e,i){e===this.rect.x&&i===this.rect.y||(this.rect.x=e,this.rect.y=i)}getCenterPosition(){return{x:this.rect.x+this.rect.width/2,y:this.rect.y+this.rect.height/2}}setCenterPosition(e,i){let{x:n,y:r,width:s,height:o}=this.rect,a=e-s/2,l=i-o/2;a===n&&l===r||(this.rect.x=a,this.rect.y=l)}getScenePosition(){let e=this.getHost(),{x:i,y:n}=e.getRect();return{x:i+this.rect.x,y:n+this.rect.y}}getSceneCenterPosition(){let e=this.getHost().getWorldTransform(),i={x:this.rect.x+this.rect.width/2,y:this.rect.y+this.rect.height/2};return new le(...e).apply(i)}getRect(){return this.rect}handleMousedown(e,i){}hitTest(e,i){let n=new le(...this.getHost().getWorldTransform()).applyInverse({x:e,y:i});return Bt(n,this.getRect())}getCursor(){return"default"}dispose(){this.clear()}},Dr,Mn=(Dr=class extends rt{constructor(e=Ui()){super();m(this,"rect",{x:0,y:0,width:0,height:0});m(this,"transform",[1,0,0,1,0,0]);m(this,"layerId","");m(this,"isHovered",!1);m(this,"isSelected",!1);m(this,"activeControl",null);m(this,"textVisible",!0);this.id=e,this.on("mouseIn",()=>{this.setIsHovered(!0)}),this.on("mouseOut",()=>{this.setIsHovered(!1)}),this.on("selected",()=>{this.setIsSelected(!0)}),this.on("unselected",()=>{this.setIsSelected(!1)}),this.init()}init(){}getMinWidth(){return 0}getMinHeight(){return 0}getSize(){return{width:this.rect.width,height:this.rect.height}}setSize(e,i){e=Math.max(e,this.getMinWidth()),i=Math.max(i,this.getMinHeight());let n=!1;e!==this.rect.width&&(this.rect.width=e,n=!0),i!==this.rect.height&&(this.rect.height=i,n=!0),n&&(this.emit("rectChange"),this.emit("change"))}setPosition(e,i){let n=this.getRect(),r=e!==n.x||i!==n.y;this.rect.x=e,this.rect.y=i,r&&(this.emit("rectChange"),this.emit("change"))}getPosition(){let e=this.getRect();return{x:e.x,y:e.y}}getCenterPosition(){let e=this.getRect();return{x:e.x+e.width/2,y:e.y+e.height/2}}setCenterPosition(e,i){let{width:n,height:r}=this.getRect();this.setPosition(e-n/2,i-r/2)}move(e,i){this.rect.x+=e,this.rect.y+=i,(e!==0||i!==0)&&(this.emit("rectChange"),this.emit("change"))}getRect(){return{...this.rect}}getRenderRect(){return this.rect}getLayerId(){return this.layerId}setLayerId(e){this.layerId=e}getTransform(){return[...this.transform]}setTransform(e){this.transform=[...e],this.emit("rectChange"),this.emit("change")}getWorldTransform(){let e=new le(...this.getTransform()),{x:i,y:n}=this.getRect();return e.translate(i,n).getArray()}hitTest(e,i){return!1}beforePaint(e,i){e.save();let n=this.getWorldTransform();e.transform(...n)}afterPaint(e,i){e.restore()}getIsHovered(){return this.isHovered}setIsHovered(e){this.isHovered!==e&&(this.isHovered=e,this.emit("change"))}getIsSelected(){return this.isSelected}setIsSelected(e){this.isSelected!==e&&(this.isSelected=e,this.emit("change"))}getActiveControl(){return this.activeControl}setActiveControl(e){e!==this.activeControl&&(this.activeControl=e,this.emit("change"))}dispose(){this.clear(),this.isSelected=!1,this.isHovered=!1}getBoundingBox(){return vc({...this.getSize(),transform:this.getWorldTransform()})}getBoundingRect(){return is(this.getBoundingBox())}getRotate(){return Ld(this.getTransform())}setRotate(e,i=this.getCenterPosition()){let n=this.getRotate(),r=e-n;if(r===0)return;let{x:s,y:o}=this.getPosition(),a=new le().translate(s,o).translate(-i.x,-i.y).rotate(r).translate(-s,-o).translate(i.x,i.y).append(new le(...this.getTransform())).getArray();this.setTransform(a)}getRotateDeg(){let e=kd(this.getRotate());return us(e)}setRotateDeg(e){e=us(e),this.setRotate(Id(e))}dRotate(e,i,n){let{x:r,y:s}=this.getPosition(),o=new le().translate(r,s).translate(-n.x,-n.y).rotate(e).translate(-r,-s).translate(n.x,n.y).append(new le(...i)).getArray();this.setTransform(o)}getMovable(){return!0}getResizeable(){return!0}getRotatable(){return!0}updateControlPosition(e){}setAttr(e,i){let n=this.getAttr(e);if(er(n,i))return;let r=e.split("."),s=this.attrs;for(let o=0;o<r.length-1;o++){if(!s)return;s=s[r[o]]}s&&(s[r[r.length-1]]=i),this.emit("attrChange",{property:e,newValue:i,oldValue:n}),this.emit("change")}getAttr(e){let i=e.split("."),n=this.attrs;for(let r=0;r<i.length;r++){if(!n)return;n=n[i[r]]}return n}toJson(){let e={id:this.id,category:this.getCategory(),attrs:this.attrs,rect:this.rect,transform:this.transform,layerId:this.layerId};return Cc(e)}static fromJson(e,i,n){let r=new n(e.id);return r.attrs=e.attrs,r.setPosition(e.rect.x,e.rect.y),r.setSize(e.rect.width,e.rect.height),r.transform=e.transform,r.setLayerId(e.layerId),r}getControlByTag(e){return null}getText(){return this.getAttr("content.text")}getTextStyle(){return this.getAttr("content.style")}getContet(){return this.getAttr("content")}setText(e){this.setAttr("content.text",e)}setTextStyle(e){this.setAttr("content.style",e)}setContent(e){this.setAttr("content",e),this.emit("change")}getTextVisible(){return this.textVisible}setTextVisible(e){this.textVisible=e,this.emit("change")}paintText(e){let{width:i,height:n}=this.getRect(),r=this.getText();r&&this.getTextVisible()&&(e.save(),e.beginPath(),e.rect(0,0,i,n),e.clip(),cs(e,{x:0,y:0,width:i,height:n},r,this.getTextStyle()),e.restore())}},m(Dr,"CATEGORY"),Dr),Ne,Ya=(Ne=class extends mr{constructor(i,n){super(i,n);m(this,"updatePosition",()=>{this.getHost().updateControlPosition()});i.on("rectChange",this.updatePosition)}init(){this.setSize(Ne.SIZE,Ne.SIZE)}handleMousedown(i,n){let r=this.getHost(),s=r.getEnd();Vt({onDragStart:o=>{this.setIsActive(!0)},onDragMove:(o,a)=>{let l=n.getElementAt(o),c;l&&l.control&&l.control instanceof ae&&l.control!==this?c=l.control:c=n.viewportManager.getCursorScenePoint(o),this.getHost().setEnd(c)},onDragEnd:o=>{this.setIsActive(!1);let a=this.getHost().getEnd();if(a!==s){let l={undo:()=>{r.setEnd(s)},redo:()=>{r.setEnd(a)}};n.actionManager.push(l)}}},i)}paint(i){let n=this.getRect();i.beginPath(),i.rect(n.x,n.y,n.width,n.height),i.fillStyle=i.fillStyle=this.getIsHovered()||this.getIsActive()?Ne.BORDER_COLOR:"#fff",i.fill(),i.setLineDash([]),i.strokeStyle=Ne.BORDER_COLOR,i.lineWidth=1,i.stroke()}getCursor(){return"move"}},m(Ne,"SIZE",8),m(Ne,"BORDER_WIDTH",2),m(Ne,"BORDER_COLOR","#0f8eff"),m(Ne,"FILL_COLOR","#0f8eff"),Ne),ni,ke=(ni=class extends Mn{constructor(i,n,r=Ui()){super(r);m(this,"attrs",{lineColor:"#000",lineWidth:2,lineStyle:"dashed",lineJoin:"round",lineDash:[10,10],lineDashOffset:-20});m(this,"controlPoints",[]);m(this,"mapPoints",[]);m(this,"_endDirection","left");m(this,"animation",null);m(this,"isCreating",!1);m(this,"pointControls",[]);m(this,"findPathPoints",()=>{let i=this.getStartInfo(),n=this.getEndInfo(),{mapPoints:r,controlPoints:s}=op(i,n,20);this.mapPoints=r,this.controlPoints=s,s.shift(),s.pop(),this.emit("rectChange"),this.emit("change")});this.start=i,this.end=n,this.id=r,i.getHost().on("rectChange",this.findPathPoints),"paint"in this.end&&this.end.getHost().on("rectChange",this.findPathPoints),this.startAnimation(),this.initPointControls()}initPointControls(){this.pointControls=[new Ya(this,"end")]}updateControlPosition(){let i=this.getRect();this.pointControls.forEach(n=>{if(n.getTag()==="end"){let{x:r,y:s}=this.getEndPoint();n.setCenterPosition(r-i.x,s-i.y)}})}hitTest(i,n){if(this.isCreating||this.getIsUpdating()||!Bt({x:i,y:n},this.getRenderRect()))return!1;if(this.getIsHovered()){let s=this.pointControls.find(o=>o.hitTest(i,n));if(s)return s}let r=up(this.getAllPoints());return fp({x:i,y:n},r,this.attrs.lineWidth+1)}getStartPoint(){return this.start.getSceneCenterPosition()}getEndPoint(){return"paint"in this.end?this.end.getSceneCenterPosition():this.end}setEnd(i){this.end!==i&&("paint"in this.end&&this.end.getHost().off("rectChange",this.findPathPoints),this.end=i,"paint"in i&&i.getHost().on("rectChange",this.findPathPoints),this.findPathPoints(),this.updateControlPosition(),this.emit("change"))}setEndDirection(i){"paint"in this.end||this._endDirection!==i&&(this._endDirection=i,this.findPathPoints(),this.emit("change"))}getStartInfo(){let i=this.start.getHost().getBoundingRect(),n=this.getStartDirection(),r=this.start.getSceneCenterPosition(),s=r;return n==="left"?s={x:i.x,y:r.y}:n==="right"?s={x:i.x+i.width,y:r.y}:n==="top"?s={x:r.x,y:i.y}:n==="bottom"&&(s={x:r.x,y:i.y+i.height}),{rect:i,origin:s,direction:n}}getEndInfo(){if("paint"in this.end){let i=this.end.getHost().getBoundingRect(),n=this.getEndDirection(),r=this.end.getSceneCenterPosition(),s=r;return n==="left"?s={x:i.x,y:r.y}:n==="right"?s={x:i.x+i.width,y:r.y}:n==="top"?s={x:r.x,y:i.y}:n==="bottom"&&(s={x:r.x,y:i.y+i.height}),{rect:i,origin:s,direction:n}}return{rect:void 0,origin:this.end,direction:this._endDirection}}getStartDirection(){let i=this.start.getSceneCenterPosition(),n=this.start.getHost().getCenterPosition(),r=[i.x-n.x,i.y-n.y],s=ls(r);return ss(s)}getEndDirection(){if("paint"in this.end){let i=this.end.getSceneCenterPosition(),n=this.end.getHost().getCenterPosition(),r=[i.x-n.x,i.y-n.y],s=ls(r);return ss(s)}return this._endDirection}getAllPoints(){let i=this.getStartPoint(),n=this.getEndPoint();return[i,...this.controlPoints,n]}getRect(){let i=this.getStartPoint(),n=this.getEndPoint();return pc(i,n,...this.controlPoints)}getRenderRect(){let i=this.getRect(),n=Math.max(Ya.BORDER_WIDTH,2),r=this.attrs.lineWidth*2+n;return si(i,r)}getSize(){let{width:i,height:n}=this.getRect();return{width:i,height:n}}getWorldTransform(){let{x:i,y:n}=this.getRect();return[1,0,0,1,i,n]}beforePaint(i,n){}paint(i){i.beginPath();let n=this.getAllPoints(),{x:r,y:s}=n.pop(),o=this.getEndDirection(),a=8,l=12,c=1/0,u=1/0;n.forEach((d,y)=>{c=Math.min(d.x,c),u=Math.min(d.y,u),i[y?"lineTo":"moveTo"](d.x,d.y)}),o==="left"?i.lineTo(r-l/2,s):o==="right"?i.lineTo(r+l/2,s):o==="bottom"?i.lineTo(r,s+l/2):o==="top"&&i.lineTo(r,s-l/2);let{attrs:h}=this,f=h.lineWidth;i.strokeStyle=h.lineColor,i.lineJoin=h.lineJoin,i.lineWidth=f,h.lineStyle==="dashed"?(i.setLineDash(h.lineDash),i.lineDashOffset=h.lineDashOffset):h.lineStyle==="dotted"||i.setLineDash([]),i.stroke(),i.beginPath(),o==="left"?(i.moveTo(r,s),i.lineTo(r-l,s-a/2),i.lineTo(r-l,s+a/2)):o==="right"?(i.moveTo(r,s),i.lineTo(r+l,s-a/2),i.lineTo(r+l,s+a/2)):o==="bottom"?(i.moveTo(r,s),i.lineTo(r-a/2,s+l),i.lineTo(r+a/2,s+l)):o==="top"&&(i.moveTo(r,s),i.lineTo(r-a/2,s-l),i.lineTo(r+a/2,s-l)),i.closePath(),i.fillStyle=h.lineColor,i.fill(),this.getIsSelected()&&(i.save(),i.translate(c,u),this.pointControls.forEach(d=>{kt(i),d.paint(i)}),i.restore())}afterPaint(i,n){}getCategory(){return ni.CATEGORY}getStart(){return this.start}getStartHost(){return this.start.getHost()}getEnd(){return this.end}getEndHost(){return"getHost"in this.end?this.end.getHost():null}move(i,n){if(i===0&&n===0)return;let r=!1;"paint"in this.end||(this.end.x+=i,this.end.y+=n,r=!0),"paint"in this.start||(r=!0),r&&(this.findPathPoints(),this.emit("rectChange"),this.emit("change"))}getResizeable(){return!1}getRotatable(){return!1}startAnimation(){if(!this.animation){let i=this.attrs.lineDashOffset;this.animation=wc({startValue:0,endValue:i,duration:1e3,loop:!0,onUpdate:n=>{this.setAttr("lineDashOffset",n)}})}this.animation.start()}stopAnimation(){var i;(i=this.animation)==null||i.stop(),this.animation=null}setAnimationState(i){i?this.startAnimation():this.stopAnimation()}getAnimationState(){var i;return((i=this.animation)==null?void 0:i.status)==="running"}dispose(){var i,n;super.dispose(),(i=this.animation)==null||i.stop(),this.getStartHost().off("rectChange",this.findPathPoints),(n=this.getEndHost())==null||n.off("rectChange",this.findPathPoints)}reset(){var i;super.reset(),this.getStartHost().on("rectChange",this.findPathPoints),(i=this.getEndHost())==null||i.on("rectChange",this.findPathPoints),this.startAnimation()}toJson(){let i=super.toJson();i.start=this.getStartHost().id;let n=this.getEndHost();i.end=n?n.id:this.getEndPoint(),i.startControlDir=this.start.getTag();let r=this.end;return i.endControlDir="getTag"in r?r.getTag():this._endDirection,i}setIsCreating(i){this.isCreating=i}getIsUpdating(){return this.pointControls.some(i=>i.getIsActive())}static fromJson(i,n){let r=n.find(l=>l.id===i.start);if(!r)throw new Error(`Link:ID${i.start}`);let s=r.getControlByTag(i.startControlDir),o;if(typeof i.end=="string"){let l=n.find(c=>c.id===i.end);if(!l)throw new Error(`Link:ID${i.end}`);o=l.getControlByTag(i.endControlDir)}else o=i.end;let a=new ni(s,o,i.id);return a.setEndDirection(i.endControlDir),a.attrs=i.attrs,a.setPosition(i.rect.x,i.rect.y),a.setSize(i.rect.width,i.rect.height),a.transform=i.transform,a.setLayerId(i.layerId),a.findPathPoints(),a}},m(ni,"CATEGORY","link"),ni),Ce,ae=(Ce=class extends mr{constructor(i,n){super(i,n);m(this,"updatePosition",()=>{this.getHost().updateControlPosition(this)});i.on("rectChange",this.updatePosition)}init(){this.setSize(Ce.SIZE,Ce.SIZE)}handleMousedown(i,n){let r=null,s=this.getHost().getLayerId();Vt({onDragStart:o=>{this.setIsActive(!0)},onDragMove:(o,a)=>{let l=n.getElementAt(o),c;l&&l.control&&l.control instanceof Ce&&l.control!==this?c=l.control:c=n.viewportManager.getCursorScenePoint(o),r?(r.setEndDirection(ls(a)),r.setEnd(c)):(r=new ke(this,c),r.setIsCreating(!0),r.setLayerId(s),n.box.addModel(r))},onDragEnd:o=>{if(this.setIsActive(!1),!r)return;r.setIsCreating(!1);let a=n.getElementAt(o);a&&a.control&&a.control instanceof Ce&&r.setEnd(a.control);let l={undo(){n.box.removeModel(r)},redo(){n.box.addModel(r),r==null||r.reset()}};n.actionManager.push(l)}},i)}paint(i){let n=this.getRect(),r=n.x+n.width/2,s=n.y+n.height/2;i.beginPath(),i.arc(r,s,Ce.SIZE/2,0,Math.PI*2),this.getIsHovered()||this.getIsActive()?(i.fillStyle=Ce.FILL_COLOR,i.fill()):(i.fillStyle="#fff",i.fill()),i.strokeStyle=Ce.BORDER_COLOR,i.lineWidth=Ce.BORDER_WIDTH,i.stroke()}getCursor(){return"crosshair"}},m(Ce,"SIZE",8),m(Ce,"BORDER_WIDTH",2),m(Ce,"BORDER_COLOR","#0f8eff"),m(Ce,"FILL_COLOR","#0f8eff"),Ce),gi,Pp=(gi=class extends Mn{constructor(i=Ui()){super(i);m(this,"attrs",{border:{width:2,color:"#000",style:"solid"},fill:!0,fillColor:"#fff",content:{text:"",style:{color:"#000",fontSize:12,lineHeight:1.5,fontFamily:"Arial"}}});m(this,"rect",{x:0,y:0,width:200,height:150});m(this,"linkControls",[]);this.linkControls=[new ae(this,"top"),new ae(this,"right"),new ae(this,"bottom"),new ae(this,"left")]}getConnectionPoints(){let{width:i,height:n}=this.getRect(),r=i/2,s=n/2;return[{x:r,y:0},{x:i,y:s},{x:r,y:n},{x:0,y:s}]}getBoundingBox(){let i=new le(...this.getWorldTransform()),n=this.getConnectionPoints().map(r=>i.apply(r));return mc(n)}hitTest(i,n){var a;if(!Bt({x:i,y:n},this.getRenderRect()))return!1;if(this.getIsHovered()){let l=this.linkControls.find(c=>c.hitTest(i,n));if(l)return l}let{width:r,height:s}=this.getRect(),o=new le().translate(r/2,s/2).prepend(new le(...this.getWorldTransform())).applyInverse({x:i,y:n});return dp(o,r,s,(a=this.attrs.border)==null?void 0:a.width)}getRenderRect(){var r;let i=((r=this.attrs.border)==null?void 0:r.width)||1,n=this.getBoundingRect();return i=Math.max(i,ae.SIZE/2+ae.BORDER_WIDTH),si(n,i)}beforePaint(i,n){i.save();let r=this.getWorldTransform();i.transform(...r)}paint(i){var s;let{attrs:n}=this,r=this.getConnectionPoints();i.beginPath(),[...r,r[0]].forEach((o,a)=>{i[a?"lineTo":"moveTo"](o.x,o.y)}),n.fill&&(i.fillStyle=n.fillColor,i.fill()),(s=n.border)!=null&&s.width&&(i.strokeStyle=n.border.color,i.lineWidth=n.border.width,n.border.style==="dashed"?i.setLineDash([10,10]):n.border.style==="dotted"?(i.setLineDash([n.border.width/2,n.border.width*2]),i.lineCap="round"):i.setLineDash([]),i.stroke()),this.paintText(i)}afterPaint(i,n){let r=this.getActiveControl();(this.getIsHovered()||r instanceof ae)&&this.linkControls.forEach(s=>{kt(i),s.paint(i)}),i.restore()}getCategory(){return gi.CATEGORY}updateControlPosition(i){let n=this.getRect(),{width:r,height:s}=n;switch(i.getTag()){case"top":i.setCenterPosition(r/2,0);break;case"right":i.setCenterPosition(r,s/2);break;case"bottom":i.setCenterPosition(r/2,s);break;case"left":i.setCenterPosition(0,s/2)}}getControlByTag(i){return this.linkControls.find(n=>n.getTag()===i)||null}},m(gi,"CATEGORY","diamond"),gi),mi,Tp=(mi=class extends Mn{constructor(i=Ui()){super(i);m(this,"attrs",{border:{width:2,color:"#000",style:"solid"},fill:!0,fillColor:"#fff",content:{text:"",style:{color:"#000",fontSize:12,lineHeight:1.5,fontFamily:"Arial"}}});m(this,"rect",{x:0,y:0,width:200,height:200});m(this,"linkControls",[]);this.id=i,this.linkControls=[new ae(this,"top"),new ae(this,"right"),new ae(this,"bottom"),new ae(this,"left")]}getRenderRect(){var r;let i=((r=this.attrs.border)==null?void 0:r.width)||1,n=this.getBoundingRect();return i=Math.max(i,ae.SIZE/2+ae.BORDER_WIDTH),si(n,i)}hitTest(i,n){var a;if(!Bt({x:i,y:n},this.getRenderRect()))return!1;if(this.getIsHovered()){let l=this.linkControls.find(c=>c.hitTest(i,n));if(l)return l}let{width:r,height:s}=this.getRect(),o=new le().translate(r/2,s/2).prepend(new le(...this.getWorldTransform())).applyInverse({x:i,y:n});return ap(o,r/2,s/2,((a=this.attrs.border)==null?void 0:a.width)??0)}beforePaint(i,n){i.save();let r=this.getWorldTransform();i.transform(...r)}paint(i){var l;let{attrs:n}=this,{width:r,height:s}=this.rect,o=r/2,a=s/2;if(i.beginPath(),r===s)i.arc(o,a,r/2,0,Math.PI*2);else{let c=r/2,u=s/2,h=c>u?1/c:1/u;i.moveTo(o+c,a);for(let f=0;f<2*Math.PI;f+=h)i.lineTo(o+c*Math.cos(f),a+u*Math.sin(f));i.closePath()}n.fill&&(i.fillStyle=n.fillColor,i.fill()),(l=n.border)!=null&&l.width&&(i.strokeStyle=n.border.color,i.lineWidth=n.border.width,n.border.style==="dashed"?i.setLineDash([10,10]):n.border.style==="dotted"?(i.setLineDash([n.border.width/2,n.border.width*2]),i.lineCap="round"):i.setLineDash([]),i.stroke()),this.paintText(i)}afterPaint(i,n){let r=this.getActiveControl();(this.getIsHovered()||r instanceof ae)&&this.linkControls.forEach(s=>{kt(i),s.paint(i)}),i.restore()}dispose(){super.dispose()}getCategory(){return mi.CATEGORY}updateControlPosition(i){let n=this.getRect(),{width:r,height:s}=n;switch(i.getTag()){case"top":i.setCenterPosition(r/2,0);break;case"right":i.setCenterPosition(r,s/2);break;case"bottom":i.setCenterPosition(r/2,s);break;case"left":i.setCenterPosition(0,s/2)}}getControlByTag(i){return this.linkControls.find(n=>n.getTag()===i)||null}},m(mi,"CATEGORY","ellipse"),mi),Op=class{constructor(){m(this,"classMap",new Map);this.register(ke)}register(t){this.classMap.set(t.CATEGORY,t)}getInstance(t,e){let i=this.classMap.get(t);if(!i)throw new Error(`${t} is not registered`);return new i(e)}parseJson(t,e){let i=this.classMap.get(t.category);if(!i)throw new Error(`${t.category} is not registered`);return i.fromJson(t,e,i)}},vi,Ap=(vi=class extends Mn{constructor(i=Ui()){super(i);m(this,"attrs",{border:{width:2,color:"#000",style:"solid"},fill:!0,fillColor:"#fff",roundGap:0,content:{text:"",style:{color:"#000",fontSize:12,lineHeight:1.5,fontFamily:"Arial"}}});m(this,"rect",{x:0,y:0,width:200,height:100});m(this,"linkControls",[]);this.id=i,this.linkControls=[new ae(this,"top"),new ae(this,"right"),new ae(this,"bottom"),new ae(this,"left")]}getRoundGap(){return Math.min(Math.min(this.rect.width,this.rect.height)/2,this.attrs.roundGap??0)}getRenderRect(){var r;let i=((r=this.attrs.border)==null?void 0:r.width)||1,n=this.getBoundingRect();return i=Math.max(i,ae.SIZE/2+ae.BORDER_WIDTH),si(n,i)}hitTest(i,n){if(!Bt({x:i,y:n},this.getRenderRect()))return!1;if(this.getIsHovered()){let a=this.linkControls.find(l=>l.hitTest(i,n));if(a)return a}let r=new le(...this.getWorldTransform()).applyInverse({x:i,y:n}),{width:s,height:o}=this.getRect();return Pd(r,{x:0,y:0,width:s,height:o},this.getRoundGap())}paint(i){var a;let{attrs:n}=this,{width:r,height:s}=this.rect;i.beginPath();let o=this.getRoundGap();o?i.roundRect(0,0,r,s,o):i.rect(0,0,r,s),n.fill&&(i.fillStyle=n.fillColor,i.fill()),(a=n.border)!=null&&a.width&&(i.strokeStyle=n.border.color,i.lineWidth=n.border.width,n.border.style==="dashed"?i.setLineDash([10,10]):n.border.style==="dotted"?(i.setLineDash([n.border.width/2,n.border.width*2]),i.lineCap="round"):i.setLineDash([]),i.stroke()),this.paintText(i)}afterPaint(i,n){let r=this.getActiveControl();(this.getIsHovered()||r instanceof ae)&&this.linkControls.forEach(s=>{kt(i),s.paint(i)}),super.afterPaint(i,n)}dispose(){super.dispose()}getCategory(){return vi.CATEGORY}updateControlPosition(i){let n=this.getRect(),{width:r,height:s}=n;switch(i.getTag()){case"top":i.setCenterPosition(r/2,0);break;case"right":i.setCenterPosition(r,s/2);break;case"bottom":i.setCenterPosition(r/2,s);break;case"left":i.setCenterPosition(0,s/2)}}getControlByTag(i){return this.linkControls.find(n=>n.getTag()===i)||null}},m(vi,"CATEGORY","rect"),vi),je,Rp=(je=class extends mr{constructor(e,i){super(e,i)}init(){this.setSize(je.SIZE,je.SIZE)}updatePosition(){let e=this.getHost().getRect();if(!e||e.width===0||e.height===0)return;let{width:i,height:n}=e,r=je.SIZE/2,s=this.getTag();s==="nw"?this.setPosition(0-r,0-r):s==="ne"?this.setPosition(i-r,0-r):s==="sw"?this.setPosition(0-r,n-r):s==="se"?this.setPosition(i-r,n-r):s==="n"?this.setPosition(i/2-r,0-r):s==="e"?this.setPosition(i-r,n/2-r):s==="w"?this.setPosition(0-r,n/2-r):s==="s"&&this.setPosition(i/2-r,n-r)}hitTest(e,i){return super.hitTest(e,i)}paint(e){let i=this.getRect();e.beginPath(),e.rect(i.x,i.y,i.width,i.height),e.fillStyle=e.fillStyle=this.getIsHovered()||this.getIsActive()?je.BORDER_COLOR:"#fff",e.fill(),e.setLineDash([]),e.strokeStyle=je.BORDER_COLOR,e.lineWidth=1,e.stroke()}handleMousedown(e,i){let n=this.getHost(),r=n.getSelectionList().filter(g=>g.getResizeable());if(r.length===0)return;let s=new Map,o=new Map;r.forEach(g=>{s.set(g.id,g.getWorldTransform()),o.set(g.id,g.getRect())});let{x:a,y:l,width:c,height:u}=n.getBoundingRect(),h=new le().translate(a,l),f=i.viewportManager.getCursorViewPoint(e),d=new Map,y=new Map;Vt({onDragStart:()=>{this.setIsActive(!0)},onDragMove:g=>{let b=i.viewportManager.getCursorViewPoint(g);if(b.x===f.x&&b.y===f.y)return;let w=i.viewportManager.getCursorScenePoint(g);f=b;let C=new le;if(n.getSelectionList().length===1){let x=s.get(r[0].id),O=o.get(r[0].id),F=Ia(this.getTag(),w,{width:O.width,height:O.height,transform:x});C=new le(...F.transform).append(new le(...x).invert())}else{let x=Ia(this.getTag(),w,{width:c,height:u,transform:h.getArray()});C=new le(...x.transform).append(h.clone().invert())}let P=C.getArray();r.forEach(x=>{let O=s.get(x.id),F=La(P,O),U=La(Sd([1,0,0,1,0,0]),F),{width:L,height:j}=o.get(x.id),z=Ad({width:L,height:j,transform:U});x.setSize(z.width,z.height);let[,,,,X,I]=z.transform,Y=x.getTransform();x.setPosition(X-Y[4],I-Y[5]),d.set(x.id,x.getWorldTransform()),y.set(x.id,x.getRect())})},onDragEnd:g=>{this.setIsActive(!1);let b={undo:()=>{r.forEach(w=>{let{width:C,height:P,x,y:O}=o.get(w.id);w.setSize(C,P),w.setPosition(x,O)})},redo:()=>{r.forEach(w=>{let{width:C,height:P,x,y:O}=y.get(w.id);w.setSize(C,P),w.setPosition(x,O)})}};i.actionManager.push(b)}},e)}getCursor(){return`${this.getTag()}-resize`}},m(je,"BORDER_WIDTH",1),m(je,"SIZE",8),m(je,"BORDER_COLOR","#0f8eff"),je),We,qa=(We=class extends mr{init(){this.setSize(We.SIZE,We.SIZE)}updatePosition(){let{width:e,height:i}=this.getHost().getRect();this.setPosition(e,-We.SIZE)}handleMousedown(e,i){let n=this.getHost(),r=n.getSelectionList().filter(g=>g.getRotatable());if(r.length===0)return;let s=new Map,o=new Map;r.forEach(g=>{s.set(g.id,g.getTransform()),o.set(g.id,{...g.getRect()})});let{x:a,y:l,width:c,height:u}=n.getBoundingRect(),h={x:a+c/2,y:l+u/2},f=i.viewportManager.getCursorScenePoint(e),d=ns({x:0,y:-1},{x:f.x-h.x,y:f.y-h.y});n.togglePauseUpdateRect(!0);let y=new Map;Vt({onDragStart:()=>{this.setIsActive(!0)},onDragMove:g=>{let b=i.viewportManager.getCursorScenePoint(g),{x:w,y:C}=h,P=ns({x:0,y:-1},{x:b.x-w,y:b.y-C})-d;r.forEach(x=>{x.dRotate(P,s.get(x.id),{x:w,y:C}),y.set(x.id,x.getTransform())}),n.setRotate(P)},onDragEnd:g=>{this.setIsActive(!1),n.setRotate(0),n.togglePauseUpdateRect(!1),n.caculateContainRect();let b={undo:()=>{r.forEach(w=>{let C=s.get(w.id);w.setTransform(C)})},redo:()=>{r.forEach(w=>{let C=y.get(w.id);w.setTransform(C)})}};i.actionManager.push(b)}},e)}paint(e){let i=this.getIsHovered()||this.getIsActive()?We.ACTIVE_FILL_STYLE:We.FILL_STYLE;e.save(),e.translate(this.rect.x,this.rect.y),e.strokeStyle="rgba(0,0,0,0)",e.miterLimit=4,e.scale(.015625,.015625),e.save(),e.fillStyle=i,e.beginPath(),e.moveTo(793.6,993.28),e.bezierCurveTo(784.384,993.28,775.168,989.696,768,983.04),e.lineTo(594.432,808.9599999999999),e.bezierCurveTo(580.6080000000001,795.136,580.6080000000001,772.0959999999999,594.432,758.2719999999999),e.bezierCurveTo(608.256,744.448,631.296,744.448,645.12,758.2719999999999),e.lineTo(793.6,906.752),e.lineTo(942.08,758.2719999999999),e.bezierCurveTo(955.904,744.448,978.9440000000001,744.448,992.768,758.2719999999999),e.bezierCurveTo(1006.592,772.0959999999999,1006.592,795.136,992.768,808.9599999999999),e.lineTo(819.2,983.04),e.bezierCurveTo(812.032,989.6959999999999,802.816,993.28,793.6,993.28),e.closePath(),e.moveTo(250.88,450.56),e.bezierCurveTo(241.664,450.56,232.448,446.976,225.792,439.808),e.lineTo(51.712,266.24),e.bezierCurveTo(37.888000000000005,252.416,37.888000000000005,229.376,51.712,215.55200000000002),e.lineTo(225.79200000000003,41.98400000000001),e.bezierCurveTo(239.61600000000004,28.16000000000001,262.656,28.16000000000001,276.48,41.98400000000001),e.bezierCurveTo(290.30400000000003,55.80800000000001,290.30400000000003,78.84800000000001,276.48,92.67200000000001),e.lineTo(128.00000000000003,241.152),e.lineTo(276.48,389.63199999999995),e.bezierCurveTo(290.30400000000003,403.45599999999996,290.30400000000003,426.4959999999999,276.48,440.31999999999994),e.bezierCurveTo(269.312,446.97599999999994,260.096,450.55999999999995,250.88000000000002,450.55999999999995),e.closePath(),e.fill(),e.stroke(),e.restore(),e.save(),e.fillStyle=i,e.beginPath(),e.moveTo(793.6,993.28),e.bezierCurveTo(773.6320000000001,993.28,757.76,977.408,757.76,957.4399999999999),e.lineTo(757.76,803.8399999999999),e.bezierCurveTo(757.76,513.0239999999999,521.216,276.4799999999999,230.39999999999998,276.4799999999999),e.lineTo(76.8,276.4799999999999),e.bezierCurveTo(56.831999999999994,276.4799999999999,40.959999999999994,260.6079999999999,40.959999999999994,240.6399999999999),e.bezierCurveTo(40.959999999999994,220.6719999999999,56.831999999999994,204.7999999999999,76.8,204.7999999999999),e.lineTo(230.39999999999998,204.7999999999999),e.bezierCurveTo(560.64,204.7999999999999,829.4399999999999,473.5999999999999,829.4399999999999,803.8399999999999),e.lineTo(829.4399999999999,957.4399999999999),e.bezierCurveTo(829.4399999999999,977.4079999999999,813.568,993.28,793.5999999999999,993.28),e.closePath(),e.fill(),e.stroke(),e.restore(),e.restore()}},m(We,"SIZE",16),m(We,"FILL_STYLE","#333"),m(We,"ACTIVE_FILL_STYLE","#0f8eff"),We),yi,Lp=(yi=class extends Mn{constructor(i=Ui()){super(i);m(this,"attrs",{border:{width:2,color:"#000",style:"solid"},fill:!0,fillColor:"#fff",content:{text:"",style:{color:"#000",fontSize:12,lineHeight:1.5,fontFamily:"Arial"}}});m(this,"rect",{x:0,y:0,width:200,height:100});m(this,"linkControls",[]);this.linkControls=[new ae(this,"top"),new ae(this,"right"),new ae(this,"bottom"),new ae(this,"left")]}hitTest(i,n){var a,l;if(!Bt({x:i,y:n},this.getRenderRect()))return!1;if(this.getIsHovered()){let c=this.linkControls.find(u=>u.hitTest(i,n));if(c)return c}let r=new le(...this.getWorldTransform()).applyInverse({x:i,y:n}),{width:s,height:o}=this.getRect();return Bt(r,{x:0,y:0,width:s,height:o},((l=(a=this.attrs)==null?void 0:a.border)==null?void 0:l.width)??0)}getRenderRect(){var r;let i=((r=this.attrs.border)==null?void 0:r.width)||1,n=this.getBoundingRect();return i=Math.max(i,ae.SIZE/2+ae.BORDER_WIDTH),si(n,i)}beforePaint(i,n){i.save();let r=this.getWorldTransform();i.transform(...r)}paint(i){var l;let{attrs:n}=this,{width:r,height:s}=this.getRect();i.beginPath();let o=Math.min(r,s)/2,a=Math.max(0,r-2*o);i.moveTo(o,0),i.lineTo(o+a,0),i.arcTo(o+a+o,0,o+a+o,s/2,o),i.arcTo(o+a+o,s,o+a,s,o),i.lineTo(o,s),i.arcTo(0,s,0,s/2,o),i.arcTo(0,0,o,0,o),n.fill&&(i.fillStyle=n.fillColor,i.fill()),(l=n.border)!=null&&l.width&&(i.strokeStyle=n.border.color,i.lineWidth=n.border.width,n.border.style==="dashed"?i.setLineDash([10,10]):n.border.style==="dotted"?(i.setLineDash([n.border.width/2,n.border.width*2]),i.lineCap="round"):i.setLineDash([]),i.stroke()),this.paintText(i)}afterPaint(i,n){let r=this.getActiveControl();(this.getIsHovered()||r instanceof ae)&&this.linkControls.forEach(s=>{kt(i),s.paint(i)}),i.restore()}getCategory(){return yi.CATEGORY}updateControlPosition(i){let n=this.getRect(),{width:r,height:s}=n;switch(i.getTag()){case"top":i.setCenterPosition(r/2,0);break;case"right":i.setCenterPosition(r,s/2);break;case"bottom":i.setCenterPosition(r/2,s);break;case"left":i.setCenterPosition(0,s/2)}}getControlByTag(i){return this.linkControls.find(n=>n.getTag()===i)||null}},m(yi,"CATEGORY","terminator"),yi),Tt,kp=(Tt=class extends rt{constructor(i){super();m(this,"mousedown",!1);m(this,"selectionRect",null);m(this,"mouseEl",null);m(this,"mouseControl",null);m(this,"positionCache",null);m(this,"alignLineX",null);m(this,"alignLineY",null);m(this,"handleMouseDown",i=>{this.mousedown=!0,this.selectionRect=null;let n=this.editor.selectionManager,r=this.mouseEl;if((i.ctrlKey||i.metaKey)&&r){n.toggleSelection(r);return}this.mouseControl?(this.mouseControl.emit("mouseDown",i),this.mouseControl.handleMousedown(i,this.editor)):r?this.handleMoveElement(i,r):this.handleBoxSelection(i)});m(this,"handleMouseMove",i=>{let n=this.editor.viewportManager.getCursorScenePoint(i),r=this.editor.selectionManager.getControlAt(n),s=this.mouseEl,o=this.mouseControl;if(r)this.mouseControl=r,this.mouseEl=null;else{let a=this.editor.getElementAt(i)||null;this.mouseEl=(a==null?void 0:a.model)||null,this.mouseControl=(a==null?void 0:a.control)||null}this.mouseControl?this.setCursorStyle(this.mouseControl.getCursor()):this.mouseEl&&this.mouseEl.getMovable()?this.setCursorStyle("move"):this.setCursorStyle("default"),this.mouseEl!==s&&(s&&s.emit("mouseOut",i),this.mouseEl&&this.mouseEl.emit("mouseIn",i)),this.mouseControl!==o&&(o&&o.emit("mouseOut",i),this.mouseControl&&this.mouseControl.emit("mouseIn",i))});m(this,"handleMouseUp",i=>{this.mousedown=!1});m(this,"handleMouseLeave",i=>{this.mousedown=!1});m(this,"handleMouseWheel",i=>{if(i.preventDefault(),i.ctrlKey||i.metaKey){let n=this.editor.viewportManager.getCursorViewPoint(i);i.deltaY>0?this.editor.viewportManager.zoomIn(n):this.editor.viewportManager.zoomOut(n)}else{let n=this.editor.viewportManager.getZoom();this.editor.viewportManager.move(-i.deltaX/n,-i.deltaY/n)}});m(this,"handleKeydonw",i=>{let n=i.key.toLowerCase(),r=i.ctrlKey||i.metaKey;n==="backspace"||i.key==="delete"?this.editor.removeSelection():n==="z"&&r?i.shiftKey?this.editor.actionManager.redo():this.editor.actionManager.undo():n==="y"&&r?this.editor.actionManager.redo():["arrowup","arrowdown","arrowleft","arrowright"].includes(n)?this.moveElementByKey(n):n==="a"&&r&&(i.preventDefault(),this.editor.selectionManager.selectAll())});m(this,"handleKeyup",i=>{if(this.positionCache){let n=this.editor.selectionManager.getSelectionList().filter(a=>a.getMovable()),r=this.positionCache;this.positionCache=null;let s=new Map;n.forEach(a=>{s.set(a.id,{...a.getPosition()})});let o={undo(){n.forEach(a=>{let l=r.get(a.id),c=s.get(a.id),u=l.x-c.x,h=l.y-c.y;a.move(u,h)})},redo(){n.forEach(a=>{let l=r.get(a.id),c=s.get(a.id),u=c.x-l.x,h=c.y-l.y;a.move(u,h)})}};this.editor.actionManager.push(o)}});m(this,"handleDblclick",i=>{if(this.mouseEl){let n=this.mouseEl,r=this.editor.viewportManager.getZoom(),s=this.editor.viewportManager.getViewPoint({x:0,y:0},r),o=n.getRect(),a=new le(...this.mouseEl.getWorldTransform()).scale(r,r),l=n.getText(),c=n.getTextStyle();n.setTextVisible(!1),this.editor.textInput.show(o,s,a.getArray(),l,c,u=>{let h=n.getText();n.setText(u),n.setTextVisible(!0);let f={undo(){n.setText(h)},redo(){n.setText(u)}};this.editor.actionManager.push(f)})}});this.editor=i,this.setup()}setup(){this.editor.topCanvas.addEventListener("mousedown",this.handleMouseDown),this.editor.topCanvas.addEventListener("mousemove",this.handleMouseMove),this.editor.topCanvas.addEventListener("mouseup",this.handleMouseUp),this.editor.topCanvas.addEventListener("mouseleave",this.handleMouseUp),this.editor.topCanvas.addEventListener("wheel",this.handleMouseWheel),this.editor.topCanvas.addEventListener("keydown",this.handleKeydonw),this.editor.topCanvas.addEventListener("keyup",this.handleKeyup),this.editor.topCanvas.addEventListener("dblclick",this.handleDblclick)}handleMoveElement(i,n){let r=this.editor.selectionManager;n&&!r.isSelected(n)&&r.setSelection([n]);let s=this.editor.viewportManager.getCursorScenePoint(i),o=this.mouseEl,a=r.getSelectionList().filter(d=>d.getMovable()),l=!1,c=s;if(a.length===1&&a[0]instanceof ke)return;let u=this.editor.box.getModelList().filter(d=>!a.includes(d)&&!(d instanceof ke)).map(d=>d.getBoundingRect()),h=d=>{let y=this.editor.viewportManager.getCursorScenePoint(d),g=y.x-c.x,b=y.y-c.y,w={...o.getBoundingRect()};if(u.length&&!(o instanceof ke)){w.x+=g,w.y+=b;let C=this.editor.alignManager.measure(w,u);g+=C.x.offset,y.x+=C.x.offset,b+=C.y.offset,y.y+=C.y.offset,er(C.x.line,this.alignLineX)||(this.alignLineX=C.x.line,this.emit("repaint")),er(C.y.line,this.alignLineY)||(this.alignLineY=C.y.line,this.emit("repaint"))}g===0&&b===0||(l?this.emit("movingElements"):(l=!0,this.emit("moveElementsStart")),this.selectionRect=null,a.forEach(C=>{C.move(g,b)}),c=y)},f=d=>{let y=!!(this.alignLineX||this.alignLineY);this.alignLineX&&(this.alignLineX=null),this.alignLineY&&(this.alignLineY=null),y&&this.emit("repaint");let g=c.x-s.x,b=c.y-s.y;if(g||b){let w={undo:()=>{a.forEach(C=>{C.move(-g,-b)})},redo:()=>{a.forEach(C=>{C.move(g,b)})}};this.editor.actionManager.push(w),this.emit("moveElementsEnd")}window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",f),window.removeEventListener("mouseleave",f)};window.addEventListener("mousemove",h),window.addEventListener("mouseup",f),window.addEventListener("mouseleave",f)}handleBoxSelection(i){let n=this.editor.selectionManager,r=this.editor.viewportManager.getCursorScenePoint(i),s=i.clientX,o=i.clientY,a=c=>{let u=this.editor.viewportManager.getCursorScenePoint(c);this.selectionRect=pc(r,u),this.emit("repaint")},l=c=>{let u=c.clientX-s,h=c.clientY-o;if(u||h){let f=this.selectionRect;this.selectionRect=null;let d=[];this.editor.box.each(y=>{let g=y.getRenderRect();vn(f,g)&&d.push(y)}),n.setSelection(d)}else n.clearSelection();this.emit("repaint"),window.removeEventListener("mousemove",a),window.removeEventListener("mouseup",l),window.removeEventListener("mouseleave",l)};window.addEventListener("mousemove",a),window.addEventListener("mouseup",l),window.addEventListener("mouseleave",l)}setCursorStyle(i){this.editor.topCanvas.style.cursor=i}dispose(){this.editor.topCanvas.removeEventListener("mousedown",this.handleMouseDown),this.editor.topCanvas.removeEventListener("mousemove",this.handleMouseMove),this.editor.topCanvas.removeEventListener("mouseup",this.handleMouseUp),this.editor.topCanvas.removeEventListener("mouseleave",this.handleMouseUp),this.editor.topCanvas.removeEventListener("wheel",this.handleMouseWheel),this.editor.topCanvas.removeEventListener("keydown",this.handleKeydonw),this.editor.topCanvas.removeEventListener("keyup",this.handleKeyup),this.editor.topCanvas.removeEventListener("dblclick",this.handleDblclick)}paintTop(i){if(this.selectionRect&&(i.beginPath(),i.roundRect(this.selectionRect.x,this.selectionRect.y,this.selectionRect.width,this.selectionRect.height,2),i.fillStyle=Tt.SELECTION_FILL_COLOR,i.fill(),i.strokeStyle=Tt.SELECTION_STROKE_COLOR,i.lineWidth=2,i.stroke()),this.alignLineX){let[n,r]=this.alignLineX;i.beginPath(),i.lineWidth=2,i.setLineDash([10,10]),i.strokeStyle="red",i.moveTo(n.x,n.y),i.lineTo(r.x,r.y),i.stroke()}if(this.alignLineY){let[n,r]=this.alignLineY;i.beginPath(),i.lineWidth=2,i.setLineDash([10,10]),i.strokeStyle="red",i.moveTo(n.x,n.y),i.lineTo(r.x,r.y),i.stroke()}}paintRoot(i){}isHovered(i){return this.mouseEl===i}moveElementByKey(i){let n={arrowup:[0,-5],arrowdown:[0,5],arrowleft:[-5,0],arrowright:[5,0]}[i];if(!n)return;let[r,s]=n,o=this.editor.selectionManager.getSelectionList().filter(a=>a.getMovable());this.positionCache||(this.positionCache=new Map,o.forEach(a=>{this.positionCache.set(a.id,{...a.getPosition()})})),o.forEach(a=>{a.move(r,s)})}},m(Tt,"SELECTION_STROKE_COLOR","#0f8eff"),m(Tt,"SELECTION_FILL_COLOR","#0f8eff33"),Tt),et,Ws=(et=class extends rt{constructor(i){super();m(this,"x",0);m(this,"y",0);m(this,"zoom",1);m(this,"zoomTextOpaticy",-1);m(this,"animation",null);this.editor=i;let{width:n,height:r}=this.getViewRect();this.move(n/2,r/2)}getZoom(){return this.zoom}zoomOut(i){let n=this.zoom,r=n*(1+et.ZOOM_STEP);if(r=Math.min(r,et.MAX_ZOOM),r!==n){let{x:s,y:o}=i,{x:a,y:l}=this.getScenePoint(i),c=a-s/r,u=l-o/r;this.x=c,this.y=u,this.zoom=r,this.startAnimation(),this.emit("zoomChange",r),this.emit("change")}}zoomIn(i){let n=this.zoom,r=n*(1-et.ZOOM_STEP);if(r=Math.max(r,et.MIN_ZOOM),r!==n){let{x:s,y:o}=i,{x:a,y:l}=this.getScenePoint(i),c=a-s/r,u=l-o/r;this.x=c,this.y=u,this.zoom=r,this.startAnimation(),this.emit("zoomChange",r),this.emit("change")}}move(i,n){this.x-=i,this.y-=n,(i!==0||n!==0)&&this.emit("change")}getViewport(){return{x:this.x,y:this.y,width:parseFloat(this.editor.topCanvas.style.width),height:parseFloat(this.editor.topCanvas.style.height)}}getViewRect(){let i=this.getViewport(),n=this.getZoom();return{x:this.x,y:this.y,width:i.width/n,height:i.height/n}}getCursorViewPoint(i,n){return n||(n=this.editor.container.getBoundingClientRect()),{x:i.clientX-n.left,y:i.clientY-n.top}}getCursorScenePoint(i,n){let r=this.getCursorViewPoint(i,n);return this.getScenePoint(r)}getScenePoint(i,n=this.zoom){let{x:r,y:s}=i,{x:o,y:a}=this.getViewport();return{x:o+r/n,y:a+s/n}}getViewPoint(i,n=this.zoom){let{x:r,y:s}=i,{x:o,y:a}=this.getViewport();return{x:(r-o)*n,y:(s-a)*n}}getViewCenter(){let i=this.getViewport();return{x:i.width/2,y:i.height/2}}startAnimation(){this.animation?this.animation.stop():this.animation=wc({duration:2e3,startValue:1,endValue:0,onUpdate:i=>{this.zoomTextOpaticy=i,this.emit("repaint")},onEnd:()=>{this.zoomTextOpaticy=-1}}),this.animation.start()}paintTop(i){if(this.zoomTextOpaticy>=0){let n=this.getZoom();i.save(),i.setTransform(1,0,0,1,0,0),i.font="30px Arial",i.fillStyle="#000",i.globalAlpha=this.zoomTextOpaticy,i.fillText(`ZOOM: ${n.toFixed(1)}`,10,40),i.restore()}}paintRoot(i){}dispose(){var i;this.clear(),(i=this.animation)==null||i.stop()}},m(et,"ZOOM_STEP",.1),m(et,"MIN_ZOOM",.1),m(et,"MAX_ZOOM",5),et),bi,Ip=(bi=class extends rt{constructor(i=bi.MAX){super();m(this,"list",[]);m(this,"batch",null);m(this,"cursor",-1);m(this,"isOperating",!1);this.limit=i}push(i){if(!this.isOperating){if(this.batch){this.batch.push(i);return}this.cursor!==this.list.length-1&&this.list.splice(this.cursor+1,this.list.length),this.limit===this.list.length&&this.list.splice(0,1),this.list.push(i),this.cursor=this.list.length-1,this.emit("change")}}clear(){this.list=[],this.emit("change")}undoable(){return this.cursor>=0}redoable(){return this.cursor<this.list.length-1}undo(){if(!this.undoable())return;let i=this.list[this.cursor--];this.isOperating=!0;try{if(Array.isArray(i))for(let n=i.length-1;n>=0;n--)i[n].undo();else i.undo()}catch(n){console.warn(n)}finally{this.isOperating=!1}this.emit("change")}redo(){if(!this.redoable())return;let i=this.list[++this.cursor];this.isOperating=!0;try{Array.isArray(i)?i.forEach(n=>n.redo()):i.redo()}catch(n){console.warn(n)}finally{this.isOperating=!1}this.emit("change")}startBatch(){this.batch||(this.batch=[])}endBatch(){let i=this.batch;this.batch=null,i!=null&&i.length&&this.push(i)}dispose(){this.clear()}},m(bi,"MAX",50),bi),Ot,Dp=(Ot=class extends rt{constructor(i){super();m(this,"selection",[]);m(this,"rect",{x:0,y:0,height:0,width:0});m(this,"resizers",[]);m(this,"rotator",new qa(this));m(this,"pauseUpdateRect",!1);m(this,"rotate",0);m(this,"activeControl",null);m(this,"repaint",()=>{this.emit("repaint")});m(this,"caculateContainRect",()=>{if(!this.pauseUpdateRect){if(this.selection.length===1)this.rect=this.selection[0].getRect();else if(this.selection.length>1){let i=this.selection.map(n=>n.getBoundingBox());this.rect=is(yc(i))}else this.rect={x:0,width:0,height:0,y:0};this.emit("rectChange"),this.repaint()}});this.editor=i,i.box.on("remove-models",n=>{n.forEach(r=>{this.isSelected(r)&&this.removeSelection(r)})}),this.initResizers(),this.rotator.on("change",this.repaint),this.on("change",this.caculateContainRect)}initResizers(){this.resizers=Object.values(gc).map(i=>new Rp(this,i)),this.resizers.forEach(i=>{i.on("change",this.repaint)})}_addSelection(i){i.on("rectChange",this.caculateContainRect),i.emit("selected"),this.selection.push(i)}_removeSelection(i){i.off("rectChange",this.caculateContainRect),i.emit("unselected"),xc(this.selection,i)}_clearSelection(){for(let i=this.selection.length-1;i>=0;i--)this._removeSelection(this.selection[i])}selectAll(){let i=this.editor.box.getModelList();this.setSelection(i)}setSelection(i){this._clearSelection(),i.forEach(n=>this._addSelection(n)),this.emit("setSelection",i),this.emit("change")}addSelection(i){this.isSelected(i)||(this._addSelection(i),this.emit("addSelection",i),this.emit("change"))}removeSelection(i){this.isSelected(i)&&(this._removeSelection(i),this.emit("removeSelection",i),this.emit("change"))}clearSelection(){this.selection.length&&(this._clearSelection(),this.emit("clearSelection"),this.emit("change"))}toggleSelection(i){this.isSelected(i)?this.removeSelection(i):this.addSelection(i)}isSelected(i){return this.selection.includes(i)}togglePauseUpdateRect(i){this.pauseUpdateRect=i}getRenderRect(){let i=this.getBoundingRect();return si(i,qa.SIZE)}getBoundingRect(){let i=this.getRect();if(this.selection.length===1){let n=vc({...i,transform:this.getWorldTransform()});return is(n)}else return i}getSelectionList(){return[...this.selection]}isOneLink(){return this.selection.length===1&&this.selection[0]instanceof ke}getRect(){return this.rect}setPosition(i,n){}move(i,n){this.selection.forEach(r=>{r.move(i,n)})}setRotate(i){this.rotate=i,this.repaint()}getWorldTransform(){if(this.selection.length===1)return this.selection[0].getWorldTransform();let{x:i,y:n}=this.rect||{x:0,y:0};return[1,0,0,1,i,n]}paintTop(i){if(this.selection.length>0){i.save();let{width:n,height:r}=this.rect,s=this.getWorldTransform();i.transform(...s),this.selection.length>1&&this.rotate&&(i.translate(n/2,r/2),i.rotate(this.rotate),i.translate(-(n/2),-(r/2))),i.beginPath(),i.roundRect(0,0,n,r,2),i.strokeStyle=Ot.SELECTION_STROKE_COLOR,i.lineWidth=2,i.setLineDash(Ot.SELECTION_LINE_DASH),i.stroke(),i.translate(0,0),this.isOneLink()||(this.resizers.forEach(o=>{o.updatePosition(),o.paint(i)}),this.rotator.updatePosition(),this.rotator.paint(i)),i.restore()}}paintRoot(i){}getControlAt(i){if(this.selection.length===0)return;let n=this.getRenderRect();if(!Bt(i,n))return;let r=this.resizers.find(s=>s.hitTest(i.x,i.y));if(r)return r;if(this.rotator.hitTest(i.x,i.y))return this.rotator}getActiveControl(){return this.activeControl}setActiveControl(i){i!==this.activeControl&&(this.activeControl=i,this.emit("change"))}dispose(){this.clear(),this.editor.box.off("remove-models",i=>{i.forEach(n=>{this.isSelected(n)&&this.removeSelection(n)})}),this.resizers.forEach(i=>i.dispose()),this.rotator.dispose()}},m(Ot,"SELECTION_STROKE_COLOR","#0f8eff"),m(Ot,"SELECTION_LINE_DASH",[5,5]),Ot),Bp=class extends rt{constructor(e){super();m(this,"baseGap",20);m(this,"showGrid",!0);m(this,"showRuler",!0);m(this,"repaint",()=>{this.emit("repaint")});this.editor=e}onReady(){this.editor.viewportManager.on("change",this.repaint)}getGap(){let e=this.editor.viewportManager.getZoom(),i=[1,2,5,10,25,50,100,250,500,1e3,2500,5e3],n=this.baseGap/e;for(let r=0,s=i.length;r<s;r++)if(i[r]>=n)return i[r];return i[0]}paintRoot(e){if(!this.showGrid)return;let i=this.getGap(),{x:n,y:r,width:s,height:o}=this.editor.viewportManager.getViewRect(),a=Math.ceil(n/i)*i,l=this.editor.viewportManager.getZoom();for(let u=a;u<=n+s;u+=i)e.beginPath(),e.moveTo(u,r),e.lineTo(u,r+o),e.lineWidth=1/l,e.strokeStyle=u%(i*5)===0?"#ddd":"#eee",e.stroke();let c=Math.ceil(r/i)*i;for(let u=c;u<=r+o;u+=i)e.beginPath(),e.moveTo(n,u),e.lineTo(n+s,u),e.lineWidth=1/l,e.strokeStyle=u%(i*5)===0?"#ddd":"#eee",e.stroke()}paintTop(e){if(!this.showRuler)return;let i=this.getGap(),{x:n,y:r,width:s,height:o}=this.editor.viewportManager.getViewRect(),a=ui();e.save(),e.setTransform(1,0,0,1,0,0),e.scale(a,a);let l=20,c=4,u=5,h=this.editor.mainCanvas.width,f=this.editor.mainCanvas.height;e.beginPath(),e.fillStyle="#fff",e.fillRect(0,0,h,l),e.beginPath(),e.fillStyle="#fff",e.fillRect(0,0,l,f);let d=Math.ceil(n/i)*i;for(let g=d;g<=n+s;g+=i){e.beginPath();let b=this.editor.viewportManager.getViewPoint({x:g,y:r}),w=g%(i*5)===0;if(e.moveTo(b.x,b.y+l),e.lineTo(b.x,b.y+l-(w?u:c)),e.strokeStyle=w?"#666":"transparent",e.stroke(),w){let C=i*5,P=l-u;cs(e,{x:b.x-C/2,y:b.y,width:C,height:P},`${g}`,{color:"#666",fontFamily:"Arial",fontSize:P-4,lineHeight:1.5})}}let y=Math.ceil(r/i)*i;for(let g=y;g<=r+o;g+=i){e.beginPath();let b=this.editor.viewportManager.getViewPoint({x:n,y:g}),w=g%(i*5)===0;if(e.moveTo(b.x+l,b.y),e.lineTo(b.x+l-(w?u:c),b.y),e.strokeStyle=w?"#666":"transparent",e.stroke(),w){let C=i*5,P=l-u;e.save();let x={x:b.x+P/2,y:b.y};e.translate(x.x,x.y),e.rotate(-Math.PI/2),e.translate(-x.x,-x.y),cs(e,{x:b.x+P/2-C/2,y:b.y-P/2,width:C,height:P},`${g}`,{color:"#666",fontFamily:"Arial",fontSize:P-4,lineHeight:1.5}),e.fill(),e.restore()}}e.beginPath(),e.fillStyle="#fff",e.fillRect(0,0,l,l),e.beginPath(),e.moveTo(0,l),e.lineTo(h,l),e.strokeStyle="#666",e.lineWidth=1,e.stroke(),e.beginPath(),e.moveTo(l,0),e.lineTo(l,f),e.strokeStyle="#666",e.lineWidth=1,e.stroke(),e.restore()}getShowRuler(){return this.showRuler}setShowRuler(e){this.showRuler!==e&&(this.showRuler=e,this.repaint())}getShowGrid(){return this.showGrid}setShowGrid(e){this.showGrid!==e&&(this.showGrid=e,this.repaint())}dispose(){this.clear(),this.editor.viewportManager.off("change",this.repaint)}},Hn="",Hp=class{constructor(t){m(this,"container",document.createElement("div"));m(this,"inputDiv",document.createElement("div"));m(this,"callbck",null);m(this,"text",Hn);m(this,"handleBlur",()=>{let t=this.inputDiv.innerText;this.callbck&&(this.callbck(t),this.callbck=null),this.remove()});m(this,"handleInput",()=>{this.inputDiv.innerText||(this.inputDiv.innerText=Hn),this.text=this.inputDiv.innerText});this.editor=t,this.container.style.position="absolute",Object.assign(this.container.style,{display:"flex",alignItems:"center",justifyContent:"center",transformOrigin:"left top",borderStyle:"solid",borderColor:"transparent",boxSizing:"border-box"}),this.container.addEventListener("mousedown",e=>{Cp(e.target,i=>i===this.inputDiv)||e.preventDefault()}),this.inputDiv.setAttribute("contenteditable","true"),this.inputDiv.addEventListener("blur",this.handleBlur),this.inputDiv.addEventListener("input",this.handleInput),Object.assign(this.inputDiv.style,{wordBreak:"break-all",whiteSpace:"pre-wrap",textAlign:"center",outlineStyle:"none",lineHeight:1.5}),this.container.appendChild(this.inputDiv)}show(t,{x:e,y:i},n,r,s,o){this.container.style.left=`${e}px`,this.container.style.top=`${i}px`,this.container.style.width=`${t.width}px`,this.container.style.height=`${t.height}px`,this.container.style.transform=`matrix(${n.join(",")})`,this.inputDiv.style.color=s.color,this.inputDiv.style.fontSize=`${s.fontSize}px`,this.inputDiv.style.fontFamily=s.fontFamily,this.inputDiv.style.lineHeight=`${s.lineHeight}`,r=r||Hn,this.text=r,this.inputDiv.innerText=r,this.editor.container.appendChild(this.container),setTimeout(()=>{this.inputDiv.focus(),this.callbck=o})}focus(){this.inputDiv.focus()}remove(){this.editor.container.removeChild(this.container),this.text=Hn}},Vp=class extends rt{constructor(e){super();m(this,"minDistance",5);this.editor=e}align(e,i){let n=e.map(a=>a.getBoundingBox()),r=e.map(a=>a.getPosition()),s=yc(n),o=!1;switch(i){case"top":o=this.alignTop(e,s,n);break;case"right":o=this.alignRight(e,s,n);break;case"bottom":o=this.alignBottom(e,s,n);break;case"left":o=this.alignLeft(e,s,n);break;case"horizontalCenter":o=this.alignHorizontalCenter(e,s,n);break;case"verticalCenter":o=this.alignVerticalCenter(e,s,n);break}if(o){let a=e.map(c=>c.getPosition()),l={undo:()=>{e.forEach((c,u)=>{let h=r[u];c.setPosition(h.x,h.y)})},redo:()=>{e.forEach((c,u)=>{let h=a[u];c.setPosition(h.x,h.y)})}};this.editor.actionManager.push(l)}}alignTop(e,i,n){let r=!1;return e.forEach((s,o)=>{let a=i.minY-n[o].minY;a!==0&&(r=!0,this.updateModel(s,0,a))}),r}alignBottom(e,i,n){let r=!1;return e.forEach((s,o)=>{let a=i.maxY-n[o].maxY;a!==0&&(r=!0,this.updateModel(s,0,a))}),r}alignLeft(e,i,n){let r=!1;return e.forEach((s,o)=>{let a=i.minX-n[o].minX;a!==0&&(r=!0,this.updateModel(s,a,0))}),r}alignRight(e,i,n){let r=!1;return e.forEach((s,o)=>{let a=i.maxX-n[o].maxX;a!==0&&(r=!0,this.updateModel(s,a,0))}),r}alignVerticalCenter(e,i,n){let r=!1,s=i.minY/2+i.maxY/2;return e.forEach((o,a)=>{let l=s-(n[a].minY/2+n[a].maxY/2);l!==0&&(r=!0,this.updateModel(o,0,l))}),r}alignHorizontalCenter(e,i,n){let r=!1,s=i.minX/2+i.maxX/2;return e.forEach((o,a)=>{let l=s-(n[a].minX/2+n[a].maxX/2);l!==0&&(r=!0,this.updateModel(o,l,0))}),r}updateModel(e,i,n){let r=e.getPosition();e.setPosition(r.x+i,r.y+n)}measure(e,i){return{x:this.measureX(e,i),y:this.measureY(e,i)}}measureX(e,i){let n=this.minDistance,r=null,s=0,o=e.x,a=e.x+e.width/2,l=e.x+e.width,c=[o,a,l];for(let u=0;u<i.length;u++){let h=i[u];if(vn(h,e))continue;let f=h.x,d=h.x+h.width/2,y=h.x+h.width,g=[f,d,y];c.forEach((b,w)=>{g.forEach((C,P)=>{let x=Math.abs(b-C);x<n&&(n=x,e.y<h.y?r=[{x:C,y:e.y+e.height},{x:C,y:h.y}]:r=[{x:C,y:e.y},{x:C,y:h.y+h.height}],s=C-b)})})}return{line:r,offset:s}}measureY(e,i){let n=this.minDistance,r=null,s=0,o=e.y,a=e.y+e.height/2,l=e.y+e.height,c=[o,a,l];for(let u=0;u<i.length;u++){let h=i[u];if(vn(h,e))continue;let f=h.y,d=h.y+h.height/2,y=h.y+h.height,g=[f,d,y];c.forEach((b,w)=>{g.forEach((C,P)=>{let x=Math.abs(b-C);x<n&&(n=x,e.x<h.x?r=[{x:e.x+e.width,y:C},{x:h.x,y:C}]:r=[{x:e.x,y:C},{x:h.x+h.width,y:C}],s=C-b)})})}return{line:r,offset:s}}paintRoot(e){}paintTop(e){}dispose(){this.clear()}},zp=class{constructor(t){m(this,"rootCanvas");m(this,"rootCtx");m(this,"mainCanvas");m(this,"mainCtx");m(this,"topCanvas");m(this,"topCtx");m(this,"eventManager");m(this,"viewportManager");m(this,"actionManager");m(this,"selectionManager");m(this,"grid");m(this,"dirtyList",new Set);m(this,"paintAll",!0);m(this,"frameRects",new Map);m(this,"plugins",[]);m(this,"pluginsDirty",!0);m(this,"showPerformance",!0);m(this,"box",new _p);m(this,"textInput",new Hp(this));m(this,"alignManager");m(this,"version","1.0.1");m(this,"resize",()=>{let{width:t,height:e}=this.container.getBoundingClientRect();Lr(this.rootCanvas,t,e),Lr(this.mainCanvas,t,e),Lr(this.topCanvas,t,e),this.paintAll=!0,this.pluginsDirty=!0});m(this,"repaintPlugin",()=>{this.pluginsDirty=!0});m(this,"repaint",()=>{let t=Date.now();this.paintAll?this.fullRepaint():this.dirtyList.size&&this.partRepaint(),this.pluginsDirty&&(this.paintTop(),this.paintRoot());let e=Date.now()-t;this.showPerformance&&this.paintPerformance(e),this.pluginsDirty=!1,this.paintAll=!1,this.dirtyList.clear(),requestAnimationFrame(this.repaint)});this.container=t,t.style.position="relative",[this.rootCanvas,this.rootCtx]=this.createCanvas(),[this.mainCanvas,this.mainCtx]=this.createCanvas(),[this.topCanvas,this.topCtx]=this.createCanvas(),this.resize(),this.actionManager=new Ip,this.eventManager=new kp(this),this.installPlugin(this.eventManager),this.selectionManager=new Dp(this),this.installPlugin(this.selectionManager),this.grid=new Bp(this),this.installPlugin(this.grid),this.viewportManager=new Ws(this),this.installPlugin(this.viewportManager),this.viewportManager.on("change",()=>{this.paintAll=!0,this.pluginsDirty=!0}),this.alignManager=new Vp(this),this.installPlugin(this.alignManager),this.box.on("change",e=>{e.forEach(i=>this.dirtyList.add(i))}),this.box.on("remove-models",e=>{e.forEach(i=>this.frameRects.delete(i.id))}),this.ready(),requestAnimationFrame(this.repaint)}ready(){this.plugins.forEach(t=>{var e;return(e=t.onReady)==null?void 0:e.call(t)})}createCanvas(){let t=document.createElement("canvas");t.setAttribute("tabindex","-1");let e=t.getContext("2d");return Object.assign(t.style,{position:"absolute",left:"0px",top:"0px",width:"100%",height:"100%",outline:"none"}),this.container.appendChild(t),window.addEventListener("resize",this.resize),[t,e]}installPlugin(t){t.on("repaint",this.repaintPlugin),this.plugins.push(t)}paintPerformance(t){let e=60;t>17&&(e=1e3/t);let i=`FPS:${parseInt(e+"")}`,n=this.topCtx;n.save(),n.setTransform(1,0,0,1,0,0),n.font="30px Arial",n.fillStyle="#f00";let r=n.measureText(i).width,s=this.topCanvas.width;n.fillText(i,s-10-r,40),n.restore()}getElementsAt(t){let{x:e,y:i}=this.viewportManager.getCursorScenePoint(t),n=[];return this.box.reverseEach(r=>{r.hitTest(e,i)&&n.push(r)}),n}getElementAt(t){let{x:e,y:i}=this.viewportManager.getCursorScenePoint(t),n=null,r=null;return this.box.reverseEach(s=>{let o=s.hitTest(e,i);if(o)return n=s,typeof o!="boolean"&&(r=o),!0}),n?{model:n,control:r}:null}fullRepaint(){let t=this.mainCtx;t.save(),t.setTransform(1,0,0,1,0,0);let e=this.viewportManager.getViewport();t.clearRect(0,0,this.mainCanvas.width,this.mainCanvas.height);let i=ui(),n=this.viewportManager.getZoom(),r=-e.x,s=-e.y;t.scale(i*n,i*n),t.translate(r,s),this.box.each(o=>{this.paintModel(o,t)}),t.restore()}findDirtyRect(){if(this.dirtyList.size===0)return{rect:{x:0,y:0,width:0,height:0},models:new Set};let t=this.viewportManager.getViewRect(),e=new Set(this.dirtyList),i=this.box.getModelList(),n=[...e].reduce((s,o)=>{s.push(o.getRenderRect());let a=this.frameRects.get(o.id);return a&&s.push(a),s},[]),r=ka(...n);for(let s=0;s<i.length;s++){let o=i[s];if(e.has(o))continue;let a=o.getRenderRect();vn(a,t)&&vn(a,r)&&(e.add(o),r=ka(a,r),s=-1)}return{rect:r,models:e}}partRepaint(){let{rect:t,models:e}=this.findDirtyRect();if(!e.size)return;let i=this.mainCtx;i.save(),i.setTransform(1,0,0,1,0,0);let n=this.viewportManager.getViewport(),r=ui(),s=this.viewportManager.getZoom(),o=-n.x,a=-n.y;i.scale(r*s,r*s),i.translate(o,a),i.clearRect(t.x,t.y,t.width,t.height),this.box.each(l=>{e.has(l)&&this.paintModel(l,i)}),i.restore()}paintModel(t,e){if(this.box.has(t)){let i=t.getRenderRect();this.frameRects.set(t.id,{...i}),kt(e),t.beforePaint(e,this),t.paint(e),t.afterPaint(e,this)}else this.frameRects.delete(t.id)}paintTop(){let t=this.topCtx;t.save(),t.setTransform(1,0,0,1,0,0);let e=this.viewportManager.getViewport();t.clearRect(0,0,this.mainCanvas.width,this.mainCanvas.height);let i=ui(),n=this.viewportManager.getZoom(),r=-e.x,s=-e.y;t.scale(i*n,i*n),t.translate(r,s),this.plugins.forEach(o=>{kt(t),o.paintTop(t)}),t.restore()}paintRoot(){let t=this.rootCtx;t.save(),t.setTransform(1,0,0,1,0,0);let e=this.viewportManager.getViewport();t.clearRect(0,0,this.mainCanvas.width,this.mainCanvas.height);let i=ui(),n=this.viewportManager.getZoom(),r=-e.x,s=-e.y;t.scale(i*n,i*n),t.translate(r,s),this.plugins.forEach(o=>{kt(t),o.paintRoot(t)}),t.restore()}addModel(t){this.box.addModel(t);let e={undo:()=>{this.box.removeModel(t)},redo:()=>{this.box.addModel(t),t.reset()}};this.actionManager.push(e)}removeModel(t){let e=new Set;e.add(t),this.box.each(r=>{if(r instanceof ke){let s=r.getStartHost(),o=r.getEndHost();(s===t||o===t)&&e.add(r)}});let i=[...e];this.box.removeModels(i);let n={undo:()=>{this.box.addModels(i),i.forEach(r=>r.reset())},redo:()=>{this.box.removeModels(i)}};this.actionManager.push(n)}removeModels(t){let e=new Set(t);this.box.each(r=>{if(r instanceof ke){let s=r.getStartHost(),o=r.getEndHost();(e.has(s)||o&&e.has(o))&&e.add(r)}});let i=[...e];this.box.removeModels(i);let n={undo:()=>{this.box.addModels(i),i.forEach(r=>r.reset())},redo:()=>{this.box.removeModels(i)}};this.actionManager.push(n)}removeSelection(){let t=this.selectionManager.getSelectionList();t.length>0&&(this.removeModels(t),this.selectionManager.clearSelection())}getShowPerformance(){return this.showPerformance}setShowPerformance(t){this.showPerformance=t}dispose(){this.box.dispose(),this.eventManager.dispose(),this.viewportManager.dispose(),this.actionManager.dispose(),this.selectionManager.dispose(),this.grid.dispose()}getSceneData(){let t=[];this.box.each(r=>{let s=r.toJson();t.push(s)});let e=this.viewportManager.getViewport(),i=e.x,n=e.y;return{version:this.version,models:t,viewport:{x:i,y:n,zoom:this.viewportManager.getZoom()}}}parseSceneData(t,e){if(t.version!==this.version){console.warn("json");return}this.box.removeAll();let i=[];t.models.forEach(n=>{let r=e.parseJson(n,i);i.push(r)}),this.box.addModels(i)}getShowRuler(){return this.grid.getShowRuler()}setShowRuler(t){this.grid.setShowRuler(t)}getShowGrid(){return this.grid.getShowGrid()}setShowGrid(t){this.grid.setShowGrid(t)}},Br,Ze=(Br=class extends rt{constructor(e){super();m(this,"statusChange",()=>{this.emit("change")});this.editor=e}isActive(){return!1}dispose(){this.clear()}},m(Br,"name"),Br),xi,Fp=(xi=class extends Ze{constructor(e){super(e),e.selectionManager.on("change",this.statusChange)}isEnable(){return this.getTargetList().length>1}execute(){let e=this.getTargetList();this.editor.alignManager.align(e,"bottom")}getName(){return xi.name}dispose(){super.dispose(),this.editor.actionManager.off("change",this.statusChange)}getLabel(){return""}getTargetList(){return this.editor.selectionManager.getSelectionList().filter(e=>!(e instanceof ke))}},m(xi,"name","alignBottom"),xi),wi,$p=(wi=class extends Ze{constructor(e){super(e),e.selectionManager.on("change",this.statusChange)}isEnable(){return this.getTargetList().length>1}execute(){let e=this.getTargetList();this.editor.alignManager.align(e,"left")}getName(){return wi.name}dispose(){super.dispose(),this.editor.actionManager.off("change",this.statusChange)}getLabel(){return""}getTargetList(){return this.editor.selectionManager.getSelectionList().filter(e=>!(e instanceof ke))}},m(wi,"name","alignLeft"),wi),Ci,Np=(Ci=class extends Ze{constructor(e){super(e),e.selectionManager.on("change",this.statusChange)}isEnable(){return this.getTargetList().length>1}execute(){let e=this.getTargetList();this.editor.alignManager.align(e,"right")}getName(){return Ci.name}dispose(){super.dispose(),this.editor.actionManager.off("change",this.statusChange)}getLabel(){return""}getTargetList(){return this.editor.selectionManager.getSelectionList().filter(e=>!(e instanceof ke))}},m(Ci,"name","alignRight"),Ci),Mi,jp=(Mi=class extends Ze{constructor(e){super(e),e.selectionManager.on("change",this.statusChange)}isEnable(){return this.getTargetList().length>1}execute(){let e=this.getTargetList();this.editor.alignManager.align(e,"top")}getName(){return Mi.name}dispose(){super.dispose(),this.editor.actionManager.off("change",this.statusChange)}getLabel(){return""}getTargetList(){return this.editor.selectionManager.getSelectionList().filter(e=>!(e instanceof ke))}},m(Mi,"name","alignTop"),Mi),Ei,Wp=(Ei=class extends Ze{constructor(e){super(e),e.selectionManager.on("change",this.statusChange)}isEnable(){return this.getTargetList().length>1}execute(){let e=this.getTargetList();this.editor.alignManager.align(e,"horizontalCenter")}getName(){return Ei.name}dispose(){super.dispose(),this.editor.actionManager.off("change",this.statusChange)}getLabel(){return""}getTargetList(){return this.editor.selectionManager.getSelectionList().filter(e=>!(e instanceof ke))}},m(Ei,"name","alignHorizontalCenter"),Ei),Si,Up=(Si=class extends Ze{constructor(e){super(e),e.selectionManager.on("change",this.statusChange)}isEnable(){return this.getTargetList().length>1}execute(){let e=this.getTargetList();this.editor.alignManager.align(e,"verticalCenter")}getName(){return Si.name}dispose(){super.dispose(),this.editor.actionManager.off("change",this.statusChange)}getLabel(){return""}getTargetList(){return this.editor.selectionManager.getSelectionList().filter(e=>!(e instanceof ke))}},m(Si,"name","alignVerticalCenter"),Si),_i,Yp=(_i=class extends Ze{constructor(e){super(e),e.actionManager.on("change",this.statusChange)}isEnable(){return this.editor.actionManager.undoable()}execute(){this.editor.actionManager.undo()}getName(){return _i.name}dispose(){super.dispose(),this.editor.actionManager.off("change",this.statusChange)}getLabel(){return""}},m(_i,"name","undo"),_i),Pi,qp=(Pi=class extends Ze{constructor(e){super(e),e.actionManager.on("change",this.statusChange)}isEnable(){return this.editor.actionManager.redoable()}execute(){this.editor.actionManager.redo()}getName(){return Pi.name}dispose(){super.dispose(),this.editor.actionManager.off("change",this.statusChange)}getLabel(){return""}},m(Pi,"name","redo"),Pi),Ti,Kp=(Ti=class extends Ze{constructor(e){super(e),e.viewportManager.on("zoomChange",this.statusChange)}execute(){let e=this.editor.viewportManager.getViewRect(),i={x:e.x+e.width/2,y:e.y+e.height/2};this.editor.viewportManager.zoomIn(i)}isEnable(){return this.editor.viewportManager.getZoom()>Ws.MIN_ZOOM}dispose(){super.dispose(),this.editor.viewportManager.off("zoomChange",this.statusChange)}getLabel(){return""}getName(){return Ti.name}},m(Ti,"name","zoomIn"),Ti),Oi,Xp=(Oi=class extends Ze{constructor(e){super(e),e.viewportManager.on("zoomChange",this.statusChange)}execute(){let e=this.editor.viewportManager.getViewRect(),i={x:e.x+e.width/2,y:e.y+e.height/2};this.editor.viewportManager.zoomOut(i)}isEnable(){return this.editor.viewportManager.getZoom()<Ws.MAX_ZOOM}dispose(){super.dispose(),this.editor.viewportManager.off("zoomChange",this.statusChange)}getLabel(){return""}getName(){return Oi.name}},m(Oi,"name","zoomOut"),Oi),Ai,Zp=(Ai=class extends Ze{constructor(e){super(e),e.selectionManager.on("change",this.statusChange)}execute(){this.editor.removeSelection()}isEnable(){return this.editor.selectionManager.getSelectionList().length>0}dispose(){super.dispose(),this.editor.selectionManager.off("change",this.statusChange)}getName(){return Ai.name}getLabel(){return""}},m(Ai,"name","delete"),Ai),Ri,Gp=(Ri=class extends Ze{constructor(e){super(e)}isEnable(){return!0}execute(){this.editor.setShowPerformance(!this.editor.getShowPerformance()),this.emit("change")}getName(){return Ri.name}isActive(){return this.editor.getShowPerformance()}dispose(){super.dispose(),this.editor.actionManager.off("change",this.statusChange)}getLabel(){return""}},m(Ri,"name","performance"),Ri),Us=he({name:"Editor",__name:"Editor",emits:["ready"],setup(t,{expose:e,emit:i}){let n=de("container"),r=se(),s=se();Ts(()=>{s.value=Ii(new zp(r.value)),i("ready",s.value)});let o=()=>s.value;e({getEditor:o});let a={emit:i,bem:n,editorRef:r,editor:s,getEditor:o};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}});function Jp(t,e,i,n,r,s){return D(),W("div",{ref:"editorRef",class:V([n.bem.b()])},null,2)}Us.render=Jp;Us.__file="src/frameworks/vue/editor/Editor.vue";var Qp=Us,Ys={name:"AlignBottom"},eg={style:{transform:"rotateX(180deg)"},viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5119","xmlns:xlink":"http://www.w3.org/1999/xlink"},tg=H("path",{d:"M362.666667 362.666667h85.333333v426.666666h-85.333333zM213.333333 234.666667h597.333334v42.666666H213.333333zM576 362.666667h85.333333v256h-85.333333z",fill:"currentColor","p-id":"5120"},null,-1),ig=[tg];function ng(t,e,i,n,r,s){return D(),W("svg",eg,ig)}Ys.render=ng;Ys.__file="src/frameworks/vue/icons/align-bottom.vue";var rg=Ys,qs={name:"AlignHorizontalCenter"},sg={viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5055","xmlns:xlink":"http://www.w3.org/1999/xlink"},og=H("path",{d:"M112 319a8 8 0 0 1 8-8h784a8 8 0 0 1 8 8v64a8 8 0 0 1-8 8H120a8 8 0 0 1-8-8v-64zM288 527a8 8 0 0 1 8-8h433a8 8 0 0 1 8 8v64a8 8 0 0 1-8 8H296a8 8 0 0 1-8-8v-64z",fill:"#707070","p-id":"5056"},null,-1),ag=H("path",{d:"M480 120a8 8 0 0 1 8-8h48a8 8 0 0 1 8 8v784a8 8 0 0 1-8 8h-48a8 8 0 0 1-8-8V120z",fill:"currentColor","p-id":"5057"},null,-1),lg=[og,ag];function cg(t,e,i,n,r,s){return D(),W("svg",sg,lg)}qs.render=cg;qs.__file="src/frameworks/vue/icons/align-horizontal-center.vue";var ug=qs,Ks={name:"AlignLeft"},hg={style:{transform:"rotate(-90deg)"},viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5119","xmlns:xlink":"http://www.w3.org/1999/xlink"},fg=H("path",{d:"M362.666667 362.666667h85.333333v426.666666h-85.333333zM213.333333 234.666667h597.333334v42.666666H213.333333zM576 362.666667h85.333333v256h-85.333333z",fill:"currentColor","p-id":"5120"},null,-1),dg=[fg];function pg(t,e,i,n,r,s){return D(),W("svg",hg,dg)}Ks.render=pg;Ks.__file="src/frameworks/vue/icons/align-left.vue";var gg=Ks,Xs={name:"AlignRight"},mg={style:{transform:"rotate(90deg)"},viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5119","xmlns:xlink":"http://www.w3.org/1999/xlink"},vg=H("path",{d:"M362.666667 362.666667h85.333333v426.666666h-85.333333zM213.333333 234.666667h597.333334v42.666666H213.333333zM576 362.666667h85.333333v256h-85.333333z",fill:"currentColor","p-id":"5120"},null,-1),yg=[vg];function bg(t,e,i,n,r,s){return D(),W("svg",mg,yg)}Xs.render=bg;Xs.__file="src/frameworks/vue/icons/align-right.vue";var xg=Xs,Zs={name:"AlignTop"},wg={viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5119","xmlns:xlink":"http://www.w3.org/1999/xlink"},Cg=H("path",{d:"M362.666667 362.666667h85.333333v426.666666h-85.333333zM213.333333 234.666667h597.333334v42.666666H213.333333zM576 362.666667h85.333333v256h-85.333333z",fill:"currentColor","p-id":"5120"},null,-1),Mg=[Cg];function Eg(t,e,i,n,r,s){return D(),W("svg",wg,Mg)}Zs.render=Eg;Zs.__file="src/frameworks/vue/icons/align-top.vue";var Sg=Zs,Gs={name:"AlignVerticalCenter"},_g={style:{transform:"rotate(90deg)"},viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5055","xmlns:xlink":"http://www.w3.org/1999/xlink"},Pg=H("path",{d:"M112 319a8 8 0 0 1 8-8h784a8 8 0 0 1 8 8v64a8 8 0 0 1-8 8H120a8 8 0 0 1-8-8v-64zM288 527a8 8 0 0 1 8-8h433a8 8 0 0 1 8 8v64a8 8 0 0 1-8 8H296a8 8 0 0 1-8-8v-64z",fill:"#707070","p-id":"5056"},null,-1),Tg=H("path",{d:"M480 120a8 8 0 0 1 8-8h48a8 8 0 0 1 8 8v784a8 8 0 0 1-8 8h-48a8 8 0 0 1-8-8V120z",fill:"currentColor","p-id":"5057"},null,-1),Og=[Pg,Tg];function Ag(t,e,i,n,r,s){return D(),W("svg",_g,Og)}Gs.render=Ag;Gs.__file="src/frameworks/vue/icons/align-vertical-center.vue";var Rg=Gs,Js={name:"ArrowDown"},Lg={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},kg=H("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"},null,-1),Ig=[kg];function Dg(t,e,i,n,r,s){return D(),W("svg",Lg,Ig)}Js.render=Dg;Js.__file="src/frameworks/vue/icons/arrow-down.vue";var Bg=Js,Qs={name:"Delete"},Hg={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":"3095","xmlns:xlink":"http://www.w3.org/1999/xlink"},Vg=H("path",{d:"M847.743 223.953H640.639c-3.132-68.921-60.177-124.029-129.858-124.029s-126.726 55.108-129.858 124.029H173.256c-17.673 0-32 14.327-32 32s14.327 32 32 32h674.487c17.673 0 32-14.327 32-32s-14.327-32-32-32z m-336.962-60.03c34.379 0 62.689 26.426 65.718 60.029H445.064c3.029-33.603 31.338-60.029 65.717-60.029zM767.743 351.79c-17.673 0-32 14.327-32 32v478.173H288.256V383.79c0-17.673-14.327-32-32-32s-32 14.327-32 32v510.173c0 17.673 14.327 32 32 32h511.487c17.673 0 32-14.327 32-32V383.79c0-17.673-14.327-32-32-32z","p-id":"3096"},null,-1),zg=H("path",{d:"M449.306 732.802V448.208c0-17.673-14.327-32-32-32s-32 14.327-32 32v284.593c0 17.673 14.327 32 32 32s32-14.326 32-31.999z m191.534 0V448.208c0-17.673-14.327-32-32-32s-32 14.327-32 32v284.593c0 17.673 14.327 32 32 32s32-14.326 32-31.999z","p-id":"3097"},null,-1),Fg=[Vg,zg];function $g(t,e,i,n,r,s){return D(),W("svg",Hg,Fg)}Qs.render=$g;Qs.__file="src/frameworks/vue/icons/delete.vue";var Ng=Qs,eo={name:"Diamond"},jg={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":"9700","xmlns:xlink":"http://www.w3.org/1999/xlink"},Wg=H("path",{d:"M512 0l512 512-512 512-512-512 512-512z m0 80.497778L80.497778 512 512 943.502222 943.502222 512 512 80.497778z",fill:"currentColor"},null,-1),Ug=[Wg];function Yg(t,e,i,n,r,s){return D(),W("svg",jg,Ug)}eo.render=Yg;eo.__file="src/frameworks/vue/icons/diamond.vue";var qg=eo,to={name:"Ellipse"},Kg={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":"6138","xmlns:xlink":"http://www.w3.org/1999/xlink"},Xg=H("path",{d:"M512 998.4C243.776 998.4 25.6 780.224 25.6 512S243.776 25.6 512 25.6s486.4 218.176 486.4 486.4-218.176 486.4-486.4 486.4zM512 76.8C272 76.8 76.8 272 76.8 512s195.2 435.2 435.2 435.2 435.2-195.2 435.2-435.2S752 76.8 512 76.8z","p-id":"6139",fill:"currentColor"},null,-1),Zg=[Xg];function Gg(t,e,i,n,r,s){return D(),W("svg",Kg,Zg)}to.render=Gg;to.__file="src/frameworks/vue/icons/ellipse.vue";var Jg=to,io={name:"Github"},Qg={t:"1721741479435",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7731","xmlns:xlink":"http://www.w3.org/1999/xlink"},em=H("path",{d:"M64 512c0 195.2 124.8 361.6 300.8 422.4 22.4 6.4 19.2-9.6 19.2-22.4v-76.8c-134.4 16-140.8-73.6-150.4-89.6-19.2-32-60.8-38.4-48-54.4 32-16 64 3.2 99.2 57.6 25.6 38.4 76.8 32 105.6 25.6 6.4-22.4 19.2-44.8 35.2-60.8-144-22.4-201.6-108.8-201.6-211.2 0-48 16-96 48-131.2-22.4-60.8 0-115.2 3.2-121.6 57.6-6.4 118.4 41.6 124.8 44.8 32-9.6 70.4-12.8 112-12.8 41.6 0 80 6.4 112 12.8 12.8-9.6 67.2-48 121.6-44.8 3.2 6.4 25.6 57.6 6.4 118.4 32 38.4 48 83.2 48 131.2 0 102.4-57.6 188.8-201.6 214.4 22.4 22.4 38.4 54.4 38.4 92.8v112c0 9.6 0 19.2 16 19.2C832 876.8 960 710.4 960 512c0-246.4-201.6-448-448-448S64 265.6 64 512z",fill:"currentColor","p-id":"7732"},null,-1),tm=[em];function im(t,e,i,n,r,s){return D(),W("svg",Qg,tm)}io.render=im;io.__file="src/frameworks/vue/icons/github.vue";var nm=io,no={name:"Performance"},rm={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":"5163","xmlns:xlink":"http://www.w3.org/1999/xlink"},sm=H("path",{d:"M461.223546 894.876154c-1.062192 0-2.099824-0.048095-3.162016-0.193405-11.732206-1.497097-20.736277-11.103896-21.532409-22.884197l-40.336684-605.249801L287.129486 630.065999c-3.186576 10.670014-14.097066 17.911952-24.260543 17.621333-11.128455-0.2415-20.711717-7.91732-23.390733-18.732643l-38.864146-155.385976-68.000743 68.000743c-4.634554 4.634554-10.911514 7.241938-17.477047 7.241938L65.698305 548.811394l0-49.437969 39.20286 0 91.634-91.634c6.300496-6.300496 15.425318-8.810666 24.067138-6.348592 8.593725 2.38942 15.231913 9.197476 17.380856 17.839297l27.6395 110.48637 122.460076-408.222425c3.451612-11.466146 14.677281-18.732643 26.456558-17.477047 11.876492 1.351787 21.097504 11.007705 21.894659 22.932292l41.061185 616.136755 108.555391-325.68971c3.186576-9.487072 11.732206-16.125259 21.725814-16.825201 10.041704-0.627287 19.408025 4.634554 23.850198 13.59053l76.763314 153.526629 27.326369-54.651714c4.200672-8.376785 12.745279-13.663184 22.1116-13.663184l197.750853 0 0 49.437969L773.08225 548.811394l-42.581818 85.212754c-8.400321 16.70445-35.82288 16.70445-44.223201 0l-72.176856-144.378272L484.638839 877.978299C481.259882 888.165312 471.724715 894.876154 461.223546 894.876154z",fill:"currentColor","p-id":"5164"},null,-1),om=[sm];function am(t,e,i,n,r,s){return D(),W("svg",rm,om)}no.render=am;no.__file="src/frameworks/vue/icons/performance.vue";var lm=no,ro={name:"Rect"},cm={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},um=H("path",{d:"M898.8 199.6v624.8H125.2V199.6h773.6m59.5-59.5H65.7v743.8h892.5V140.1h0.1z","p-id":"905"},null,-1),hm=[um];function fm(t,e,i,n,r,s){return D(),W("svg",cm,hm)}ro.render=fm;ro.__file="src/frameworks/vue/icons/rect.vue";var dm=ro,so={name:"Redo"},pm={style:{transform:"rotateY(180deg)"},viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},gm=H("path",{d:"M596.16 284.064H258.56l101.376-101.44a31.968 31.968 0 1 0-45.248-45.216L178.56 273.504c-11.904 11.872-18.496 27.84-18.56 44.8a63.04 63.04 0 0 0 18.56 45.28l136.128 136.16a31.904 31.904 0 0 0 45.248 0 31.968 31.968 0 0 0 0-45.248l-106.752-106.496H596.16c114.88 0 208.32 93.312 208.32 208s-93.44 208-208.32 208h-223.36a32 32 0 0 0 0 64h223.36c150.144 0 272.32-122.016 272.32-272 0-149.984-122.176-272-272.32-272",fill:"currentColor","p-id":"1124"},null,-1),mm=[gm];function vm(t,e,i,n,r,s){return D(),W("svg",pm,mm)}so.render=vm;so.__file="src/frameworks/vue/icons/redo.vue";var ym=so,oo={name:"Save"},bm={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":"8002","xmlns:xlink":"http://www.w3.org/1999/xlink"},xm=H("path",{d:"M814.805 128a51.179 51.179 0 0 1 51.179 51.179V844.01a51.179 51.179 0 0 1-51.179 51.157H201.173a51.179 51.179 0 0 1-51.178-51.157V179.179A51.179 51.179 0 0 1 201.173 128h613.654zM329.024 434.837a51.093 51.093 0 0 1-51.179-51.093V179.157h-76.672v664.854h613.76V179.179H738.22v204.48a51.179 51.179 0 0 1-51.179 51.178H329.024z m0-51.093h357.995V179.157H329.024v204.587z m357.91 204.501a25.557 25.557 0 1 1 0.085 51.072H329.024a25.536 25.536 0 1 1 0-51.072h357.91z",fill:"currentColor","p-id":"8003"},null,-1),wm=[xm];function Cm(t,e,i,n,r,s){return D(),W("svg",bm,wm)}oo.render=Cm;oo.__file="src/frameworks/vue/icons/save.vue";var Mm=oo,ao={name:"Terminator"},Em={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Sm=H("path",{d:"M717 256q52.5 0 99.5 20.5 46.5 20 81.5 55 34.5 34.5 55 81 20 46.5 20 99.5t-20 99.5q-20.5 46.5-55 81.5-35 34.5-81.5 55-47 20-99.5 20H307q-52.5 0-99-20-47-20.5-81.5-55-35-35-55-81.5-20.5-46.5-20.5-99.5t20.5-99.5q20-46.5 55-81 34.5-35 81.5-55 46.5-20.5 99-20.5m410 461q42 0 79.5-16 37-16.5 65-44 27.5-28 44-65 16-37.5 16-80t-16-79.5q-16.5-37.5-44-65-28-28-65-44-37.5-16.5-79.5-16.5H307q-42 0-79 16.5-37.5 16-65 44-28 27.5-44 65-16.5 37-16.5 79.5t16.5 80q16 37 44 65 27.5 27.5 65 44 37 16 79 16z",fill:"currentColor","p-id":"5170"},null,-1),_m=H("path",{d:"M307 742.5q-47.5 0-89.5-18-42-18.5-73-49.5-31.5-31.5-49.5-73.5t-18-89.5q0-47.5 18-89.5t49.5-73q31-31.5 73-49.5 42-18.5 89.5-18.5h410q47.5 0 89.5 18.5 42 18 73.5 49.5 31 31 49 73t18 89.5q0 47.5-18 89.5t-49 73.5q-31.5 31-73.5 49.5-42 18-89.5 18z",fill:"#FAFAFA","p-id":"5171"},null,-1),Pm=H("path",{d:"M717 256q52.5 0 99.5 20.5 46.5 20 81.5 55 34.5 34.5 55 81 20 46.5 20 99.5t-20 99.5q-20.5 46.5-55 81.5-35 34.5-81.5 55-47 20-99.5 20H307q-52.5 0-99-20-47-20.5-81.5-55-35-35-55-81.5-20.5-46.5-20.5-99.5t20.5-99.5q20-46.5 55-81 34.5-35 81.5-55 46.5-20.5 99-20.5m410 461q42 0 79.5-16 37-16.5 65-44 27.5-28 44-65 16-37.5 16-80t-16-79.5q-16.5-37.5-44-65-28-28-65-44-37.5-16.5-79.5-16.5H307q-42 0-79 16.5-37.5 16-65 44-28 27.5-44 65-16.5 37-16.5 79.5t16.5 80q16 37 44 65 27.5 27.5 65 44 37 16 79 16z",fill:"currentColor","p-id":"5172"},null,-1),Tm=[Sm,_m,Pm];function Om(t,e,i,n,r,s){return D(),W("svg",Em,Tm)}ao.render=Om;ao.__file="src/frameworks/vue/icons/terminator.vue";var Am=ao,lo={name:"Undo"},Rm={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":"1123","xmlns:xlink":"http://www.w3.org/1999/xlink"},Lm=H("path",{d:"M596.16 284.064H258.56l101.376-101.44a31.968 31.968 0 1 0-45.248-45.216L178.56 273.504c-11.904 11.872-18.496 27.84-18.56 44.8a63.04 63.04 0 0 0 18.56 45.28l136.128 136.16a31.904 31.904 0 0 0 45.248 0 31.968 31.968 0 0 0 0-45.248l-106.752-106.496H596.16c114.88 0 208.32 93.312 208.32 208s-93.44 208-208.32 208h-223.36a32 32 0 0 0 0 64h223.36c150.144 0 272.32-122.016 272.32-272 0-149.984-122.176-272-272.32-272",fill:"currentColor","p-id":"1124"},null,-1),km=[Lm];function Im(t,e,i,n,r,s){return D(),W("svg",Rm,km)}lo.render=Im;lo.__file="src/frameworks/vue/icons/undo.vue";var Dm=lo,co={name:"ZoomIn"},Bm={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},Hm=H("path",{d:"M598.646154 401.723077H279.630769c-15.753846 0-27.569231 11.815385-27.569231 31.507692 0 15.753846 11.815385 27.569231 31.507693 27.569231h319.015384c15.753846 0 27.569231-11.815385 27.569231-31.507692 0-15.753846-15.753846-27.569231-31.507692-27.569231z",fill:"currentColor","p-id":"967"},null,-1),Vm=H("path",{d:"M921.6 850.707692l-204.8-196.923077c47.261538-59.076923 78.769231-137.846154 78.769231-220.553846 0-196.923077-157.538462-354.461538-354.461539-354.461538s-354.461538 157.538462-354.461538 354.461538 157.538462 354.461538 354.461538 354.461539c90.584615 0 173.292308-35.446154 236.307693-90.584616l204.8 196.923077c3.938462 3.938462 11.815385 7.876923 19.692307 7.876923s15.753846-3.938462 19.692308-7.876923c11.815385-15.753846 11.815385-35.446154 0-43.323077z m-484.430769-126.030769c-161.476923 0-295.384615-133.907692-295.384616-295.384615S275.692308 133.907692 437.169231 133.907692s295.384615 133.907692 295.384615 295.384616-129.969231 295.384615-295.384615 295.384615z",fill:"currentColor"},null,-1),zm=[Hm,Vm];function Fm(t,e,i,n,r,s){return D(),W("svg",Bm,zm)}co.render=Fm;co.__file="src/frameworks/vue/icons/zoom-in.vue";var $m=co,uo={name:"ZoomOut"},Nm={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},jm=H("path",{d:"M970.837333 919.850667l-205.696-205.653334A382.421333 382.421333 0 0 0 853.333333 469.333333a384 384 0 0 0-384-384 384 384 0 0 0-384 384 384 384 0 0 0 384 384 382.421333 382.421333 0 0 0 244.906667-88.192l205.653333 205.653334a36.053333 36.053333 0 0 0 50.986667 0 36.266667 36.266667 0 0 0-0.042667-50.944z m-380.117333-162.986667c-38.4 16.256-79.189333 24.448-121.386667 24.448a311.296 311.296 0 0 1-220.586666-91.392A311.296 311.296 0 0 1 157.312 469.333333 311.296 311.296 0 0 1 248.746667 248.746667 311.296 311.296 0 0 1 469.333333 157.354667a311.296 311.296 0 0 1 220.586667 91.392A311.296 311.296 0 0 1 781.354667 469.333333a311.296 311.296 0 0 1-91.392 220.586667 310.186667 310.186667 0 0 1-99.242667 66.901333z",fill:"currentColor","p-id":"1129"},null,-1),Wm=H("path",{d:"M652.672 431.829333h-147.84V292.010667a35.968 35.968 0 1 0-71.978667 0v139.818666H292.010667a35.968 35.968 0 1 0 0 72.021334h140.8v140.8a35.968 35.968 0 1 0 72.021333 0v-140.8h147.84a35.968 35.968 0 1 0 0-72.021334z",fill:"currentColor"},null,-1),Um=[jm,Wm];function Ym(t,e,i,n,r,s){return D(),W("svg",Nm,Um)}uo.render=Ym;uo.__file="src/frameworks/vue/icons/zoom-out.vue";var qm=uo,ho=he({name:"Icon",__name:"Icon",setup(t,{expose:e}){e();let i={bem:de("icon")};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}});function Km(t,e,i,n,r,s){return D(),W("div",{class:V([n.bem.b()])},[bt(t.$slots,"default")],2)}ho.render=Km;ho.__file="src/frameworks/vue/components/icon/Icon.vue";var Ec=ho,fo=he({__name:"ToolbarButton",props:{command:{type:Object,required:!0},getIcon:{type:Function}},setup(t,{expose:e}){var d;e();let i=t,n=de("toolbar"),r={undo:Dm,redo:ym,zoomOut:qm,zoomIn:$m,delete:Ng,performance:lm,save:Mm,alignTop:Sg,alignBottom:rg,alignLeft:gg,alignRight:xg,alignHorizontalCenter:ug,alignVerticalCenter:Rg},s=((d=i.getIcon)==null?void 0:d.call(i,i.command.getName()))||r[i.command.getName()],o=se(i.command.isEnable()),a=se(i.command.isActive()),l=i.command.getLabel(),c=y=>{var g;((g=document.activeElement)==null?void 0:g.tagName.toLowerCase())==="canvas"&&y.preventDefault()},u=()=>{o.value&&i.command.execute()},h=()=>{o.value=i.command.isEnable(),a.value=i.command.isActive()};i.command.on("change",h),Wi(()=>{i.command.off("change",h)});let f={bem:n,props:i,iconMap:r,currentComponent:s,isEnable:o,isActive:a,label:l,handleMousedown:c,handleClick:u,onChange:h,Icon:Ec};return Object.defineProperty(f,"__isScriptSetup",{enumerable:!1,value:!0}),f}}),Xm=["title"];function Zm(t,e,i,n,r,s){return D(),W("div",{onMousedown:n.handleMousedown,title:n.label,class:V([n.bem.e("button"),n.bem.is("disabled",!n.isEnable),n.bem.is("active",n.isActive)]),onClick:n.handleClick},[J(n.Icon,null,{default:tt(()=>[(D(),Te(qn(n.currentComponent)))]),_:1})],42,Xm)}fo.render=Zm;fo.__file="src/frameworks/vue/toolbar/ToolbarButton.vue";var Gm=fo,po=he({name:"Toolbar",__name:"Toolbar",props:{commands:{type:Array,required:!0},getIcon:{type:Function}},setup(t,{expose:e}){e();let i={bem:de("toolbar"),ToolbarButton:Gm};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}});function Jm(t,e,i,n,r,s){return D(),W("div",{class:V([n.bem.b()])},[(D(!0),W(ve,null,Di(i.commands,o=>(D(),Te(n.ToolbarButton,{"get-icon":i.getIcon,command:o,key:o.getName()},null,8,["get-icon","command"]))),128))],2)}po.render=Jm;po.__file="src/frameworks/vue/toolbar/Toolbar.vue";var Qm=po;function e0(t){return[new Yp(t),new qp(t),new Xp(t),new Kp(t),new Zp(t),new Gp(t),new jp(t),new Fp(t),new $p(t),new Np(t),new Wp(t),new Up(t)]}var go=he({__name:"LibraryCollapse",props:{title:{type:String,required:!0}},setup(t,{expose:e}){e();let i=de("library-collapse"),n={beforeEnter(o){o.style.maxHeight=0},enter(o){o.style.maxHeight=`${o.scrollHeight}px`},afterEnter(o){o.style.maxHeight=""},beforeLeave(o){o.style.maxHeight=`${o.scrollHeight}px`},leave(o){o.style.maxHeight=0},afterLeave(o){o.style.maxHeight=""}},r=se(!1),s={bem:i,transitionOn:n,isCollapsed:r,toggleCollapse:()=>{r.value=!r.value}};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}});function t0(t,e,i,n,r,s){return D(),W("div",{class:V([n.bem.b(),n.bem.is("collapsed",n.isCollapsed)])},[H("div",{onClick:n.toggleCollapse,class:V(n.bem.e("header"))},[H("div",{class:V(n.bem.e("arrow"))},null,2),H("div",{class:V(n.bem.e("title"))},Li(i.title),3)],2),J(Bs,Is(Qu(n.transitionOn),{persisted:""}),{default:tt(()=>[Vu(H("div",{class:V(n.bem.e("content"))},[bt(t.$slots,"default")],2),[[sf,!n.isCollapsed]])]),_:3},16)],2)}go.render=t0;go.__file="src/frameworks/vue/library/LibraryCollapse.vue";var i0=go,Sc=Symbol();function n0(){let t=[],e={editor:null,modelManager:new Op},i={setEditor(n){e.editor=n,t.forEach(r=>{r(n)}),t.length=0},getEditor(){if(!e.editor)throw new Error("editor is not init");return e.editor},getModelManager(){return e.modelManager},register(n){n.forEach(r=>{r.models.forEach(s=>{e.modelManager.register(s)})})},ready(){return new Promise(n=>{e.editor?n(e.editor):t.push(n)})}};return ur(Sc,i),i}function mo(){let t=Qt(Sc,void 0);if(!t)throw new Error("store is not init");return t}var Ji=20,vo=he({name:"Library",__name:"Library",props:{groupList:{type:Array,required:!0}},setup(t,{expose:e}){e();let i=mo(),n=de("library"),r={rect:dm,terminator:Am,diamond:qg,ellipse:Jg},s=l=>{if(l in r)return r[l]},o=bn({visible:!1,currentCategory:"",left:0,top:0}),a={store:i,bem:n,iconMap:r,getIcon:s,moveContext:o,HALF_MOVE_SIZE:Ji,handleMousedown:async(l,c)=>{l.preventDefault(),o.visible=!0,o.currentCategory=c,o.left=l.pageX-Ji,o.top=l.pageY-Ji,Vt({onDragMove(u){o.left=u.pageX-Ji,o.top=u.pageY-Ji},onDragEnd(u){o.visible=!1;let h=i.getEditor(),{x:f,y:d,width:y,height:g}=h.container.getBoundingClientRect();if(u.pageX>=f&&u.pageY>=d&&u.pageX<=f+y&&u.pageY<=d+g){let b=i.getModelManager().getInstance(c),w=h.viewportManager.getScenePoint({x:u.pageX-f,y:u.pageY-d});b.setCenterPosition(w.x,w.y),h.addModel(b)}}},l)},LibraryCollapse:i0};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}}),r0=["onMousedown"];function s0(t,e,i,n,r,s){return D(),W("div",{class:V([n.bem.b()])},[(D(!0),W(ve,null,Di(i.groupList,o=>(D(),Te(n.LibraryCollapse,{title:o.groupName},{default:tt(()=>[H("div",{class:V(n.bem.e("list"))},[(D(!0),W(ve,null,Di(o.models,a=>(D(),W("div",{onMousedown:l=>n.handleMousedown(l,a.CATEGORY),class:V([n.bem.e("item")])},[(D(),Te(qn(n.getIcon(a.CATEGORY))))],42,r0))),256))],2)]),_:2},1032,["title"]))),256)),(D(),Te(ql,{to:"body"},[n.moveContext.visible?(D(),W("div",{key:0,class:V([n.bem.e("move")]),style:Ve({left:`${n.moveContext.left}px`,top:`${n.moveContext.top}px`})},[(D(),Te(qn(n.getIcon(n.moveContext.currentCategory))))],6)):Lt("v-if",!0)]))],2)}vo.render=s0;vo.__file="src/frameworks/vue/library/Library.vue";var o0=vo,a0=()=>[{groupId:"base",groupName:"",models:[Ap,Lp,Pp,Tp]}],_c=Symbol();function l0(){return Qt(_c)}var vr=[{component:"Position",getter(t){let e=t.getPosition();return[e.x,e.y]},setter(t,e){!Array.isArray||e.length!==2||t.setPosition(e[0],e[1])},watch:"rectChange"},{component:"Size",getter(t){let e=t.getSize();return[e.width,e.height]},setter(t,e){!Array.isArray||e.length!==2||t.setSize(e[0],e[1])},watch:"rectChange"},{label:"",component:"IntInput",key:"rotateDeg",keyType:"base",watch:"rectChange",componentAttrs:{append:""}}],yr=[{label:"",component:"IntInput",key:"border.width",keyType:"attr"},{label:"",component:"Select",key:"border.style",keyType:"attr",componentAttrs:{options:[{label:"",value:"solid"},{label:"",value:"dashed"}]}},{label:"",component:"ColorPicker",key:"border.color",keyType:"attr"}],br=[{label:"",component:"ColorPicker",key:"content.style.color",keyType:"attr"},{label:"",component:"IntInput",key:"content.style.fontSize",keyType:"attr"}],c0={name:"",propertyGroups:[{name:"",properties:vr},{name:"",properties:[{label:"",component:"ColorPicker",key:"fillColor",keyType:"attr"}]},{name:"",properties:[{label:"",component:"IntInput",key:"roundGap",keyType:"attr"},...yr]},{name:"",properties:br}]},u0={name:"/",propertyGroups:[{name:"",properties:vr},{name:"",properties:[{label:"",component:"ColorPicker",key:"fillColor",keyType:"attr"}]},{name:"",properties:[...yr]},{name:"",properties:br}]},h0={name:"",propertyGroups:[{name:"",properties:vr},{name:"",properties:[{label:"",component:"ColorPicker",key:"fillColor",keyType:"attr"}]},{name:"",properties:[...yr]},{name:"",properties:br}]},f0={name:"",propertyGroups:[{name:"",properties:vr},{name:"",properties:[{label:"",component:"ColorPicker",key:"fillColor",keyType:"attr"}]},{name:"",properties:[...yr]},{name:"",properties:br}]},d0={name:"",propertyGroups:[{name:"",properties:[{label:"",component:"ColorPicker",key:"lineColor",keyType:"attr"},{label:"",component:"IntInput",key:"lineWidth",keyType:"attr"},{label:"",component:"Select",key:"lineStyle",keyType:"attr",componentAttrs:{options:[{label:"",value:"solid"},{label:"",value:"dashed"}]}},{label:"",component:"Switch",key:"animationState",keyType:"base"}]}]},p0={name:"",propertyGroups:[{name:"",properties:[{label:"",component:"Switch",key:"showRuler",keyType:"base"},{label:"",component:"Switch",key:"showGrid",keyType:"base"}]}]},Ka={rect:c0,terminator:u0,ellipse:h0,diamond:f0,link:d0,scene:p0},yo=he({name:"Input",__name:"Input",props:{modelValue:{type:[String,Number],default:""},prepend:{type:String,default:""},append:{type:String,default:""},formatter:{type:Function,required:!1},readonly:{type:Boolean,default:!1}},emits:["update:modelValue","blur","focus"],setup(t,{expose:e,emit:i}){e();let n=t,r=de("input"),s=se("");ze(()=>n.modelValue,()=>{s.value=String(n.modelValue??"")},{immediate:!0});let o=th(),a=Oe(()=>!!(o.append||n.append)),l=Oe(()=>!!(o.prepend||n.prepend)),c=f=>{let{value:d}=f.target;n.formatter&&(d=n.formatter(d)),s.value=d,i("update:modelValue",d)},u=se(!1),h={bem:r,props:n,emit:i,inputValue:s,slots:o,hasAppend:a,hasPrepend:l,handleInput:c,isFocus:u,handleFocus:f=>{u.value=!0,i("focus",f)},handleBlur:f=>{u.value=!1,i("blur",f)}};return Object.defineProperty(h,"__isScriptSetup",{enumerable:!1,value:!0}),h}}),g0=["readonly","value"];function m0(t,e,i,n,r,s){return D(),W("div",{class:V([n.bem.b(),n.bem.has("prepend",n.hasPrepend),n.bem.has("append",n.hasAppend),n.bem.is("focus",n.isFocus),n.bem.is("readonly",i.readonly)])},[n.hasPrepend?(D(),W("span",{key:0,class:V(n.bem.e("prepend"))},[bt(t.$slots,"prepend",{},()=>[H("span",null,Li(i.prepend),1)])],2)):Lt("v-if",!0),H("div",{class:V(n.bem.e("wrapper"))},[H("input",{readonly:i.readonly,value:n.inputValue,onFocus:n.handleFocus,type:"text",class:V(n.bem.e("inner")),onInput:n.handleInput,onBlur:n.handleBlur},null,42,g0),n.slots.suffix?(D(),W("span",{key:0,class:V(n.bem.e("suffix"))},[bt(t.$slots,"suffix")],2)):Lt("v-if",!0)],2),n.hasAppend?(D(),W("span",{key:1,class:V(n.bem.e("append"))},[bt(t.$slots,"append",{},()=>[H("span",null,Li(i.append),1)])],2)):Lt("v-if",!0)],2)}yo.render=m0;yo.__file="src/frameworks/vue/components/input/Input.vue";var En=yo,bo=he({name:"Position",__name:"Position",props:{modelValue:{type:Array,required:!0}},emits:["update:modelValue"],setup(t,{expose:e,emit:i}){e();let n=t,r=de("position"),s=se(n.modelValue[0]),o=se(n.modelValue[1]);ze(()=>n.modelValue,()=>{s.value=n.modelValue[0],o.value=n.modelValue[1]},{deep:!0});let a={bem:r,props:n,emit:i,modelValue0:s,modelValue1:o,handlerBlur:async()=>{s.value=yn(s.value),o.value=yn(o.value),i("update:modelValue",[s.value,o.value])},Input:En};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}});function v0(t,e,i,n,r,s){return D(),W("div",{class:V([n.bem.b()])},[J(n.Input,{modelValue:i.modelValue[0],"onUpdate:modelValue":e[0]||(e[0]=o=>i.modelValue[0]=o),onBlur:n.handlerBlur,prepend:"X",append:"px"},null,8,["modelValue"]),J(n.Input,{modelValue:i.modelValue[1],"onUpdate:modelValue":e[1]||(e[1]=o=>i.modelValue[1]=o),onBlur:n.handlerBlur,prepend:"Y",append:"px"},null,8,["modelValue"])],2)}bo.render=v0;bo.__file="src/frameworks/vue/components/position/Position.vue";var Xa=bo,xo=he({name:"Size",__name:"Size",props:{modelValue:{type:Array,required:!0}},emits:["update:modelValue"],setup(t,{expose:e,emit:i}){e();let n=t,r=de("size"),s=se(n.modelValue[0]),o=se(n.modelValue[1]);ze(()=>n.modelValue,()=>{s.value=n.modelValue[0],o.value=n.modelValue[1]},{deep:!0});let a={bem:r,props:n,emit:i,modelValue0:s,modelValue1:o,handlerBlur:async()=>{s.value=Math.max(20,yn(s.value)),o.value=Math.max(20,yn(o.value)),i("update:modelValue",[s.value,o.value])},Input:En};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}});function y0(t,e,i,n,r,s){return D(),W("div",{class:V([n.bem.b()])},[J(n.Input,{modelValue:i.modelValue[0],"onUpdate:modelValue":e[0]||(e[0]=o=>i.modelValue[0]=o),onBlur:n.handlerBlur,prepend:"W",append:"px"},null,8,["modelValue"]),J(n.Input,{modelValue:i.modelValue[1],"onUpdate:modelValue":e[1]||(e[1]=o=>i.modelValue[1]=o),onBlur:n.handlerBlur,prepend:"H",append:"px"},null,8,["modelValue"])],2)}xo.render=y0;xo.__file="src/frameworks/vue/components/size/Size.vue";var Za=xo,Yt,qt;function b0(t){(!Yt||!qt)&&(Yt=document.createElement("canvas"),Yt.width=1,Yt.height=1,Yt.style.width="1px",Yt.style.height="1px",qt=Yt.getContext("2d",{willReadFrequently:!0})),qt.clearRect(0,0,1,1),qt.beginPath(),qt.fillStyle=t,qt.fillRect(0,0,1,1);let e=qt.getImageData(0,0,1,1).data,i=e[3]/255;return i=parseFloat(i.toFixed(2)),{r:e[0],g:e[1],b:e[2],a:i}}function x0(t,e,i){let n=Math.max(t,e,i),r=Math.min(t,e,i),s=0,o=0,a=0,l=n-r;return n===r?s=0:t===n?e>=i?s=60*(e-i)/l:s=60*(e-i)/l+360:e===n?s=60*(i-t)/l+120:s=60*(t-e)/l+240,s>360?s-=360:s<0&&(s+=360),o=l/n,a=n/255,s/=360,o=isNaN(o)?0:o,{h:s,s:o,v:a}}function hs(t,e,i){t*=360;let n=0,r=0,s=0,o=Math.floor(t/60),a=t/60-o,l=i*(1-e),c=i*(1-a*e),u=i*(1-(1-a)*e);return n=i,r=u,s=l,o===0&&(n=i,r=u,s=l),o===1&&(n=c,r=i,s=l),o===2&&(n=l,r=i,s=u),o===3&&(n=l,r=c,s=i),o===4&&(n=u,r=l,s=i),o===5&&(n=i,r=l,s=c),n=Math.round(n*255),r=Math.round(r*255),s=Math.round(s*255),{r:n,g:r,b:s}}function Ir(t,e,i){return t=t.toString(16),t.length==1&&(t="0"+t),e=e.toString(16),e.length==1&&(e="0"+e),i=i.toString(16),i.length==1&&(i="0"+i),"#"+(t+e+i).toUpperCase()}function w0(t){let e=bn({state:{currentValue:"",hex:"",rgba:{r:0,g:0,b:0,a:1},hsv:{h:0,s:0,v:0},panelWidth:280,panelHeight:180,cursorSize:6,thumbSize:4,svPos:{x:0,y:0},alphaPos:{x:0},huePos:{y:0}},actions:{updateHuePosition(){let i=e.state.panelHeight,n=e.state.thumbSize;e.state.huePos.y=e.state.hsv.h*i-n/2},setHue(i){i=parseFloat(i.toFixed(2)),e.state.hsv.h=i;let n=hs(e.state.hsv.h,e.state.hsv.s,e.state.hsv.v);e.state.rgba.r=n.r,e.state.rgba.g=n.g,e.state.rgba.b=n.b;let r=Ir(e.state.rgba.r,e.state.rgba.g,e.state.rgba.b);e.state.hex=r},updateAlphaPosition(){let i=e.state.panelWidth,n=e.state.thumbSize;e.state.alphaPos.x=e.state.rgba.a*i-n/2},setAlpha(i){i=parseFloat(i.toFixed(2)),e.state.rgba.a=i},updateSVPosition(){let{s:i,v:n}=e.state.hsv,r=i*e.state.panelWidth,s=(1-n)*e.state.panelHeight;e.state.svPos={x:r,y:s}},setSV(i,n){i=parseFloat(i.toFixed(2)),n=parseFloat(n.toFixed(2)),e.state.hsv={h:e.state.hsv.h,s:i,v:n};let r=hs(e.state.hsv.h,e.state.hsv.s,e.state.hsv.v);e.state.rgba.r=r.r,e.state.rgba.g=r.g,e.state.rgba.b=r.b;let s=Ir(e.state.rgba.r,e.state.rgba.g,e.state.rgba.b);e.state.hex=s},setValue(i){if(i===e.state.currentValue)return;let n=0,r=0,s=0,o=1,a=0,l=0,c=0,u="";i&&({r:n,g:r,b:s,a:o}=b0(i),{h:a,s:l,v:c}=x0(n,r,s),u=Ir(n,r,s)),e.state.hex=u,e.state.rgba={r:n,g:r,b:s,a:o},e.state.hsv={h:a,s:l,v:c},e.state.currentValue=i,e.actions.updateHuePosition(),e.actions.updateAlphaPosition(),e.actions.updateSVPosition()},refreshValue(){if(e.state.rgba.a===1)e.state.currentValue=e.state.hex;else{let{r:i,g:n,b:r,a:s}=e.state.rgba;e.state.currentValue=`rgba(${i}, ${n}, ${r}, ${s})`}}}});return e.actions.setValue(t),Ms(e)}var Pc=Symbol(),Sn=()=>Qt(Pc),wo=he({__name:"ColorPickerTrigger",emits:["focus","blur"],setup(t,{expose:e,emit:i}){e();let n=de("color-trigger"),r=c=>{i("focus",c)},s=c=>{i("blur",c)},o=Sn(),a=Oe(()=>{let{r:c,g:u,b:h,a:f}=o.state.rgba;return`rgba(${c},${u},${h},${f})`}),l={bem:n,emit:i,handleFocus:r,handleBlur:s,context:o,rgba:a};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}});function C0(t,e,i,n,r,s){return D(),W("div",{style:Ve({backgroundColor:n.rgba}),onFocus:n.handleFocus,onBlur:n.handleBlur,role:"button",class:V(n.bem.b()),tabindex:"0"},null,38)}wo.render=C0;wo.__file="src/frameworks/vue/components/color-picker/ColorPickerTrigger.vue";var M0=wo,Co=he({__name:"SvPanel",setup(t,{expose:e}){e();let i=de("color-svpanel"),n=Sn(),r=Oe(()=>{let{r:c,g:u,b:h}=hs(n.state.hsv.h,1,1);return{width:`${n.state.panelWidth}px`,height:`${n.state.panelHeight}px`,background:`rgb(${c}, ${u}, ${h})`}}),s=Oe(()=>({width:n.state.cursorSize+"px",height:n.state.cursorSize+"px",left:n.state.svPos.x+"px",top:n.state.svPos.y+"px"})),o=xn(),a=c=>{let u=o.vnode.el;if(!u)return;let h=u.getBoundingClientRect(),{clientY:f,clientX:d}=c,y=d-h.left,g=f-h.top;y=Math.max(0,y),y=Math.min(y,h.width),g=Math.max(0,g),g=Math.min(g,h.height);let b=y/h.width,w=1-g/h.height;n.actions.setSV(b,w),n.actions.updateSVPosition(),n.actions.refreshValue()},l={bem:i,context:n,panelStyle:r,cursorStyle:s,instance:o,setValueByEvent:a,handleMousedown:c=>{c.preventDefault(),Vt({onDragMove(u){a(u)},onUp(u){a(u)}},c)}};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}});function E0(t,e,i,n,r,s){return D(),W("div",{class:V(n.bem.b()),style:Ve(n.panelStyle),onMousedown:n.handleMousedown},[H("div",{class:V(n.bem.e("white"))},null,2),H("div",{class:V(n.bem.e("black"))},null,2),H("div",{class:V(n.bem.e("cursor")),style:Ve(n.cursorStyle)},null,6)],38)}Co.render=E0;Co.__file="src/frameworks/vue/components/color-picker/SvPanel.vue";var S0=Co,Mo=he({__name:"HueSlider",setup(t,{expose:e}){e();let i=de("color-hue-slider"),n=Sn(),r=Oe(()=>({height:`${n.state.panelHeight}px`})),s=Oe(()=>({height:`${n.state.thumbSize}px`,top:`${n.state.huePos.y}px`})),o=xn(),a=c=>{let u=o.vnode.el;if(!u)return;let h=u.getBoundingClientRect(),{clientY:f}=c,d=n.state.thumbSize,y=f-h.top;y=Math.min(y,h.height-d/2),y=Math.max(d/2,y);let g=(y-d/2)/(h.height-d);n.actions.setHue(g),n.actions.updateHuePosition(),n.actions.refreshValue()},l={bem:i,context:n,sliderStyle:r,thumbStyle:s,instance:o,setValueByEvent:a,handleMousedown:c=>{c.preventDefault(),Vt({onDragMove(u){a(u)},onUp(u){a(u)}},c)}};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}});function _0(t,e,i,n,r,s){return D(),W("div",{class:V(n.bem.b()),onMousedown:n.handleMousedown,style:Ve(n.sliderStyle)},[H("div",{class:V(n.bem.e("bar"))},null,2),H("div",{class:V(n.bem.e("thumb")),style:Ve(n.thumbStyle)},null,6)],38)}Mo.render=_0;Mo.__file="src/frameworks/vue/components/color-picker/HueSlider.vue";var P0=Mo,Eo=he({__name:"AlphaSlider",setup(t,{expose:e}){e();let i=de("color-alpha-slider"),n=Sn(),r=Oe(()=>({width:`${n.state.panelWidth}px`})),s=Oe(()=>({background:`linear-gradient(to right, rgba(0, 0, 0, 0) 0%, rgb(${n.state.rgba.r},${n.state.rgba.g},${n.state.rgba.b}) 100%)`})),o=Oe(()=>({width:`${n.state.thumbSize}px`,left:`${n.state.alphaPos.x}px`})),a=xn(),l=u=>{let h=a.vnode.el;if(!h)return;let f=h.getBoundingClientRect(),{clientX:d}=u,y=n.state.thumbSize,g=d-f.left;g=Math.min(g,f.width-y/2),g=Math.max(y/2,g);let b=(g-y/2)/(f.width-y);n.actions.setAlpha(b),n.actions.updateAlphaPosition(),n.actions.refreshValue()},c={bem:i,context:n,sliderStyle:r,barStyle:s,thumbStyle:o,instance:a,setValueByEvent:l,handleMousedown:u=>{u.preventDefault(),Vt({onDragMove(h){l(h)},onUp(h){l(h)}},u)}};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}});function T0(t,e,i,n,r,s){return D(),W("div",{onMousedown:n.handleMousedown,class:V(n.bem.b()),style:Ve(n.sliderStyle)},[H("div",{class:V(n.bem.e("bar")),style:Ve(n.barStyle)},null,6),H("div",{class:V(n.bem.e("thumb")),style:Ve(n.thumbStyle)},null,6)],38)}Eo.render=T0;Eo.__file="src/frameworks/vue/components/color-picker/AlphaSlider.vue";var O0=Eo,So=he({__name:"Button",props:{disabled:{type:Boolean,default:!1}},emits:["click"],setup(t,{expose:e,emit:i}){e();let n=t,r={bem:de("button"),props:n,emit:i,handleClick:s=>{n.disabled||i("click",s)}};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}});function A0(t,e,i,n,r,s){return D(),W("button",{onClick:n.handleClick,class:V([n.bem.b()])},[bt(t.$slots,"default")],2)}So.render=A0;So.__file="src/frameworks/vue/components/button/Button.vue";var R0=So,_o=he({__name:"ColorPickerPanel",props:{enableAlpha:{type:Boolean,default:!0}},emits:["ok"],setup(t,{expose:e,emit:i}){let n=t,r=de("color-panel"),s=Sn(),o=se(),a=se("");ze([()=>s.state.rgba,()=>s.state.hsv],()=>{if(n.enableAlpha){let{r:f,g:d,b:y,a:g}=s.state.rgba;a.value=`rgba(${f}, ${d}, ${y}, ${g})`}else a.value=s.state.hex},{immediate:!0,deep:!0});let l=f=>{s.actions.setValue(a.value)},c=()=>{i("ok",a.value)},u=()=>o.value;e({getPanelDom:u});let h={bem:r,props:n,emit:i,context:s,panelRef:o,inputValue:a,handleBlur:l,handleOk:c,getPanelDom:u,SvPanel:S0,HueSlider:P0,AlphaSlider:O0,Input:En,Button:R0};return Object.defineProperty(h,"__isScriptSetup",{enumerable:!1,value:!0}),h}});function L0(t,e,i,n,r,s){return D(),W("div",{ref:"panelRef",class:V(n.bem.b())},[H("div",{class:V(n.bem.e("main"))},[J(n.SvPanel),J(n.HueSlider)],2),J(n.AlphaSlider),H("div",{class:V(n.bem.e("btns"))},[J(n.Input,{modelValue:n.inputValue,"onUpdate:modelValue":e[0]||(e[0]=o=>n.inputValue=o),onBlur:n.handleBlur},null,8,["modelValue"]),J(n.Button,{onClick:n.handleOk},{default:tt(()=>[Ls("")]),_:1})],2)],2)}_o.render=L0;_o.__file="src/frameworks/vue/components/color-picker/ColorPickerPanel.vue";var k0=_o,I0=(t,e,i)=>{let n=se(),r=Oe(()=>({onFirstUpdate:()=>{var o;(o=n.value)==null||o.update()},placement:i.value.placement||"bottom",strategy:i.value.strategy||"fixed"})),s=()=>{n.value&&(n.value.destroy(),n.value=void 0)};return ze([t,e],([o,a])=>{s(),!(!o||!a)&&(n.value=gd(o,a,yt(r)),console.log(n.value))}),ze(r,o=>{let a=yt(n);a&&a.setOptions(o)},{deep:!0}),Wi(()=>{s()}),{update:()=>{var o;return(o=n.value)==null?void 0:o.update()}}},Po=he({name:"Popper",__name:"Popper",props:{visible:Boolean,placement:{type:String,default:"left"}},emits:["beforeOpen","beforeClose","clickOutSide","update:visible"],setup(t,{expose:e,emit:i}){e();let n=t,r=de("popper"),s=se(),o=se(),a=Oe(()=>({placement:n.placement})),{update:l}=I0(s,o,a);ze(()=>n.visible,()=>{n.visible?i("beforeOpen"):i("beforeClose"),l()}),wd(o,()=>{i("update:visible",!1),i("clickOutSide")});let c={props:n,emit:i,bem:r,referenceRef:s,popperRef:o,options:a,update:l};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}});function D0(t,e,i,n,r,s){return D(),W("div",{class:V(n.bem.b())},[H("div",{ref:"referenceRef",class:V(n.bem.e("reference"))},[bt(t.$slots,"default")],2),(D(),Te(ql,{to:"body"},[i.visible?(D(),W("div",{key:0,ref:"popperRef",class:V(n.bem.e("content"))},[bt(t.$slots,"content")],2)):Lt("v-if",!0)]))],2)}Po.render=D0;Po.__file="src/frameworks/vue/components/popper/Popper.vue";var Tc=Po,To=he({name:"ColorPicker",__name:"ColorPicker",props:{modelValue:{type:String,default:""},enableAlpha:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(t,{expose:e,emit:i}){e();let n=t,r=de("color"),s=se(),o=se(),a=se(!1),l=w0(n.modelValue);ur(Pc,l);let c={bem:r,panelRef:s,triggerRef:o,visible:a,props:n,emit:i,context:l,handleOpen:()=>{l.actions.setValue(n.modelValue),a.value=!0},handleClickOutSide:()=>{i("update:modelValue",l.state.currentValue)},handleOk:u=>{i("update:modelValue",u),a.value=!1},ColorPickerTrigger:M0,ColorPickerPanel:k0,Popper:Tc};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}});function B0(t,e,i,n,r,s){return D(),Te(n.Popper,{onClickOutSide:n.handleClickOutSide,visible:n.visible,"onUpdate:visible":e[0]||(e[0]=o=>n.visible=o)},{content:tt(()=>[J(n.ColorPickerPanel,{onOk:n.handleOk,enableAlpha:i.enableAlpha,ref:"panelRef"},null,8,["enableAlpha"])]),default:tt(()=>[H("div",{class:V(n.bem.b())},[J(n.ColorPickerTrigger,{ref:"triggerRef",onFocus:n.handleOpen},null,512)],2)]),_:1},8,["visible"])}To.render=B0;To.__file="src/frameworks/vue/components/color-picker/ColorPicker.vue";var Ga=To,Oo=he({name:"IntInput",__name:"IntInput",props:{modelValue:{type:[String,Number],default:""},prepend:{type:String,default:""},append:{type:String,default:""}},emits:["update:modelValue"],setup(t,{expose:e,emit:i}){e();let n=t,r=se(n.modelValue);ze(()=>n.modelValue,()=>{r.value=n.modelValue});let s={props:n,emit:i,vModel:r,handleBlur:()=>{r.value=us(r.value),i("update:modelValue",r.value)},Input:En};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}});function H0(t,e,i,n,r,s){return D(),Te(n.Input,{prepend:i.prepend,append:i.append,modelValue:n.vModel,"onUpdate:modelValue":e[0]||(e[0]=o=>n.vModel=o),onBlur:n.handleBlur},null,8,["prepend","append","modelValue"])}Oo.render=H0;Oo.__file="src/frameworks/vue/components/int-input/IntInput.vue";var Ja=Oo,Ao=he({name:"Option",__name:"Option",props:{option:{type:Object,required:!0},isSelected:{type:Boolean}},setup(t,{expose:e}){e();let i=t,n={bem:de("option"),props:i};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}});function V0(t,e,i,n,r,s){return D(),W("div",{class:V([n.bem.b(),n.bem.is("selected",i.isSelected)])},[H("span",{class:V(n.bem.e("innter"))},[bt(t.$slots,"default",{},()=>[Ls(Li(i.option.label),1)])],2)],2)}Ao.render=V0;Ao.__file="src/frameworks/vue/components/select/Option.vue";var z0=Ao,Ro=he({name:"Select",__name:"Select",props:{options:{type:Array,default:[]},modelValue:{type:[String,Number],default:""}},emits:["update:modelValue"],setup(t,{expose:e,emit:i}){e();let n=t,r=de("select"),s=se(!1),o=se(),a=se(0),l=se(!1),c=()=>{if(!o.value)return;let{width:f}=o.value.getBoundingClientRect();a.value=f,l.value=!0},u=se("");ze([()=>n.modelValue,()=>n.options],()=>{var f;u.value=((f=n.options.find(d=>d.value===n.modelValue))==null?void 0:f.label)||n.modelValue},{deep:!0,immediate:!0});let h={bem:r,props:n,emit:i,isActive:s,inputRef:o,minWidth:a,visible:l,handleFocus:c,inputValue:u,handleClick:f=>{i("update:modelValue",f.value),l.value=!1},Popper:Tc,Input:En,get ArrowDown(){return Bg},Icon:Ec,Option:z0};return Object.defineProperty(h,"__isScriptSetup",{enumerable:!1,value:!0}),h}});function F0(t,e,i,n,r,s){return D(),Te(n.Popper,{onBeforeOpen:e[0]||(e[0]=o=>n.isActive=!0),onBeforeClose:e[1]||(e[1]=o=>n.isActive=!1),placement:"bottom",visible:n.visible,"onUpdate:visible":e[2]||(e[2]=o=>n.visible=o)},{content:tt(()=>[H("div",{style:Ve({minWidth:n.minWidth+"px"}),class:V(n.bem.e("options"))},[(D(!0),W(ve,null,Di(i.options,o=>(D(),Te(n.Option,{"is-selected":o.value===i.modelValue,onClick:a=>n.handleClick(o),key:o.value,option:o},null,8,["is-selected","onClick","option"]))),128))],6)]),default:tt(()=>[H("div",{ref:"inputRef",class:V([n.bem.b(),n.bem.is("active",n.isActive)])},[J(n.Input,{"model-value":n.inputValue,onClick:n.handleFocus,readonly:""},{suffix:tt(()=>[J(n.Icon,{class:V(n.bem.e("arrow"))},{default:tt(()=>[J(n.ArrowDown)]),_:1},8,["class"])]),_:1},8,["model-value"])],2)]),_:1},8,["visible"])}Ro.render=F0;Ro.__file="src/frameworks/vue/components/select/Select.vue";var Qa=Ro,Lo=he({name:"Switch",__name:"Switch",props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,{expose:e,emit:i}){e();let n=t,r={bem:de("switch"),props:n,emit:i,toggle:s=>{i("update:modelValue",s)}};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}});function $0(t,e,i,n,r,s){return D(),W("div",{class:V([n.bem.b(),n.bem.is("active",i.modelValue)])},[H("div",{onClick:e[0]||(e[0]=o=>n.toggle(!i.modelValue)),class:V(n.bem.e("wrapper"))},[H("div",{class:V(n.bem.e("action"))},null,2)],2)],2)}Lo.render=$0;Lo.__file="src/frameworks/vue/components/switch/Switch.vue";var el=Lo,ko=he({__name:"PropertyItem",props:{schema:{type:Object,required:!0}},setup(t,{expose:e}){e();let i=t,n=de("property-item"),r={[Xa.name]:Xa,[Za.name]:Za,[Ga.name]:Ga,[Ja.name]:Ja,[Qa.name]:Qa,[el.name]:el},s=Oe(()=>typeof i.schema.component=="string"?r[i.schema.component]:i.schema.component),o=Oe(()=>i.schema.componentAttrs||{}),a=l0(),l=mo(),c=()=>{let b=a.value;if(i.schema.getter)return i.schema.getter(b);if(i.schema.keyType==="attr")return b.getAttr(i.schema.key);if(i.schema.keyType==="base"){let w=`get${Wa(i.schema.key)}`;return b[w]()}},u=se(c()),h=b=>{let w=a.value;if(i.schema.setter)i.schema.setter(w,b);else if(i.schema.keyType==="attr")w.setAttr(i.schema.key,b);else if(i.schema.keyType==="base"){let C=`set${Wa(i.schema.key)}`;w[C](b)}},f=b=>{let w=c();if(er(w,b))return;h(b);let C={undo:()=>{h(w)},redo:()=>{h(b)}};l.getEditor().actionManager.push(C)},d=b=>{f(b),u.value=c()},y=()=>{u.value=c()};i.schema.watch&&a.value.on(i.schema.watch,y),Wi(()=>{i.schema.watch&&a.value.off(i.schema.watch,y)});let g={bem:n,props:i,componentMap:r,comp:s,compAttrs:o,currentModel:a,store:l,getter:c,vModel:u,setValue:h,setter:f,handleUpdate:d,handleWatch:y};return Object.defineProperty(g,"__isScriptSetup",{enumerable:!1,value:!0}),g}});function N0(t,e,i,n,r,s){return D(),W("div",{class:V(n.bem.b())},[i.schema.label?(D(),W("div",{key:0,class:V(n.bem.e("label"))},Li(i.schema.label),3)):Lt("v-if",!0),H("div",{class:V(n.bem.e("content"))},[n.comp?(D(),Te(qn(n.comp),Is({key:0},n.compAttrs,{"model-value":n.vModel,"onUpdate:modelValue":n.handleUpdate}),null,16,["model-value"])):Lt("v-if",!0)],2)],2)}ko.render=N0;ko.__file="src/frameworks/vue/property-panel/PropertyItem.vue";var j0=ko,Io=he({__name:"PropertyPanel",setup(t,{expose:e}){e();let i=de("property-panel"),n=mo(),r=se([]),s=se(null),o=se(null);ur(_c,o);let a,l=se(!1),c=async()=>{if(l.value=!0,await El(),l.value=!1,r.value=Ii(a.getSelectionList()),!r.value.length)s.value=Ka.scene,o.value=n.getEditor();else if(r.value.length===1){let h=r.value[0].getCategory(),f=Ka[h]||null;s.value=f,o.value=Ii(r.value[0])}else s.value=null,o.value=null};n.ready().then(()=>{a=n.getEditor().selectionManager,a.on("change",c),c()}),Wi(()=>{a.off("change",c)});let u={bem:i,store:n,selectionList:r,currentSchema:s,currentModel:o,get selectionManager(){return a},set selectionManager(h){a=h},forceDestory:l,handleSelectionChange:c,PropertyItem:j0};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}});function W0(t,e,i,n,r,s){return D(),W("div",{class:V([n.bem.b()])},[!n.forceDestory&&n.currentSchema&&n.currentModel?(D(),W("div",{key:n.currentModel.id,class:V(n.bem.e("group-list"))},[(D(!0),W(ve,null,Di(n.currentSchema.propertyGroups,o=>(D(),W("div",{class:V(n.bem.e("group-item"))},[H("div",{class:V(n.bem.e("group-title"))},Li(o.name),3),H("div",{class:V(n.bem.e("property-list"))},[(D(!0),W(ve,null,Di(o.properties,a=>(D(),Te(n.PropertyItem,{schema:a},null,8,["schema"]))),256))],2)],2))),256))],2)):Lt("v-if",!0)],2)}Io.render=W0;Io.__file="src/frameworks/vue/property-panel/PropertyPanel.vue";var U0=Io,Y0=class{constructor(){m(this,"eventMap",new Map);m(this,"eventMapCache",new Map)}on(t,e){return this.eventMap.has(t)||this.eventMap.set(t,[]),this.eventMap.get(t).push(e),this}emit(t,...e){const i=this.eventMap.get(t);return!i||i.length===0?!1:(i.forEach(n=>{n(...e)}),!0)}off(t,e){if(this.eventMap.has(t)){const i=this.eventMap.get(t).filter(n=>n!==e);i.length?this.eventMap.set(t,i):this.eventMap.delete(t)}return this}clear(){this.eventMapCache.clear();const t=this.eventMap.entries();for(const[e,i]of t)this.eventMapCache.set(e,i);this.eventMap.clear()}reset(){this.eventMap.clear();const t=this.eventMapCache.entries();for(const[e,i]of t)this.eventMap.set(e,i)}},q0=[];for(Vn=0;Vn<256;++Vn)q0.push((Vn+256).toString(16).slice(1));var Vn;typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var fs=(t=>(t.rectChange="rectChange",t.change="change",t.mouseIn="mouseIn",t.mouseOut="mouseOut",t.mouseDown="mouseDown",t.mouseUp="mouseUp",t.REPAINT="repaint",t))(fs||{}),Hr,K0=(Hr=class extends Y0{constructor(e){super();m(this,"statusChange",()=>{this.emit("change")});this.editor=e}isActive(){return!1}dispose(){this.clear()}},m(Hr,"name"),Hr);function X0(t){localStorage.setItem("scene-json",JSON.stringify(t))}function Z0(){const t=localStorage.getItem("scene-json");return t?JSON.parse(t):null}class G0 extends K0{constructor(i,n){super(i);m(this,"lastSaveCursor",-1);this.modelManager=n,i.actionManager.on(fs.change,this.statusChange)}isEnable(){return this.editor.actionManager.cursor!==this.lastSaveCursor}execute(){const i=this.editor.getSceneData();X0(i),this.lastSaveCursor=this.editor.actionManager.cursor,this.statusChange()}dispose(){super.dispose(),this.editor.actionManager.off(fs.change,this.statusChange)}getName(){return"save"}getLabel(){return""}}const J0={class:"editor-page"},Q0={class:"editor-header"},ev={class:"header-toolbar"},tv=H("span",null,"stom",-1),iv={class:"editor-content"},nv={class:"editor-box"},rv=he({__name:"App",setup(t){const e=Yo([]),i=n0(),n=Yo(a0());i.register(n.value);const r=o=>{i.setEditor(o);const a=i.getModelManager(),l=Z0();l&&o.parseSceneData(l,a);const c=e0(o);c.push(new G0(o,a)),e.value=Ii(c)},s=()=>{window.open("https://github.com/kkagura/stom")};return(o,a)=>(D(),W("div",J0,[H("div",Q0,[H("div",ev,[J(yt(Qm),{commands:e.value},null,8,["commands"])]),H("div",{onClick:s,class:"header-logo"},[J(yt(nm),{class:"header-icon"}),tv])]),H("div",iv,[J(yt(o0),{"group-list":n.value},null,8,["group-list"]),H("div",nv,[J(yt(Qp),{onReady:r})]),J(yt(U0))])]))}});lf(rv).mount("#app");
